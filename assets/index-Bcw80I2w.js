(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function D0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var id={exports:{}},uo={};var iv;function TT(){if(iv)return uo;iv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return uo.Fragment=e,uo.jsx=i,uo.jsxs=i,uo}var av;function bT(){return av||(av=1,id.exports=TT()),id.exports}var w=bT(),ad={exports:{}},Dt={};var sv;function AT(){if(sv)return Dt;sv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),b=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Q={};function nt(I,Z,ct){this.props=I,this.context=Z,this.refs=Q,this.updater=ct||z}nt.prototype.isReactComponent={},nt.prototype.setState=function(I,Z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Z,"setState")},nt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function st(){}st.prototype=nt.prototype;function ot(I,Z,ct){this.props=I,this.context=Z,this.refs=Q,this.updater=ct||z}var dt=ot.prototype=new st;dt.constructor=ot,K(dt,nt.prototype),dt.isPureReactComponent=!0;var xt=Array.isArray;function Ct(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(I,Z,ct){var ht=ct.ref;return{$$typeof:s,type:I,key:Z,ref:ht!==void 0?ht:null,props:ct}}function M(I,Z){return C(I.type,Z,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function U(I){var Z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ct){return Z[ct]})}var R=/\/+/g;function ee(I,Z){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):Z.toString(36)}function Te(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ct,Ct):(I.status="pending",I.then(function(Z){I.status==="pending"&&(I.status="fulfilled",I.value=Z)},function(Z){I.status==="pending"&&(I.status="rejected",I.reason=Z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Y(I,Z,ct,ht,St){var W=typeof I;(W==="undefined"||W==="boolean")&&(I=null);var it=!1;if(I===null)it=!0;else switch(W){case"bigint":case"string":case"number":it=!0;break;case"object":switch(I.$$typeof){case s:case e:it=!0;break;case E:return it=I._init,Y(it(I._payload),Z,ct,ht,St)}}if(it)return St=St(I),it=ht===""?"."+ee(I,0):ht,xt(St)?(ct="",it!=null&&(ct=it.replace(R,"$&/")+"/"),Y(St,Z,ct,"",function(Nt){return Nt})):St!=null&&(V(St)&&(St=M(St,ct+(St.key==null||I&&I.key===St.key?"":(""+St.key).replace(R,"$&/")+"/")+it)),Z.push(St)),1;it=0;var $=ht===""?".":ht+":";if(xt(I))for(var _t=0;_t<I.length;_t++)ht=I[_t],W=$+ee(ht,_t),it+=Y(ht,Z,ct,W,St);else if(_t=j(I),typeof _t=="function")for(I=_t.call(I),_t=0;!(ht=I.next()).done;)ht=ht.value,W=$+ee(ht,_t++),it+=Y(ht,Z,ct,W,St);else if(W==="object"){if(typeof I.then=="function")return Y(Te(I),Z,ct,ht,St);throw Z=String(I),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return it}function ut(I,Z,ct){if(I==null)return I;var ht=[],St=0;return Y(I,ht,"","",function(W){return Z.call(ct,W,St++)}),ht}function pt(I){if(I._status===-1){var Z=I._result;Z=Z(),Z.then(function(ct){(I._status===0||I._status===-1)&&(I._status=1,I._result=ct)},function(ct){(I._status===0||I._status===-1)&&(I._status=2,I._result=ct)}),I._status===-1&&(I._status=0,I._result=Z)}if(I._status===1)return I._result.default;throw I._result}var jt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Bt={map:ut,forEach:function(I,Z,ct){ut(I,function(){Z.apply(this,arguments)},ct)},count:function(I){var Z=0;return ut(I,function(){Z++}),Z},toArray:function(I){return ut(I,function(Z){return Z})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Dt.Activity=A,Dt.Children=Bt,Dt.Component=nt,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=ot,Dt.StrictMode=r,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Dt.cache=function(I){return function(){return I.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(I,Z,ct){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ht=K({},I.props),St=I.key;if(Z!=null)for(W in Z.key!==void 0&&(St=""+Z.key),Z)!x.call(Z,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&Z.ref===void 0||(ht[W]=Z[W]);var W=arguments.length-2;if(W===1)ht.children=ct;else if(1<W){for(var it=Array(W),$=0;$<W;$++)it[$]=arguments[$+2];ht.children=it}return C(I.type,St,ht)},Dt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Dt.createElement=function(I,Z,ct){var ht,St={},W=null;if(Z!=null)for(ht in Z.key!==void 0&&(W=""+Z.key),Z)x.call(Z,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=Z[ht]);var it=arguments.length-2;if(it===1)St.children=ct;else if(1<it){for(var $=Array(it),_t=0;_t<it;_t++)$[_t]=arguments[_t+2];St.children=$}if(I&&I.defaultProps)for(ht in it=I.defaultProps,it)St[ht]===void 0&&(St[ht]=it[ht]);return C(I,W,St)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(I){return{$$typeof:g,render:I}},Dt.isValidElement=V,Dt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:pt}},Dt.memo=function(I,Z){return{$$typeof:y,type:I,compare:Z===void 0?null:Z}},Dt.startTransition=function(I){var Z=N.T,ct={};N.T=ct;try{var ht=I(),St=N.S;St!==null&&St(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Ct,jt)}catch(W){jt(W)}finally{Z!==null&&ct.types!==null&&(Z.types=ct.types),N.T=Z}},Dt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Dt.use=function(I){return N.H.use(I)},Dt.useActionState=function(I,Z,ct){return N.H.useActionState(I,Z,ct)},Dt.useCallback=function(I,Z){return N.H.useCallback(I,Z)},Dt.useContext=function(I){return N.H.useContext(I)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(I,Z){return N.H.useDeferredValue(I,Z)},Dt.useEffect=function(I,Z){return N.H.useEffect(I,Z)},Dt.useEffectEvent=function(I){return N.H.useEffectEvent(I)},Dt.useId=function(){return N.H.useId()},Dt.useImperativeHandle=function(I,Z,ct){return N.H.useImperativeHandle(I,Z,ct)},Dt.useInsertionEffect=function(I,Z){return N.H.useInsertionEffect(I,Z)},Dt.useLayoutEffect=function(I,Z){return N.H.useLayoutEffect(I,Z)},Dt.useMemo=function(I,Z){return N.H.useMemo(I,Z)},Dt.useOptimistic=function(I,Z){return N.H.useOptimistic(I,Z)},Dt.useReducer=function(I,Z,ct){return N.H.useReducer(I,Z,ct)},Dt.useRef=function(I){return N.H.useRef(I)},Dt.useState=function(I){return N.H.useState(I)},Dt.useSyncExternalStore=function(I,Z,ct){return N.H.useSyncExternalStore(I,Z,ct)},Dt.useTransition=function(){return N.H.useTransition()},Dt.version="19.2.4",Dt}var rv;function $d(){return rv||(rv=1,ad.exports=AT()),ad.exports}var H=$d();const ST=D0(H);var sd={exports:{}},co={},rd={exports:{}},ld={};var lv;function wT(){return lv||(lv=1,(function(s){function e(Y,ut){var pt=Y.length;Y.push(ut);t:for(;0<pt;){var jt=pt-1>>>1,Bt=Y[jt];if(0<o(Bt,ut))Y[jt]=ut,Y[pt]=Bt,pt=jt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ut=Y[0],pt=Y.pop();if(pt!==ut){Y[0]=pt;t:for(var jt=0,Bt=Y.length,I=Bt>>>1;jt<I;){var Z=2*(jt+1)-1,ct=Y[Z],ht=Z+1,St=Y[ht];if(0>o(ct,pt))ht<Bt&&0>o(St,ct)?(Y[jt]=St,Y[ht]=pt,jt=ht):(Y[jt]=ct,Y[Z]=pt,jt=Z);else if(ht<Bt&&0>o(St,pt))Y[jt]=St,Y[ht]=pt,jt=ht;else break t}}return ut}function o(Y,ut){var pt=Y.sortIndex-ut.sortIndex;return pt!==0?pt:Y.id-ut.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var m=[],y=[],E=1,A=null,b=3,j=!1,z=!1,K=!1,Q=!1,nt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function dt(Y){for(var ut=i(y);ut!==null;){if(ut.callback===null)r(y);else if(ut.startTime<=Y)r(y),ut.sortIndex=ut.expirationTime,e(m,ut);else break;ut=i(y)}}function xt(Y){if(K=!1,dt(Y),!z)if(i(m)!==null)z=!0,Ct||(Ct=!0,U());else{var ut=i(y);ut!==null&&Te(xt,ut.startTime-Y)}}var Ct=!1,N=-1,x=5,C=-1;function M(){return Q?!0:!(s.unstable_now()-C<x)}function V(){if(Q=!1,Ct){var Y=s.unstable_now();C=Y;var ut=!0;try{t:{z=!1,K&&(K=!1,st(N),N=-1),j=!0;var pt=b;try{e:{for(dt(Y),A=i(m);A!==null&&!(A.expirationTime>Y&&M());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,b=A.priorityLevel;var Bt=jt(A.expirationTime<=Y);if(Y=s.unstable_now(),typeof Bt=="function"){A.callback=Bt,dt(Y),ut=!0;break e}A===i(m)&&r(m),dt(Y)}else r(m);A=i(m)}if(A!==null)ut=!0;else{var I=i(y);I!==null&&Te(xt,I.startTime-Y),ut=!1}}break t}finally{A=null,b=pt,j=!1}ut=void 0}}finally{ut?U():Ct=!1}}}var U;if(typeof ot=="function")U=function(){ot(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=V,U=function(){ee.postMessage(null)}}else U=function(){nt(V,0)};function Te(Y,ut){N=nt(function(){Y(s.unstable_now())},ut)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var pt=b;b=ut;try{return Y()}finally{b=pt}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(Y,ut){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pt=b;b=Y;try{return ut()}finally{b=pt}},s.unstable_scheduleCallback=function(Y,ut,pt){var jt=s.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?jt+pt:jt):pt=jt,Y){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=pt+Bt,Y={id:E++,callback:ut,priorityLevel:Y,startTime:pt,expirationTime:Bt,sortIndex:-1},pt>jt?(Y.sortIndex=pt,e(y,Y),i(m)===null&&Y===i(y)&&(K?(st(N),N=-1):K=!0,Te(xt,pt-jt))):(Y.sortIndex=Bt,e(m,Y),z||j||(z=!0,Ct||(Ct=!0,U()))),Y},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Y){var ut=b;return function(){var pt=b;b=ut;try{return Y.apply(this,arguments)}finally{b=pt}}}})(ld)),ld}var ov;function xT(){return ov||(ov=1,rd.exports=wT()),rd.exports}var od={exports:{}},fn={};var uv;function RT(){if(uv)return fn;uv=1;var s=$d();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(m,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(m,y,null,E)},fn.flushSync=function(m){var y=d.T,E=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=y,r.p=E,r.d.f()}},fn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},fn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},fn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:j}):E==="script"&&r.d.X(m,{crossOrigin:A,integrity:b,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},fn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);r.d.L(m,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(m,y){if(typeof m=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},fn.requestFormReset=function(m){r.d.r(m)},fn.unstable_batchedUpdates=function(m,y){return m(y)},fn.useFormState=function(m,y,E){return d.H.useFormState(m,y,E)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var cv;function CT(){if(cv)return od.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),od.exports=RT(),od.exports}var hv;function NT(){if(hv)return co;hv=1;var s=xT(),e=$d(),i=CT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case nt:return"Profiler";case Q:return"StrictMode";case xt:return"Suspense";case Ct:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ot:return t.displayName||"Context";case st:return(t._context.displayName||"Context")+".Consumer";case dt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var Te=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},jt=[],Bt=-1;function I(t){return{current:t}}function Z(t){0>Bt||(t.current=jt[Bt],jt[Bt]=null,Bt--)}function ct(t,n){Bt++,jt[Bt]=t.current,t.current=n}var ht=I(null),St=I(null),W=I(null),it=I(null);function $(t,n){switch(ct(W,n),ct(St,t),ct(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xy(n),t=Ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ht),ct(ht,t)}function _t(){Z(ht),Z(St),Z(W)}function Nt(t){t.memoizedState!==null&&ct(it,t);var n=ht.current,a=Ry(n,t.type);n!==a&&(ct(St,t),ct(ht,a))}function Xt(t){St.current===t&&(Z(ht),Z(St)),it.current===t&&(Z(it),so._currentValue=pt)}var ie,Ut;function he(t){if(ie===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ie=n&&n[1]||"",Ut=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+t+Ut}var en=!1;function gn(t,n){if(!t||en)return"";en=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var q=G}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(G){q=G}t.call(tt.prototype)}}else{try{throw Error()}catch(G){q=G}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var D=v.split(`
`),k=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===k.length)for(l=D.length-1,h=k.length-1;1<=l&&0<=h&&D[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==k[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{en=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?he(a):""}function li(t,n){switch(t.tag){case 26:case 27:case 5:return he(t.type);case 16:return he("Lazy");case 13:return t.child!==n&&n!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return gn(t.type,!1);case 11:return gn(t.type.render,!1);case 1:return gn(t.type,!0);case 31:return he("Activity");default:return""}}function Ge(t){try{var n="",a=null;do n+=li(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Jt=Object.prototype.hasOwnProperty,Qt=s.unstable_scheduleCallback,En=s.unstable_cancelCallback,fs=s.unstable_shouldYield,Oe=s.unstable_requestPaint,Qe=s.unstable_now,In=s.unstable_getCurrentPriorityLevel,ya=s.unstable_ImmediatePriority,ds=s.unstable_UserBlockingPriority,Ei=s.unstable_NormalPriority,Js=s.unstable_LowPriority,ms=s.unstable_IdlePriority,Ws=s.log,va=s.unstable_setDisableYieldValue,Tn=null,Me=null;function yn(t){if(typeof Ws=="function"&&va(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Tn,t)}catch{}}var be=Math.clz32?Math.clz32:Et,rt=Math.log,Lt=Math.LN2;function Et(t){return t>>>=0,t===0?32:31-(rt(t)/Lt|0)|0}var nn=256,Qi=262144,Ce=4194304;function Fn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Fn(l):(v&=T,v!==0?h=Fn(v):a||(a=T&~t,a!==0&&(h=Fn(a))))):(T=l&~f,T!==0?h=Fn(T):v!==0?h=Fn(v):a||(a=l&~t,a!==0&&(h=Fn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function tr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var t=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),t}function Qn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ps(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lh(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-be(a),tt=1<<X;T[X]=0,D[X]=-1;var q=k[X];if(q!==null)for(k[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}a&=~tt}l!==0&&gs(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function gs(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function cl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-be(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function hl(t,n){var a=n&-n;return a=(a&42)!==0?1:ys(a),(a&(t.suspendedLanes|n))!==0?0:a}function ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qo(){var t=ut.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function oi(t,n){var a=ut.p;try{return ut.p=t,n()}finally{ut.p=a}}var ui=Math.random().toString(36).slice(2),je="__reactFiber$"+ui,Ze="__reactProps$"+ui,Ti="__reactContainer$"+ui,er="__reactEvents$"+ui,oh="__reactListeners$"+ui,Fo="__reactHandles$"+ui,Go="__reactResources$"+ui,bi="__reactMarker$"+ui;function nr(t){delete t[je],delete t[Ze],delete t[er],delete t[oh],delete t[Fo]}function Ai(t){var n=t[je];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ti]||a[je]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[je])return a;t=My(t)}return n}t=a,a=t.parentNode}return null}function Yn(t){if(t=t[je]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Si(t){var n=t[Go];return n||(n=t[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Le(t){t[bi]=!0}var fl=new Set,dl={};function wi(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(dl[t]=n,t=0;t<n.length;t++)fl.add(n[t])}var ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},gl={};function Qo(t){return Jt.call(gl,t)?!0:Jt.call(pl,t)?!1:ml.test(t)?gl[t]=!0:(pl[t]=!0,!1)}function ir(t,n,a){if(Qo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ue(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _a(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ae(t){if(!t._valueTracker){var n=_a(t)?"checked":"value";t._valueTracker=yl(t,n,""+t[n])}}function vs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=_a(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function An(t){return t.replace(_s,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ar(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?vl(t,v,Je(n)):a!=null?vl(t,v,Je(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Je(T):t.removeAttribute("name")}function Yo(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ae(t);return}a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ae(t)}function vl(t,n,a){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ea(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ko(t,n,a){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Je(a):""}function Ta(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Te(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Je(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ae(t)}function Sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Xo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function El(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&_l(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&_l(t,f,n[f])}function sr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(t){return ba.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Tl=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Aa=null,Ci=null;function Es(t){var n=Yn(t);if(n&&(t=n.stateNode)){var a=t[Ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(ar(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ze]||null;if(!h)throw Error(r(90));ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&vs(l)}break t;case"textarea":Ko(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ea(t,!!a.multiple,n,!1)}}}var lr=!1;function Sa(t,n,a){if(lr)return t(n,a);lr=!0;try{var l=t(n);return l}finally{if(lr=!1,(Aa!==null||Ci!==null)&&(qu(),Aa&&(n=Aa,t=Ci,Ci=Aa=null,Es(n),t)))for(n=0;n<t.length;n++)Es(t[n])}}function hi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ze]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Xn)try{var le={};Object.defineProperty(le,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{Ts=!1}var Ni=null,bl=null,bs=null;function Al(){if(bs)return bs;var t,n=bl,a=n.length,l,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return bs=h.slice(t,1<l?1-l:void 0)}function As(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function fi(){return!1}function an(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:fi,this.isPropagationStopped=fi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=an(Xi),wa=A({},Xi,{view:0,detail:0}),Sl=an(wa),xa,or,Vi,ur=A({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(xa=t.screenX-Vi.screenX,or=t.screenY-Vi.screenY):or=xa=0,Vi=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:or}}),wl=an(ur),Ss=A({},ur,{dataTransfer:0}),Zo=an(Ss),Jo=A({},wa,{relatedTarget:0}),ws=an(Jo),xl=A({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=an(xl),cr=A({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tu=an(cr),eu=A({},Xi,{data:0}),Ii=an(eu),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=au[t])?!!n[t]:!1}function Ra(){return su}var vn=A({},wa,{key:function(t){if(t.key){var n=nu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ru=an(vn),lu=A({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=an(lu),u=A({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),p=an(u),_=A({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=an(_),P=A({},ur,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=an(P),lt=A({},Xi,{newState:0,oldState:0}),It=an(lt),Ne=[9,13,27,32],Wt=Xn&&"CompositionEvent"in window,ve=null;Xn&&"documentMode"in document&&(ve=document.documentMode);var $n=Xn&&"TextEvent"in window&&!ve,Oi=Xn&&(!Wt||ve&&8<ve&&11>=ve),di=" ",mi=!1;function xs(t,n){switch(t){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function GE(t,n){switch(t){case"compositionend":return hr(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return t=n.data,t===di&&mi?null:t;default:return null}}function QE(t,n){if(fr)return t==="compositionend"||!Wt&&xs(t,n)?(t=Al(),bs=bl=Ni=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!YE[t.type]:n==="textarea"}function zm(t,n,a,l){Aa?Ci?Ci.push(l):Ci=[l]:Aa=l,n=$u(n,"onChange"),0<n.length&&(a=new Di("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Rl=null,Cl=null;function KE(t){Ey(t,0)}function ou(t){var n=On(t);if(vs(n))return t}function Pm(t,n){if(t==="change")return n}var Bm=!1;if(Xn){var uh;if(Xn){var ch="oninput"in document;if(!ch){var km=document.createElement("div");km.setAttribute("oninput","return;"),ch=typeof km.oninput=="function"}uh=ch}else uh=!1;Bm=uh&&(!document.documentMode||9<document.documentMode)}function Hm(){Rl&&(Rl.detachEvent("onpropertychange",qm),Cl=Rl=null)}function qm(t){if(t.propertyName==="value"&&ou(Cl)){var n=[];zm(n,Cl,t,Kn(t)),Sa(KE,n)}}function XE(t,n,a){t==="focusin"?(Hm(),Rl=n,Cl=a,Rl.attachEvent("onpropertychange",qm)):t==="focusout"&&Hm()}function $E(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(Cl)}function ZE(t,n){if(t==="click")return ou(n)}function JE(t,n){if(t==="input"||t==="change")return ou(n)}function WE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:WE;function Nl(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Jt.call(n,h)||!jn(t[h],n[h]))return!1}return!0}function Fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,n){var a=Fm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fm(a)}}function Qm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ri(t.document)}return n}function hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var t1=Xn&&"documentMode"in document&&11>=document.documentMode,dr=null,fh=null,Dl=null,dh=!1;function Km(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dh||dr==null||dr!==Ri(l)||(l=dr,"selectionStart"in l&&hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Nl(Dl,l)||(Dl=l,l=$u(fh,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=dr)))}function Rs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var mr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},mh={},Xm={};Xn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Cs(t){if(mh[t])return mh[t];if(!mr[t])return t;var n=mr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return mh[t]=n[a];return t}var $m=Cs("animationend"),Zm=Cs("animationiteration"),Jm=Cs("animationstart"),e1=Cs("transitionrun"),n1=Cs("transitionstart"),i1=Cs("transitioncancel"),Wm=Cs("transitionend"),tp=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function pi(t,n){tp.set(t,n),wi(n,[t])}var uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],pr=0,gh=0;function cu(){for(var t=pr,n=gh=pr=0;n<t;){var a=Zn[n];Zn[n++]=null;var l=Zn[n];Zn[n++]=null;var h=Zn[n];Zn[n++]=null;var f=Zn[n];if(Zn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&ep(a,h,f)}}function hu(t,n,a,l){Zn[pr++]=t,Zn[pr++]=n,Zn[pr++]=a,Zn[pr++]=l,gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yh(t,n,a,l){return hu(t,n,a,l),fu(t)}function Ns(t,n){return hu(t,null,null,n),fu(t)}function ep(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-be(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function fu(t){if(50<Jl)throw Jl=0,Rf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var gr={};function a1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,a,l){return new a1(t,n,a,l)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=Ln(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function np(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function du(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")vh(t)&&(v=1);else if(typeof t=="string")v=uT(t,a,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=Ln(31,a,n,h),t.elementType=C,t.lanes=f,t;case K:return Ds(a.children,h,f,n);case Q:v=8,h|=24;break;case nt:return t=Ln(12,a,n,h|2),t.elementType=nt,t.lanes=f,t;case xt:return t=Ln(13,a,n,h),t.elementType=xt,t.lanes=f,t;case Ct:return t=Ln(19,a,n,h),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:v=10;break t;case st:v=9;break t;case dt:v=11;break t;case N:v=14;break t;case x:v=16,l=null;break t}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Ln(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ds(t,n,a,l){return t=Ln(7,t,l,n),t.lanes=a,t}function _h(t,n,a){return t=Ln(6,t,null,n),t.lanes=a,t}function ip(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function Eh(t,n,a){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ap=new WeakMap;function Jn(t,n){if(typeof t=="object"&&t!==null){var a=ap.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ge(n)},ap.set(t,n),n)}return{value:t,source:n,stack:Ge(n)}}var yr=[],vr=0,mu=null,Vl=0,Wn=[],ti=0,Ca=null,Mi=1,ji="";function Ji(t,n){yr[vr++]=Vl,yr[vr++]=mu,mu=t,Vl=n}function sp(t,n,a){Wn[ti++]=Mi,Wn[ti++]=ji,Wn[ti++]=Ca,Ca=t;var l=Mi;t=ji;var h=32-be(l)-1;l&=~(1<<h),a+=1;var f=32-be(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mi=1<<32-be(n)+h|a<<h|l,ji=f+t}else Mi=1<<f|a<<h|l,ji=t}function Th(t){t.return!==null&&(Ji(t,1),sp(t,1,0))}function bh(t){for(;t===mu;)mu=yr[--vr],yr[vr]=null,Vl=yr[--vr],yr[vr]=null;for(;t===Ca;)Ca=Wn[--ti],Wn[ti]=null,ji=Wn[--ti],Wn[ti]=null,Mi=Wn[--ti],Wn[ti]=null}function rp(t,n){Wn[ti++]=Mi,Wn[ti++]=ji,Wn[ti++]=Ca,Mi=n.id,ji=n.overflow,Ca=t}var sn=null,pe=null,Gt=!1,Na=null,ei=!1,Ah=Error(r(519));function Da(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Jn(n,t)),Ah}function lp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[je]=t,n[Ze]=l,a){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(a=0;a<to.length;a++)Pt(to[a],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":Pt("invalid",n),Yo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",n);break;case"textarea":Pt("invalid",n),Ta(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Sy(n.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",n),Pt("toggle",n)),l.onScroll!=null&&Pt("scroll",n),l.onScrollEnd!=null&&Pt("scrollend",n),l.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||Da(t,!0)}function op(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:sn=sn.return}}function _r(t){if(t!==sn)return!1;if(!Gt)return op(t),Gt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&pe&&Da(t),op(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pe=Oy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pe=Oy(t)}else n===27?(n=pe,Fa(t.type)?(t=Yf,Yf=null,pe=t):pe=n):pe=sn?ii(t.stateNode.nextSibling):null;return!0}function Vs(){pe=sn=null,Gt=!1}function Sh(){var t=Na;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Na=null),t}function Il(t){Na===null?Na=[t]:Na.push(t)}var wh=I(null),Is=null,Wi=null;function Va(t,n,a){ct(wh,n._currentValue),n._currentValue=a}function ta(t){t._currentValue=wh.current,Z(wh)}function xh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Rh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),xh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),xh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Er(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;jn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===it.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}h=h.return}t!==null&&Rh(n,t,a,l),n.flags|=262144}function pu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Is=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return up(Is,t)}function gu(t,n){return Is===null&&Os(t),up(t,n)}function up(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var s1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},r1=s.unstable_scheduleCallback,l1=s.unstable_NormalPriority,ze={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new s1,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&r1(l1,function(){t.controller.abort()})}var Ml=null,Nh=0,Tr=0,br=null;function o1(t,n){if(Ml===null){var a=Ml=[];Nh=0,Tr=Of(),br={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nh++,n.then(cp,cp),n}function cp(){if(--Nh===0&&Ml!==null){br!==null&&(br.status="fulfilled");var t=Ml;Ml=null,Tr=0,br=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function u1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var hp=Y.S;Y.S=function(t,n){Kg=Qe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(t,n),hp!==null&&hp(t,n)};var Ms=I(null);function Dh(){var t=Ms.current;return t!==null?t:fe.pooledCache}function yu(t,n){n===null?ct(Ms,Ms.current):ct(Ms,n.pool)}function fp(){var t=Dh();return t===null?null:{parent:ze._currentValue,pool:t}}var Ar=Error(r(460)),Vh=Error(r(474)),vu=Error(r(542)),_u={then:function(){}};function dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ci,ci),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t;default:if(typeof n.status=="string")n.then(ci,ci);else{if(t=fe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t}throw Ls=n,Ar}}function js(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Ar):a}}var Ls=null;function pp(){if(Ls===null)throw Error(r(459));var t=Ls;return Ls=null,t}function gp(t){if(t===Ar||t===vu)throw Error(r(483))}var Sr=null,jl=0;function Eu(t){var n=jl;return jl+=1,Sr===null&&(Sr=[]),mp(Sr,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tu(t,n){throw n.$$typeof===b?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yp(t){function n(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Zi(L,O),L.index=0,L.sibling=null,L}function f(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,B,J){return O===null||O.tag!==6?(O=_h(B,L.mode,J),O.return=L,O):(O=h(O,B),O.return=L,O)}function D(L,O,B,J){var Tt=B.type;return Tt===K?X(L,O,B.props.children,J,B.key):O!==null&&(O.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===x&&js(Tt)===O.type)?(O=h(O,B.props),Ll(O,B),O.return=L,O):(O=du(B.type,B.key,B.props,null,L.mode,J),Ll(O,B),O.return=L,O)}function k(L,O,B,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Eh(B,L.mode,J),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function X(L,O,B,J,Tt){return O===null||O.tag!==7?(O=Ds(B,L.mode,J,Tt),O.return=L,O):(O=h(O,B),O.return=L,O)}function tt(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=_h(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return B=du(O.type,O.key,O.props,null,L.mode,B),Ll(B,O),B.return=L,B;case z:return O=Eh(O,L.mode,B),O.return=L,O;case x:return O=js(O),tt(L,O,B)}if(Te(O)||U(O))return O=Ds(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return tt(L,Eu(O),B);if(O.$$typeof===ot)return tt(L,gu(L,O),B);Tu(L,O)}return null}function q(L,O,B,J){var Tt=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Tt!==null?null:T(L,O,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===Tt?D(L,O,B,J):null;case z:return B.key===Tt?k(L,O,B,J):null;case x:return B=js(B),q(L,O,B,J)}if(Te(B)||U(B))return Tt!==null?null:X(L,O,B,J,null);if(typeof B.then=="function")return q(L,O,Eu(B),J);if(B.$$typeof===ot)return q(L,O,gu(L,B),J);Tu(L,B)}return null}function G(L,O,B,J,Tt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,T(O,L,""+J,Tt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return L=L.get(J.key===null?B:J.key)||null,D(O,L,J,Tt);case z:return L=L.get(J.key===null?B:J.key)||null,k(O,L,J,Tt);case x:return J=js(J),G(L,O,B,J,Tt)}if(Te(J)||U(J))return L=L.get(B)||null,X(O,L,J,Tt,null);if(typeof J.then=="function")return G(L,O,B,Eu(J),Tt);if(J.$$typeof===ot)return G(L,O,B,gu(O,J),Tt);Tu(O,J)}return null}function mt(L,O,B,J){for(var Tt=null,$t=null,gt=O,Mt=O=0,Ht=null;gt!==null&&Mt<B.length;Mt++){gt.index>Mt?(Ht=gt,gt=null):Ht=gt.sibling;var Zt=q(L,gt,B[Mt],J);if(Zt===null){gt===null&&(gt=Ht);break}t&&gt&&Zt.alternate===null&&n(L,gt),O=f(Zt,O,Mt),$t===null?Tt=Zt:$t.sibling=Zt,$t=Zt,gt=Ht}if(Mt===B.length)return a(L,gt),Gt&&Ji(L,Mt),Tt;if(gt===null){for(;Mt<B.length;Mt++)gt=tt(L,B[Mt],J),gt!==null&&(O=f(gt,O,Mt),$t===null?Tt=gt:$t.sibling=gt,$t=gt);return Gt&&Ji(L,Mt),Tt}for(gt=l(gt);Mt<B.length;Mt++)Ht=G(gt,L,Mt,B[Mt],J),Ht!==null&&(t&&Ht.alternate!==null&&gt.delete(Ht.key===null?Mt:Ht.key),O=f(Ht,O,Mt),$t===null?Tt=Ht:$t.sibling=Ht,$t=Ht);return t&&gt.forEach(function(Xa){return n(L,Xa)}),Gt&&Ji(L,Mt),Tt}function At(L,O,B,J){if(B==null)throw Error(r(151));for(var Tt=null,$t=null,gt=O,Mt=O=0,Ht=null,Zt=B.next();gt!==null&&!Zt.done;Mt++,Zt=B.next()){gt.index>Mt?(Ht=gt,gt=null):Ht=gt.sibling;var Xa=q(L,gt,Zt.value,J);if(Xa===null){gt===null&&(gt=Ht);break}t&&gt&&Xa.alternate===null&&n(L,gt),O=f(Xa,O,Mt),$t===null?Tt=Xa:$t.sibling=Xa,$t=Xa,gt=Ht}if(Zt.done)return a(L,gt),Gt&&Ji(L,Mt),Tt;if(gt===null){for(;!Zt.done;Mt++,Zt=B.next())Zt=tt(L,Zt.value,J),Zt!==null&&(O=f(Zt,O,Mt),$t===null?Tt=Zt:$t.sibling=Zt,$t=Zt);return Gt&&Ji(L,Mt),Tt}for(gt=l(gt);!Zt.done;Mt++,Zt=B.next())Zt=G(gt,L,Mt,Zt.value,J),Zt!==null&&(t&&Zt.alternate!==null&&gt.delete(Zt.key===null?Mt:Zt.key),O=f(Zt,O,Mt),$t===null?Tt=Zt:$t.sibling=Zt,$t=Zt);return t&&gt.forEach(function(ET){return n(L,ET)}),Gt&&Ji(L,Mt),Tt}function ce(L,O,B,J){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:t:{for(var Tt=B.key;O!==null;){if(O.key===Tt){if(Tt=B.type,Tt===K){if(O.tag===7){a(L,O.sibling),J=h(O,B.props.children),J.return=L,L=J;break t}}else if(O.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===x&&js(Tt)===O.type){a(L,O.sibling),J=h(O,B.props),Ll(J,B),J.return=L,L=J;break t}a(L,O);break}else n(L,O);O=O.sibling}B.type===K?(J=Ds(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=du(B.type,B.key,B.props,null,L.mode,J),Ll(J,B),J.return=L,L=J)}return v(L);case z:t:{for(Tt=B.key;O!==null;){if(O.key===Tt)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),J=h(O,B.children||[]),J.return=L,L=J;break t}else{a(L,O);break}else n(L,O);O=O.sibling}J=Eh(B,L.mode,J),J.return=L,L=J}return v(L);case x:return B=js(B),ce(L,O,B,J)}if(Te(B))return mt(L,O,B,J);if(U(B)){if(Tt=U(B),typeof Tt!="function")throw Error(r(150));return B=Tt.call(B),At(L,O,B,J)}if(typeof B.then=="function")return ce(L,O,Eu(B),J);if(B.$$typeof===ot)return ce(L,O,gu(L,B),J);Tu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),J=h(O,B),J.return=L,L=J):(a(L,O),J=_h(B,L.mode,J),J.return=L,L=J),v(L)):a(L,O)}return function(L,O,B,J){try{jl=0;var Tt=ce(L,O,B,J);return Sr=null,Tt}catch(gt){if(gt===Ar||gt===vu)throw gt;var $t=Ln(29,gt,null,L.mode);return $t.lanes=J,$t.return=L,$t}}}var Us=yp(!0),vp=yp(!1),Ia=!1;function Ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=fu(t),ep(t,null,a),n}return hu(t,l,n,a),fu(t)}function Ul(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,cl(t,a)}}function Mh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var jh=!1;function zl(){if(jh){var t=br;if(t!==null)throw t}}function Pl(t,n,a,l){jh=!1;var h=t.updateQueue;Ia=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,k=D.next;D.next=null,v===null?f=k:v.next=k,v=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=k:T.next=k,X.lastBaseUpdate=D))}if(f!==null){var tt=h.baseState;v=0,X=k=D=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(kt&q)===q:(l&q)===q){q!==0&&q===Tr&&(jh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var mt=t,At=T;q=n;var ce=a;switch(At.tag){case 1:if(mt=At.payload,typeof mt=="function"){tt=mt.call(ce,tt,q);break t}tt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,q=typeof mt=="function"?mt.call(ce,tt,q):mt,q==null)break t;tt=A({},tt,q);break t;case 2:Ia=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(k=X=G,D=tt):X=X.next=G,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(D=tt),h.baseState=D,h.firstBaseUpdate=k,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Pa|=v,t.lanes=v,t.memoizedState=tt}}function _p(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_p(a[t],n)}var wr=I(null),bu=I(0);function Tp(t,n){t=ua,ct(bu,t),ct(wr,n),ua=t|n.baseLanes}function Lh(){ct(bu,ua),ct(wr,wr.current)}function Uh(){ua=bu.current,Z(wr),Z(bu)}var Un=I(null),ni=null;function ja(t){var n=t.alternate;ct(De,De.current&1),ct(Un,t),ni===null&&(n===null||wr.current!==null||n.memoizedState!==null)&&(ni=t)}function zh(t){ct(De,De.current),ct(Un,t),ni===null&&(ni=t)}function bp(t){t.tag===22?(ct(De,De.current),ct(Un,t),ni===null&&(ni=t)):La()}function La(){ct(De,De.current),ct(Un,Un.current)}function zn(t){Z(Un),ni===t&&(ni=null),Z(De)}var De=I(0);function Au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gf(a)||Qf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ea=0,Ot=null,oe=null,Pe=null,Su=!1,xr=!1,zs=!1,wu=0,Bl=0,Rr=null,c1=0;function we(){throw Error(r(321))}function Ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!jn(t[a],n[a]))return!1;return!0}function Bh(t,n,a,l,h,f){return ea=f,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?sg:ef,zs=!1,f=a(l,h),zs=!1,xr&&(f=Sp(n,a,l,h)),Ap(t),f}function Ap(t){Y.H=ql;var n=oe!==null&&oe.next!==null;if(ea=0,Pe=oe=Ot=null,Su=!1,Bl=0,Rr=null,n)throw Error(r(300));t===null||Be||(t=t.dependencies,t!==null&&pu(t)&&(Be=!0))}function Sp(t,n,a,l){Ot=t;var h=0;do{if(xr&&(Rr=null),Bl=0,xr=!1,25<=h)throw Error(r(301));if(h+=1,Pe=oe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=rg,f=n(a,l)}while(xr);return f}function h1(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?kl(n):n,t=t.useState()[0],(oe!==null?oe.memoizedState:null)!==t&&(Ot.flags|=1024),n}function kh(){var t=wu!==0;return wu=0,t}function Hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function qh(t){if(Su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Su=!1}ea=0,Pe=oe=Ot=null,xr=!1,Bl=wu=0,Rr=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Ot.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function Ve(){if(oe===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var n=Pe===null?Ot.memoizedState:Pe.next;if(n!==null)Pe=n,oe=t;else{if(t===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Pe===null?Ot.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(t){var n=Bl;return Bl+=1,Rr===null&&(Rr=[]),t=mp(Rr,t,n),n=Ot,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?sg:ef),t}function Ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===ot)return rn(t)}throw Error(r(438,String(t)))}function Fh(t){var n=null,a=Ot.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=xu(),Ot.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function na(t,n){return typeof n=="function"?n(t):n}function Cu(t){var n=Ve();return Gh(n,oe,t)}function Gh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,D=null,k=n,X=!1;do{var tt=k.lane&-536870913;if(tt!==k.lane?(kt&tt)===tt:(ea&tt)===tt){var q=k.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),tt===Tr&&(X=!0);else if((ea&q)===q){k=k.next,q===Tr&&(X=!0);continue}else tt={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=tt,v=f):D=D.next=tt,Ot.lanes|=q,Pa|=q;tt=k.action,zs&&a(f,tt),f=k.hasEagerState?k.eagerState:a(f,tt)}else q={lane:tt,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=q,v=f):D=D.next=q,Ot.lanes|=tt,Pa|=tt;k=k.next}while(k!==null&&k!==n);if(D===null?v=f:D.next=T,!jn(f,t.memoizedState)&&(Be=!0,X&&(a=br,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qh(t){var n=Ve(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);jn(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function wp(t,n,a){var l=Ot,h=Ve(),f=Gt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!jn((oe||h).memoizedState,a);if(v&&(h.memoizedState=a,Be=!0),h=h.queue,Xh(Cp.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,Cr(9,{destroy:void 0},Rp.bind(null,l,h,a,n),null),fe===null)throw Error(r(349));f||(ea&127)!==0||xp(l,n,a)}return a}function xp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ot.updateQueue,n===null?(n=xu(),Ot.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rp(t,n,a,l){n.value=a,n.getSnapshot=l,Np(n)&&Dp(t)}function Cp(t,n,a){return a(function(){Np(n)&&Dp(t)})}function Np(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!jn(t,a)}catch{return!0}}function Dp(t){var n=Ns(t,2);n!==null&&Nn(n,t,2)}function Yh(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),zs){yn(!0);try{a()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},n}function Vp(t,n,a,l){return t.baseState=a,Gh(t,oe,typeof l=="function"?l:na)}function f1(t,n,a,l,h){if(Vu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Ip(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ip(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Y.T,v={};Y.T=v;try{var T=a(h,l),D=Y.S;D!==null&&D(v,T),Op(t,n,T)}catch(k){Kh(t,n,k)}finally{f!==null&&v.types!==null&&(f.types=v.types),Y.T=f}}else try{f=a(h,l),Op(t,n,f)}catch(k){Kh(t,n,k)}}function Op(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mp(t,n,l)},function(l){return Kh(t,n,l)}):Mp(t,n,a)}function Mp(t,n,a){n.status="fulfilled",n.value=a,jp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ip(t,a)))}function Kh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,jp(n),n=n.next;while(n!==l)}t.action=null}function jp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lp(t,n){return n}function Up(t,n){if(Gt){var a=fe.formState;if(a!==null){t:{var l=Ot;if(Gt){if(pe){e:{for(var h=pe,f=ei;h.nodeType!==8;){if(!f){h=null;break e}if(h=ii(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pe=ii(h.nextSibling),l=h.data==="F!";break t}}Da(l)}l=!1}l&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=l,a=ng.bind(null,Ot,l),l.dispatch=a,l=Yh(!1),f=tf.bind(null,Ot,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=f1.bind(null,Ot,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function zp(t){var n=Ve();return Pp(n,oe,t)}function Pp(t,n,a){if(n=Gh(t,n,Lp)[0],t=Cu(na)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=kl(n)}catch(v){throw v===Ar?vu:v}else l=n;n=Ve();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ot.flags|=2048,Cr(9,{destroy:void 0},d1.bind(null,h,a),null)),[l,f,t]}function d1(t,n){t.action=n}function Bp(t){var n=Ve(),a=oe;if(a!==null)return Pp(n,a,t);Ve(),n=n.memoizedState,a=Ve();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Cr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=xu(),Ot.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function kp(){return Ve().memoizedState}function Nu(t,n,a,l){var h=_n();Ot.flags|=t,h.memoizedState=Cr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Du(t,n,a,l){var h=Ve();l=l===void 0?null:l;var f=h.memoizedState.inst;oe!==null&&l!==null&&Ph(l,oe.memoizedState.deps)?h.memoizedState=Cr(n,f,a,l):(Ot.flags|=t,h.memoizedState=Cr(1|n,f,a,l))}function Hp(t,n){Nu(8390656,8,t,n)}function Xh(t,n){Du(2048,8,t,n)}function m1(t){Ot.flags|=4;var n=Ot.updateQueue;if(n===null)n=xu(),Ot.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function qp(t){var n=Ve().memoizedState;return m1({ref:n,nextImpl:t}),function(){if((te&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fp(t,n){return Du(4,2,t,n)}function Gp(t,n){return Du(4,4,t,n)}function Qp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yp(t,n,a){a=a!=null?a.concat([t]):null,Du(4,4,Qp.bind(null,n,t),a)}function $h(){}function Kp(t,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xp(t,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ph(n,l[1]))return l[0];if(l=t(),zs){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l}function Zh(t,n,a){return a===void 0||(ea&1073741824)!==0&&(kt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$g(),Ot.lanes|=t,Pa|=t,a)}function $p(t,n,a,l){return jn(a,n)?a:wr.current!==null?(t=Zh(t,a,l),jn(t,n)||(Be=!0),t):(ea&42)===0||(ea&1073741824)!==0&&(kt&261930)===0?(Be=!0,t.memoizedState=a):(t=$g(),Ot.lanes|=t,Pa|=t,n)}function Zp(t,n,a,l,h){var f=ut.p;ut.p=f!==0&&8>f?f:8;var v=Y.T,T={};Y.T=T,tf(t,!1,n,a);try{var D=h(),k=Y.S;if(k!==null&&k(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=u1(D,l);Hl(t,n,X,kn(t))}else Hl(t,n,l,kn(t))}catch(tt){Hl(t,n,{then:function(){},status:"rejected",reason:tt},kn())}finally{ut.p=f,v!==null&&T.types!==null&&(v.types=T.types),Y.T=v}}function p1(){}function Jh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Jp(t).queue;Zp(t,h,n,pt,a===null?p1:function(){return Wp(t),a(l)})}function Jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wp(t){var n=Jp(t);n.next===null&&(n=t.alternate.memoizedState),Hl(t,n.next.queue,{},kn())}function Wh(){return rn(so)}function tg(){return Ve().memoizedState}function eg(){return Ve().memoizedState}function g1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=kn();t=Oa(a);var l=Ma(n,t,a);l!==null&&(Nn(l,n,a),Ul(l,n,a)),n={cache:Ch()},t.payload=n;return}n=n.return}}function y1(t,n,a){var l=kn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(t)?ig(n,a):(a=yh(t,n,a,l),a!==null&&(Nn(a,t,l),ag(a,n,l)))}function ng(t,n,a){var l=kn();Hl(t,n,a,l)}function Hl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(t))ig(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,jn(T,v))return hu(t,n,h,0),fe===null&&cu(),!1}catch{}if(a=yh(t,n,h,l),a!==null)return Nn(a,t,l),ag(a,n,l),!0}return!1}function tf(t,n,a,l){if(l={lane:2,revertLane:Of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vu(t)){if(n)throw Error(r(479))}else n=yh(t,a,l,2),n!==null&&Nn(n,t,2)}function Vu(t){var n=t.alternate;return t===Ot||n!==null&&n===Ot}function ig(t,n){xr=Su=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ag(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,cl(t,a)}}var ql={readContext:rn,use:Ru,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};ql.useEffectEvent=we;var sg={readContext:rn,use:Ru,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Hp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Nu(4194308,4,Qp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Nu(4194308,4,t,n)},useInsertionEffect:function(t,n){Nu(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var l=t();if(zs){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=_n();if(a!==void 0){var h=a(n);if(zs){yn(!0);try{a(n)}finally{yn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=y1.bind(null,Ot,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Yh(t);var n=t.queue,a=ng.bind(null,Ot,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(t,n){var a=_n();return Zh(a,t,n)},useTransition:function(){var t=Yh(!1);return t=Zp.bind(null,Ot,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ot,h=_n();if(Gt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),fe===null)throw Error(r(349));(kt&127)!==0||xp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Hp(Cp.bind(null,l,f,t),[t]),l.flags|=2048,Cr(9,{destroy:void 0},Rp.bind(null,l,f,a,n),null),a},useId:function(){var t=_n(),n=fe.identifierPrefix;if(Gt){var a=ji,l=Mi;a=(l&~(1<<32-be(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=c1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Wh,useFormState:Up,useActionState:Up,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=tf.bind(null,Ot,!0,a),a.dispatch=n,[t,n]},useMemoCache:Fh,useCacheRefresh:function(){return _n().memoizedState=g1.bind(null,Ot)},useEffectEvent:function(t){var n=_n(),a={impl:t};return n.memoizedState=a,function(){if((te&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ef={readContext:rn,use:Ru,useCallback:Kp,useContext:rn,useEffect:Xh,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Cu,useRef:kp,useState:function(){return Cu(na)},useDebugValue:$h,useDeferredValue:function(t,n){var a=Ve();return $p(a,oe.memoizedState,t,n)},useTransition:function(){var t=Cu(na)[0],n=Ve().memoizedState;return[typeof t=="boolean"?t:kl(t),n]},useSyncExternalStore:wp,useId:tg,useHostTransitionStatus:Wh,useFormState:zp,useActionState:zp,useOptimistic:function(t,n){var a=Ve();return Vp(a,oe,t,n)},useMemoCache:Fh,useCacheRefresh:eg};ef.useEffectEvent=qp;var rg={readContext:rn,use:Ru,useCallback:Kp,useContext:rn,useEffect:Xh,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Qh,useRef:kp,useState:function(){return Qh(na)},useDebugValue:$h,useDeferredValue:function(t,n){var a=Ve();return oe===null?Zh(a,t,n):$p(a,oe.memoizedState,t,n)},useTransition:function(){var t=Qh(na)[0],n=Ve().memoizedState;return[typeof t=="boolean"?t:kl(t),n]},useSyncExternalStore:wp,useId:tg,useHostTransitionStatus:Wh,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=Ve();return oe!==null?Vp(a,oe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:eg};rg.useEffectEvent=qp;function nf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var af={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=kn(),h=Oa(l);h.payload=n,a!=null&&(h.callback=a),n=Ma(t,h,l),n!==null&&(Nn(n,t,l),Ul(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=kn(),h=Oa(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ma(t,h,l),n!==null&&(Nn(n,t,l),Ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=kn(),l=Oa(a);l.tag=2,n!=null&&(l.callback=n),n=Ma(t,l,a),n!==null&&(Nn(n,t,a),Ul(n,t,a))}};function lg(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Nl(a,l)||!Nl(h,f):!0}function og(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&af.enqueueReplaceState(n,n.state,null)}function Ps(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ug(t){uu(t)}function cg(t){console.error(t)}function hg(t){uu(t)}function Iu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(t,n,a){return a=Oa(a),a.tag=3,a.payload={element:null},a.callback=function(){Iu(t,n)},a}function dg(t){return t=Oa(t),t.tag=3,t}function mg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){fg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fg(n,a,l),typeof h!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function v1(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Er(n,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return ni===null?Fu():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Df(t,l,h)),!1;case 22:return a.flags|=65536,l===_u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Df(t,l,h)),!1}throw Error(r(435,a.tag))}return Df(t,l,h),Fu(),!1}if(Gt)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ah&&(t=Error(r(422),{cause:l}),Il(Jn(t,a)))):(l!==Ah&&(n=Error(r(423),{cause:l}),Il(Jn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Jn(l,a),h=sf(t.stateNode,l,h),Mh(t,h),xe!==4&&(xe=2)),!1;var f=Error(r(520),{cause:l});if(f=Jn(f,a),Zl===null?Zl=[f]:Zl.push(f),xe!==4&&(xe=2),n===null)return!0;l=Jn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sf(a.stateNode,l,t),Mh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ba===null||!Ba.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dg(h),mg(h,t,a,l),Mh(a,h),!1}a=a.return}while(a!==null);return!1}var rf=Error(r(461)),Be=!1;function ln(t,n,a,l){n.child=t===null?vp(n,null,a,l):Us(n,t.child,a,l)}function pg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(n),l=Bh(t,n,a,v,f,h),T=kh(),t!==null&&!Be?(Hh(t,n,h),ia(t,n,h)):(Gt&&T&&Th(n),n.flags|=1,ln(t,n,l,h),n.child)}function gg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yg(t,n,f,l,h)):(t=du(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Nl,a(v,l)&&t.ref===n.ref)return ia(t,n,h)}return n.flags|=1,t=Zi(f,l),t.ref=n.ref,t.return=n,n.child=t}function yg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Nl(f,l)&&t.ref===n.ref)if(Be=!1,n.pendingProps=l=f,mf(t,h))(t.flags&131072)!==0&&(Be=!0);else return n.lanes=t.lanes,ia(t,n,h)}return lf(t,n,a,l,h)}function vg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return _g(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(n,f!==null?f.cachePool:null),f!==null?Tp(n,f):Lh(),bp(n);else return l=n.lanes=536870912,_g(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(yu(n,f.cachePool),Tp(n,f),La(),n.memoizedState=null):(t!==null&&yu(n,null),Lh(),La());return ln(t,n,h,a),n.child}function Fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _g(t,n,a,l,h){var f=Dh();return f=f===null?null:{parent:ze._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&yu(n,null),Lh(),bp(n),t!==null&&Er(t,n,l,!0),n.childLanes=h,null}function Ou(t,n){return n=ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Eg(t,n,a){return Us(n,t.child,null,a),t=Ou(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function _1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Gt){if(l.mode==="hidden")return t=Ou(n,l),n.lanes=536870912,Fl(null,t);if(zh(n),(t=pe)?(t=Iy(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ca!==null?{id:Mi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,sn=n,pe=null)):t=null,t===null)throw Da(n);return n.lanes=536870912,null}return Ou(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(zh(n),h)if(n.flags&256)n.flags&=-257,n=Eg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Be||Er(t,n,a,!1),h=(a&t.childLanes)!==0,Be||h){if(l=fe,l!==null&&(v=hl(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ns(t,v),Nn(l,t,v),rf;Fu(),n=Eg(t,n,a)}else t=f.treeContext,pe=ii(v.nextSibling),sn=n,Gt=!0,Na=null,ei=!1,t!==null&&rp(n,t),n=Ou(n,l),n.flags|=4096;return n}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Mu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function lf(t,n,a,l,h){return Os(n),a=Bh(t,n,a,l,void 0,h),l=kh(),t!==null&&!Be?(Hh(t,n,h),ia(t,n,h)):(Gt&&l&&Th(n),n.flags|=1,ln(t,n,a,h),n.child)}function Tg(t,n,a,l,h,f){return Os(n),n.updateQueue=null,a=Sp(n,l,a,h),Ap(t),l=kh(),t!==null&&!Be?(Hh(t,n,f),ia(t,n,f)):(Gt&&l&&Th(n),n.flags|=1,ln(t,n,a,f),n.child)}function bg(t,n,a,l,h){if(Os(n),n.stateNode===null){var f=gr,v=a.contextType;typeof v=="object"&&v!==null&&(f=rn(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ih(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?rn(v):gr,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nf(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&af.enqueueReplaceState(f,f.state,null),Pl(n,l,f,h),zl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=Ps(a,T);f.props=D;var k=f.context,X=a.contextType;v=gr,typeof X=="object"&&X!==null&&(v=rn(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==v)&&og(n,f,l,v),Ia=!1;var q=n.memoizedState;f.state=q,Pl(n,l,f,h),zl(),k=n.memoizedState,T||q!==k||Ia?(typeof tt=="function"&&(nf(n,a,tt,l),k=n.memoizedState),(D=Ia||lg(n,a,D,l,q,k,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=v,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Oh(t,n),v=n.memoizedProps,X=Ps(a,v),f.props=X,tt=n.pendingProps,q=f.context,k=a.contextType,D=gr,typeof k=="object"&&k!==null&&(D=rn(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==tt||q!==D)&&og(n,f,l,D),Ia=!1,q=n.memoizedState,f.state=q,Pl(n,l,f,h),zl();var G=n.memoizedState;v!==tt||q!==G||Ia||t!==null&&t.dependencies!==null&&pu(t.dependencies)?(typeof T=="function"&&(nf(n,a,T,l),G=n.memoizedState),(X=Ia||lg(n,a,X,l,q,G,D)||t!==null&&t.dependencies!==null&&pu(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=D,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Mu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Us(n,t.child,null,h),n.child=Us(n,null,a,h)):ln(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ia(t,n,h),t}function Ag(t,n,a,l){return Vs(),n.flags|=256,ln(t,n,a,l),n.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(t){return{baseLanes:t,cachePool:fp()}}function cf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Bn),t}function Sg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Gt){if(h?ja(n):La(),(t=pe)?(t=Iy(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ca!==null?{id:Mi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,sn=n,pe=null)):t=null,t===null)throw Da(n);return Qf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(La(),h=n.mode,T=ju({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=uf(a),l.childLanes=cf(t,v,a),n.memoizedState=of,Fl(null,l)):(ja(n),hf(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ja(n),n.flags&=-257,n=ff(t,n,a)):n.memoizedState!==null?(La(),n.child=t.child,n.flags|=128,n=null):(La(),T=l.fallback,h=n.mode,l=ju({mode:"visible",children:l.children},h),T=Ds(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Us(n,t.child,null,a),l=n.child,l.memoizedState=uf(a),l.childLanes=cf(t,v,a),n.memoizedState=of,n=Fl(null,l));else if(ja(n),Qf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(r(419)),l.stack="",l.digest=v,Il({value:l,source:null,stack:null}),n=ff(t,n,a)}else if(Be||Er(t,n,a,!1),v=(a&t.childLanes)!==0,Be||v){if(v=fe,v!==null&&(l=hl(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ns(t,l),Nn(v,t,l),rf;Gf(T)||Fu(),n=ff(t,n,a)}else Gf(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,pe=ii(T.nextSibling),sn=n,Gt=!0,Na=null,ei=!1,t!==null&&rp(n,t),n=hf(n,l.children),n.flags|=4096);return n}return h?(La(),T=l.fallback,h=n.mode,D=t.child,k=D.sibling,l=Zi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,k!==null?T=Zi(k,T):(T=Ds(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Fl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=uf(a):(h=T.cachePool,h!==null?(D=ze._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=fp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=cf(t,v,a),n.memoizedState=of,Fl(t.child,l)):(ja(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function hf(t,n){return n=ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ju(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function ff(t,n,a){return Us(n,t.child,null,a),t=hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xh(t.return,n,a)}function df(t,n,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function xg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=De.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,ct(De,v),ln(t,n,l,a),l=Gt?Vl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,a,n);else if(t.tag===19)wg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),df(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Au(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}df(n,!0,a,null,f,l);break;case"together":df(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ia(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Pa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Er(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pu(t)))}function E1(t,n,a){switch(n.tag){case 3:$(n,n.stateNode.containerInfo),Va(n,ze,t.memoizedState.cache),Vs();break;case 27:case 5:Nt(n);break;case 4:$(n,n.stateNode.containerInfo);break;case 10:Va(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sg(t,n,a):(ja(n),t=ia(t,n,a),t!==null?t.sibling:null);ja(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Er(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return xg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ct(De,De.current),l)break;return null;case 22:return n.lanes=0,vg(t,n,a,n.pendingProps);case 24:Va(n,ze,t.memoizedState.cache)}return ia(t,n,a)}function Rg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Be=!0;else{if(!mf(t,a)&&(n.flags&128)===0)return Be=!1,E1(t,n,a);Be=(t.flags&131072)!==0}else Be=!1,Gt&&(n.flags&1048576)!==0&&sp(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=js(n.elementType),n.type=t,typeof t=="function")vh(t)?(l=Ps(t,l),n.tag=1,n=bg(null,n,t,l,a)):(n.tag=0,n=lf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===dt){n.tag=11,n=pg(null,n,t,l,a);break t}else if(h===N){n.tag=14,n=gg(null,n,t,l,a);break t}}throw n=ee(t)||t,Error(r(306,n,""))}}return n;case 0:return lf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ps(l,n.pendingProps),bg(t,n,l,h,a);case 3:t:{if($(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Oh(t,n),Pl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Va(n,ze,l),l!==f.cache&&Rh(n,[ze],a,!0),zl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ag(t,n,l,a);break t}else if(l!==h){h=Jn(Error(r(424)),n),Il(h),n=Ag(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pe=ii(t.firstChild),sn=n,Gt=!0,Na=null,ei=!0,a=vp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vs(),l===h){n=ia(t,n,a);break t}ln(t,n,l,a)}n=n.child}return n;case 26:return Mu(t,n),t===null?(a=zy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Gt||(a=n.type,t=n.pendingProps,l=Zu(W.current).createElement(a),l[je]=n,l[Ze]=t,on(l,a,t),Le(l),n.stateNode=l):n.memoizedState=zy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Nt(n),t===null&&Gt&&(l=n.stateNode=jy(n.type,n.pendingProps,W.current),sn=n,ei=!0,h=pe,Fa(n.type)?(Yf=h,pe=ii(l.firstChild)):pe=h),ln(t,n,n.pendingProps.children,a),Mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Gt&&((h=l=pe)&&(l=$1(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,sn=n,pe=ii(l.firstChild),ei=!1,h=!0):h=!1),h||Da(n)),Nt(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Hf(h,f)?l=null:v!==null&&Hf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(t,n,h1,null,null,a),so._currentValue=h),Mu(t,n),ln(t,n,l,a),n.child;case 6:return t===null&&Gt&&((t=a=pe)&&(a=Z1(a,n.pendingProps,ei),a!==null?(n.stateNode=a,sn=n,pe=null,t=!0):t=!1),t||Da(n)),null;case 13:return Sg(t,n,a);case 4:return $(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Us(n,null,l,a):ln(t,n,l,a),n.child;case 11:return pg(t,n,n.type,n.pendingProps,a);case 7:return ln(t,n,n.pendingProps,a),n.child;case 8:return ln(t,n,n.pendingProps.children,a),n.child;case 12:return ln(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Va(n,n.type,l.value),ln(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Os(n),h=rn(h),l=l(h),n.flags|=1,ln(t,n,l,a),n.child;case 14:return gg(t,n,n.type,n.pendingProps,a);case 15:return yg(t,n,n.type,n.pendingProps,a);case 19:return xg(t,n,a);case 31:return _1(t,n,a);case 22:return vg(t,n,a,n.pendingProps);case 24:return Os(n),l=rn(ze),t===null?(h=Dh(),h===null&&(h=fe,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Ih(n),Va(n,ze,h)):((t.lanes&a)!==0&&(Oh(t,n),Pl(n,null,null,a),zl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Va(n,ze,l)):(l=f.cache,Va(n,ze,l),l!==h.cache&&Rh(n,[ze],a,!0))),ln(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function aa(t){t.flags|=4}function pf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ty())t.flags|=8192;else throw Ls=_u,Vh}else t.flags&=-16777217}function Cg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qy(n))if(ty())t.flags|=8192;else throw Ls=_u,Vh}function Lu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$e():536870912,t.lanes|=n,Ir|=n)}function Gl(t,n){if(!Gt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ge(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function T1(t,n,a){var l=n.pendingProps;switch(bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ta(ze),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(_r(n)?aa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sh())),ge(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(aa(n),f!==null?(ge(n),Cg(n,f)):(ge(n),pf(n,h,null,l,a))):f?f!==t.memoizedState?(aa(n),ge(n),Cg(n,f)):(ge(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&aa(n),ge(n),pf(n,h,t,l,a)),null;case 27:if(Xt(n),a=W.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ge(n),null}t=ht.current,_r(n)?lp(n):(t=jy(h,l,a),n.stateNode=t,aa(n))}return ge(n),null;case 5:if(Xt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ge(n),null}if(f=ht.current,_r(n))lp(n);else{var v=Zu(W.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[je]=n,f[Ze]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;t:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&aa(n)}}return ge(n),pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=W.current,_r(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[je]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sy(t.nodeValue,a)),t||Da(n,!0)}else t=Zu(t).createTextNode(l),t[je]=n,n.stateNode=t}return ge(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=_r(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[je]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),t=!1}else a=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ge(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_r(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[je]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),h=!1}else h=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Lu(n,n.updateQueue),ge(n),null);case 4:return _t(),t===null&&Uf(n.stateNode.containerInfo),ge(n),null;case 10:return ta(n.type),ge(n),null;case 19:if(Z(De),l=n.memoizedState,l===null)return ge(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Gl(l,!1);else{if(xe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Au(t),f!==null){for(n.flags|=128,Gl(l,!1),t=f.updateQueue,n.updateQueue=t,Lu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)np(a,t),a=a.sibling;return ct(De,De.current&1|2),Gt&&Ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Qe()>ku&&(n.flags|=128,h=!0,Gl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Au(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Lu(n,t),Gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Gt)return ge(n),null}else 2*Qe()-l.renderingStartTime>ku&&a!==536870912&&(n.flags|=128,h=!0,Gl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qe(),t.sibling=null,a=De.current,ct(De,h?a&1|2:a&1),Gt&&Ji(n,l.treeForkCount),t):(ge(n),null);case 22:case 23:return zn(n),Uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),a=n.updateQueue,a!==null&&Lu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Z(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ta(ze),ge(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function b1(t,n){switch(bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ta(ze),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xt(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(r(340));Vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(De),null;case 4:return _t(),null;case 10:return ta(n.type),null;case 22:case 23:return zn(n),Uh(),t!==null&&Z(Ms),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ta(ze),null;case 25:return null;default:return null}}function Ng(t,n){switch(bh(n),n.tag){case 3:ta(ze),_t();break;case 26:case 27:case 5:Xt(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:Z(De);break;case 10:ta(n.type);break;case 22:case 23:zn(n),Uh(),t!==null&&Z(Ms);break;case 24:ta(ze)}}function Ql(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){re(n,n.return,T)}}function Ua(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var D=a,k=T;try{k()}catch(X){re(h,D,X)}}}l=l.next}while(l!==f)}}catch(X){re(n,n.return,X)}}function Dg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(l){re(t,t.return,l)}}}function Vg(t,n,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){re(t,n,l)}}function Yl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){re(t,n,h)}}function Li(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){re(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){re(t,n,h)}else a.current=null}function Ig(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){re(t,t.return,h)}}function gf(t,n,a){try{var l=t.stateNode;F1(l,t.type,a,n),l[Ze]=n}catch(h){re(t,t.return,h)}}function Og(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fa(t.type)||t.tag===4}function yf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ci));else if(l!==4&&(l===27&&Fa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,a),t=t.sibling;t!==null;)vf(t,n,a),t=t.sibling}function Uu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Fa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uu(t,n,a),t=t.sibling;t!==null;)Uu(t,n,a),t=t.sibling}function Mg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,a),n[je]=t,n[Ze]=a}catch(f){re(t,t.return,f)}}var sa=!1,ke=!1,_f=!1,jg=typeof WeakSet=="function"?WeakSet:Set,We=null;function A1(t,n){if(t=t.containerInfo,Bf=ac,t=Ym(t),hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,k=0,X=0,tt=t,q=null;e:for(;;){for(var G;tt!==a||h!==0&&tt.nodeType!==3||(T=v+h),tt!==f||l!==0&&tt.nodeType!==3||(D=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(G=tt.firstChild)!==null;)q=tt,tt=G;for(;;){if(tt===t)break e;if(q===a&&++k===h&&(T=v),q===f&&++X===l&&(D=v),(G=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(kf={focusedElem:t,selectionRange:a},ac=!1,We=n;We!==null;)if(n=We,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,We=t;else for(;We!==null;){switch(n=We,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var mt=Ps(a.type,h);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){re(a,a.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,We=t;break}We=n.return}}function Lg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:la(t,a),l&4&&Ql(5,a);break;case 1:if(la(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){re(a,a.return,v)}else{var h=Ps(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){re(a,a.return,v)}}l&64&&Dg(a),l&512&&Yl(a,a.return);break;case 3:if(la(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(t,n)}catch(v){re(a,a.return,v)}}break;case 27:n===null&&l&4&&Mg(a);case 26:case 5:la(t,a),n===null&&l&4&&Ig(a),l&512&&Yl(a,a.return);break;case 12:la(t,a);break;case 31:la(t,a),l&4&&Pg(t,a);break;case 13:la(t,a),l&4&&Bg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=I1.bind(null,a),J1(t,a))));break;case 22:if(l=a.memoizedState!==null||sa,!l){n=n!==null&&n.memoizedState!==null||ke,h=sa;var f=ke;sa=l,(ke=n)&&!f?oa(t,a,(a.subtreeFlags&8772)!==0):la(t,a),sa=h,ke=f}break;case 30:break;default:la(t,a)}}function Ug(t){var n=t.alternate;n!==null&&(t.alternate=null,Ug(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&nr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _e=null,wn=!1;function ra(t,n,a){for(a=a.child;a!==null;)zg(t,n,a),a=a.sibling}function zg(t,n,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Tn,a)}catch{}switch(a.tag){case 26:ke||Li(a,n),ra(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Li(a,n);var l=_e,h=wn;Fa(a.type)&&(_e=a.stateNode,wn=!1),ra(t,n,a),no(a.stateNode),_e=l,wn=h;break;case 5:ke||Li(a,n);case 6:if(l=_e,h=wn,_e=null,ra(t,n,a),_e=l,wn=h,_e!==null)if(wn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(f){re(a,n,f)}else try{_e.removeChild(a.stateNode)}catch(f){re(a,n,f)}break;case 18:_e!==null&&(wn?(t=_e,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Br(t)):Dy(_e,a.stateNode));break;case 4:l=_e,h=wn,_e=a.stateNode.containerInfo,wn=!0,ra(t,n,a),_e=l,wn=h;break;case 0:case 11:case 14:case 15:Ua(2,a,n),ke||Ua(4,a,n),ra(t,n,a);break;case 1:ke||(Li(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vg(a,n,l)),ra(t,n,a);break;case 21:ra(t,n,a);break;case 22:ke=(l=ke)||a.memoizedState!==null,ra(t,n,a),ke=l;break;default:ra(t,n,a)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Br(t)}catch(a){re(n,n.return,a)}}}function Bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Br(t)}catch(a){re(n,n.return,a)}}function S1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(r(435,t.tag))}}function zu(t,n){var a=S1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=O1.bind(null,t,l);l.then(h,h)}})}function xn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Fa(T.type)){_e=T.stateNode,wn=!1;break t}break;case 5:_e=T.stateNode,wn=!1;break t;case 3:case 4:_e=T.stateNode.containerInfo,wn=!0;break t}T=T.return}if(_e===null)throw Error(r(160));zg(f,v,h),_e=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var gi=null;function kg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),Rn(t),l&4&&(Ua(3,t,t.return),Ql(3,t),Ua(5,t,t.return));break;case 1:xn(n,t),Rn(t),l&512&&(ke||a===null||Li(a,a.return)),l&64&&sa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=gi;if(xn(n,t),Rn(t),l&512&&(ke||a===null||Li(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[je]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,a),f[je]=t,Le(f),l=f;break t;case"link":var v=ky("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),on(f,l,a),h.head.appendChild(f);break;case"meta":if(v=ky("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),on(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[je]=t,Le(f),l=f}t.stateNode=l}else Hy(h,t.type,t.stateNode);else t.stateNode=By(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hy(h,t.type,t.stateNode):By(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(n,t),Rn(t),l&512&&(ke||a===null||Li(a,a.return)),a!==null&&l&4&&gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(n,t),Rn(t),l&512&&(ke||a===null||Li(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(mt){re(t,t.return,mt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_f=!0);break;case 6:if(xn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(mt){re(t,t.return,mt)}}break;case 3:if(tc=null,h=gi,gi=Ju(n.containerInfo),xn(n,t),gi=h,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Br(n.containerInfo)}catch(mt){re(t,t.return,mt)}_f&&(_f=!1,Hg(t));break;case 4:l=gi,gi=Ju(t.stateNode.containerInfo),xn(n,t),Rn(t),gi=l;break;case 12:xn(n,t),Rn(t);break;case 31:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 13:xn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bu=Qe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,k=sa,X=ke;if(sa=k||h,ke=X||D,xn(n,t),ke=X,sa=k,Rn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||sa||ke||Bs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var tt=D.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(mt){re(D,D.return,mt)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(mt){re(D,D.return,mt)}}}else if(n.tag===18){if(a===null){D=n;try{var G=D.stateNode;h?Vy(G,!0):Vy(D.stateNode,!1)}catch(mt){re(D,D.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zu(t,a))));break;case 19:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 30:break;case 21:break;default:xn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Og(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=yf(t);Uu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var T=yf(t);Uu(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,k=yf(t);vf(t,k,D);break;default:throw Error(r(161))}}catch(X){re(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function la(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lg(t,n.alternate,n),n=n.sibling}function Bs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ua(4,n,n.return),Bs(n);break;case 1:Li(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vg(n,n.return,a),Bs(n);break;case 27:no(n.stateNode);case 26:case 5:Li(n,n.return),Bs(n);break;case 22:n.memoizedState===null&&Bs(n);break;case 30:Bs(n);break;default:Bs(n)}t=t.sibling}}function oa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:oa(h,f,a),Ql(4,f);break;case 1:if(oa(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){re(l,l.return,k)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)_p(D[h],T)}catch(k){re(l,l.return,k)}}a&&v&64&&Dg(f),Yl(f,f.return);break;case 27:Mg(f);case 26:case 5:oa(h,f,a),a&&l===null&&v&4&&Ig(f),Yl(f,f.return);break;case 12:oa(h,f,a);break;case 31:oa(h,f,a),a&&v&4&&Pg(h,f);break;case 13:oa(h,f,a),a&&v&4&&Bg(h,f);break;case 22:f.memoizedState===null&&oa(h,f,a),Yl(f,f.return);break;case 30:break;default:oa(h,f,a)}n=n.sibling}}function Ef(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ol(a))}function Tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t))}function yi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(t,n,a,l),n=n.sibling}function qg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,a,l),h&2048&&Ql(9,n);break;case 1:yi(t,n,a,l);break;case 3:yi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t)));break;case 12:if(h&2048){yi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){re(n,n.return,D)}}else yi(t,n,a,l);break;case 31:yi(t,n,a,l);break;case 13:yi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?yi(t,n,a,l):Kl(t,n):f._visibility&2?yi(t,n,a,l):(f._visibility|=2,Nr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ef(v,n);break;case 24:yi(t,n,a,l),h&2048&&Tf(n.alternate,n);break;default:yi(t,n,a,l)}}function Nr(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,T=a,D=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Nr(f,v,T,D,h),Ql(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Nr(f,v,T,D,h):Kl(f,v):(X._visibility|=2,Nr(f,v,T,D,h)),h&&k&2048&&Ef(v.alternate,v);break;case 24:Nr(f,v,T,D,h),h&&k&2048&&Tf(v.alternate,v);break;default:Nr(f,v,T,D,h)}n=n.sibling}}function Kl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Kl(a,l),h&2048&&Ef(l.alternate,l);break;case 24:Kl(a,l),h&2048&&Tf(l.alternate,l);break;default:Kl(a,l)}n=n.sibling}}var Xl=8192;function Dr(t,n,a){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)Fg(t,n,a),t=t.sibling}function Fg(t,n,a){switch(t.tag){case 26:Dr(t,n,a),t.flags&Xl&&t.memoizedState!==null&&cT(a,gi,t.memoizedState,t.memoizedProps);break;case 5:Dr(t,n,a);break;case 3:case 4:var l=gi;gi=Ju(t.stateNode.containerInfo),Dr(t,n,a),gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,Dr(t,n,a),Xl=l):Dr(t,n,a));break;default:Dr(t,n,a)}}function Gg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function $l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];We=l,Yg(l,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 0:case 11:case 15:$l(t),t.flags&2048&&Ua(9,t,t.return);break;case 3:$l(t);break;case 12:$l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Pu(t)):$l(t);break;default:$l(t)}}function Pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];We=l,Yg(l,t)}Gg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ua(8,n,n.return),Pu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Pu(n));break;default:Pu(n)}t=t.sibling}}function Yg(t,n){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:Ua(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,We=l;else t:for(a=t;We!==null;){l=We;var h=l.sibling,f=l.return;if(Ug(l),l===a){We=null;break t}if(h!==null){h.return=f,We=h;break t}We=f}}}var w1={getCacheForType:function(t){var n=rn(ze),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return rn(ze).controller.signal}},x1=typeof WeakMap=="function"?WeakMap:Map,te=0,fe=null,zt=null,kt=0,se=0,Pn=null,za=!1,Vr=!1,bf=!1,ua=0,xe=0,Pa=0,ks=0,Af=0,Bn=0,Ir=0,Zl=null,Cn=null,Sf=!1,Bu=0,Kg=0,ku=1/0,Hu=null,Ba=null,Ye=0,ka=null,Or=null,ca=0,wf=0,xf=null,Xg=null,Jl=0,Rf=null;function kn(){return(te&2)!==0&&kt!==0?kt&-kt:Y.T!==null?Of():qo()}function $g(){if(Bn===0)if((kt&536870912)===0||Gt){var t=Qi;Qi<<=1,(Qi&3932160)===0&&(Qi=262144),Bn=t}else Bn=536870912;return t=Un.current,t!==null&&(t.flags|=32),Bn}function Nn(t,n,a){(t===fe&&(se===2||se===9)||t.cancelPendingCommit!==null)&&(Mr(t,0),Ha(t,kt,Bn,!1)),ps(t,a),((te&2)===0||t!==fe)&&(t===fe&&((te&2)===0&&(ks|=a),xe===4&&Ha(t,kt,Bn,!1)),Ui(t))}function Zg(t,n,a){if((te&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||bn(t,n),h=l?N1(t,n):Nf(t,n,!0),f=l;do{if(h===0){Vr&&!l&&Ha(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!R1(a)){h=Nf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Zl;var D=T.current.memoizedState.isDehydrated;if(D&&(Mr(T,v).flags|=256),v=Nf(T,v,!1),v!==2){if(bf&&!D){T.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break t}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Mr(t,0),Ha(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ha(l,n,Bn,!za);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Bu+300-Qe(),10<h)){if(Ha(l,n,Bn,!za),Gn(l,0,!0)!==0)break t;ca=n,l.timeoutHandle=Cy(Jg.bind(null,l,a,Cn,Hu,Sf,n,Bn,ks,Ir,za,f,"Throttled",-0,0),h);break t}Jg(l,a,Cn,Hu,Sf,n,Bn,ks,Ir,za,f,null,-0,0)}}break}while(!0);Ui(t)}function Jg(t,n,a,l,h,f,v,T,D,k,X,tt,q,G){if(t.timeoutHandle=-1,tt=n.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Fg(n,f,tt);var mt=(f&62914560)===f?Bu-Qe():(f&4194048)===f?Kg-Qe():0;if(mt=hT(tt,mt),mt!==null){ca=f,t.cancelPendingCommit=mt(ry.bind(null,t,n,f,a,l,h,v,T,D,X,tt,null,q,G)),Ha(t,f,v,!k);return}}ry(t,n,f,a,l,h,v,T,D)}function R1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ha(t,n,a,l){n&=~Af,n&=~ks,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-be(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&gs(t,a,n)}function qu(){return(te&6)===0?(Wl(0),!1):!0}function Cf(){if(zt!==null){if(se===0)var t=zt.return;else t=zt,Wi=Is=null,qh(t),Sr=null,jl=0,t=zt;for(;t!==null;)Ng(t.alternate,t),t=t.return;zt=null}}function Mr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Y1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ca=0,Cf(),fe=t,zt=a=Zi(t.current,null),kt=n,se=0,Pn=null,za=!1,Vr=bn(t,n),bf=!1,Ir=Bn=Af=ks=Pa=xe=0,Cn=Zl=null,Sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-be(l),f=1<<h;n|=t[h],l&=~f}return ua=n,cu(),a}function Wg(t,n){Ot=null,Y.H=ql,n===Ar||n===vu?(n=pp(),se=3):n===Vh?(n=pp(),se=4):se=n===rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,zt===null&&(xe=1,Iu(t,Jn(n,t.current)))}function ty(){var t=Un.current;return t===null?!0:(kt&4194048)===kt?ni===null:(kt&62914560)===kt||(kt&536870912)!==0?t===ni:!1}function ey(){var t=Y.H;return Y.H=ql,t===null?ql:t}function ny(){var t=Y.A;return Y.A=w1,t}function Fu(){xe=4,za||(kt&4194048)!==kt&&Un.current!==null||(Vr=!0),(Pa&134217727)===0&&(ks&134217727)===0||fe===null||Ha(fe,kt,Bn,!1)}function Nf(t,n,a){var l=te;te|=2;var h=ey(),f=ny();(fe!==t||kt!==n)&&(Hu=null,Mr(t,n)),n=!1;var v=xe;t:do try{if(se!==0&&zt!==null){var T=zt,D=Pn;switch(se){case 8:Cf(),v=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var k=se;if(se=0,Pn=null,jr(t,T,D,k),a&&Vr){v=0;break t}break;default:k=se,se=0,Pn=null,jr(t,T,D,k)}}C1(),v=xe;break}catch(X){Wg(t,X)}while(!0);return n&&t.shellSuspendCounter++,Wi=Is=null,te=l,Y.H=h,Y.A=f,zt===null&&(fe=null,kt=0,cu()),v}function C1(){for(;zt!==null;)iy(zt)}function N1(t,n){var a=te;te|=2;var l=ey(),h=ny();fe!==t||kt!==n?(Hu=null,ku=Qe()+500,Mr(t,n)):Vr=bn(t,n);t:do try{if(se!==0&&zt!==null){n=zt;var f=Pn;e:switch(se){case 1:se=0,Pn=null,jr(t,n,f,1);break;case 2:case 9:if(dp(f)){se=0,Pn=null,ay(n);break}n=function(){se!==2&&se!==9||fe!==t||(se=7),Ui(t)},f.then(n,n);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:dp(f)?(se=0,Pn=null,ay(n)):(se=0,Pn=null,jr(t,n,f,7));break;case 5:var v=null;switch(zt.tag){case 26:v=zt.memoizedState;case 5:case 27:var T=zt;if(v?qy(v):T.stateNode.complete){se=0,Pn=null;var D=T.sibling;if(D!==null)zt=D;else{var k=T.return;k!==null?(zt=k,Gu(k)):zt=null}break e}}se=0,Pn=null,jr(t,n,f,5);break;case 6:se=0,Pn=null,jr(t,n,f,6);break;case 8:Cf(),xe=6;break t;default:throw Error(r(462))}}D1();break}catch(X){Wg(t,X)}while(!0);return Wi=Is=null,Y.H=l,Y.A=h,te=a,zt!==null?0:(fe=null,kt=0,cu(),xe)}function D1(){for(;zt!==null&&!fs();)iy(zt)}function iy(t){var n=Rg(t.alternate,t,ua);t.memoizedProps=t.pendingProps,n===null?Gu(t):zt=n}function ay(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Tg(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Tg(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:qh(n);default:Ng(a,n),n=zt=np(n,ua),n=Rg(a,n,ua)}t.memoizedProps=t.pendingProps,n===null?Gu(t):zt=n}function jr(t,n,a,l){Wi=Is=null,qh(n),Sr=null,jl=0;var h=n.return;try{if(v1(t,h,n,a,kt)){xe=1,Iu(t,Jn(a,t.current)),zt=null;return}}catch(f){if(h!==null)throw zt=h,f;xe=1,Iu(t,Jn(a,t.current)),zt=null;return}n.flags&32768?(Gt||l===1?t=!0:Vr||(kt&536870912)!==0?t=!1:(za=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):Gu(n)}function Gu(t){var n=t;do{if((n.flags&32768)!==0){sy(n,za);return}t=n.return;var a=T1(n.alternate,n,ua);if(a!==null){zt=a;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=t}while(n!==null);xe===0&&(xe=5)}function sy(t,n){do{var a=b1(t.alternate,t);if(a!==null){a.flags&=32767,zt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){zt=t;return}zt=t=a}while(t!==null);xe=6,zt=null}function ry(t,n,a,l,h,f,v,T,D){t.cancelPendingCommit=null;do Qu();while(Ye!==0);if((te&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=gh,lh(t,a,f,v,T,D),t===fe&&(zt=fe=null,kt=0),Or=n,ka=t,ca=a,wf=f,xf=h,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,M1(Ei,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ut.p,ut.p=2,v=te,te|=4;try{A1(t,n,a)}finally{te=v,ut.p=h,Y.T=l}}Ye=1,ly(),oy(),uy()}}function ly(){if(Ye===1){Ye=0;var t=ka,n=Or,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ut.p;ut.p=2;var h=te;te|=4;try{kg(n,t);var f=kf,v=Ym(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qm(T.ownerDocument.documentElement,T)){if(D!==null&&hh(T)){var k=D.start,X=D.end;if(X===void 0&&(X=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(X,T.value.length);else{var tt=T.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var G=q.getSelection(),mt=T.textContent.length,At=Math.min(D.start,mt),ce=D.end===void 0?At:Math.min(D.end,mt);!G.extend&&At>ce&&(v=ce,ce=At,At=v);var L=Gm(T,At),O=Gm(T,ce);if(L&&O&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=tt.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),At>ce?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for(tt=[],G=T;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var J=tt[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ac=!!Bf,kf=Bf=null}finally{te=h,ut.p=l,Y.T=a}}t.current=n,Ye=2}}function oy(){if(Ye===2){Ye=0;var t=ka,n=Or,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ut.p;ut.p=2;var h=te;te|=4;try{Lg(t,n.alternate,n)}finally{te=h,ut.p=l,Y.T=a}}Ye=3}}function uy(){if(Ye===4||Ye===3){Ye=0,Oe();var t=ka,n=Or,a=ca,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ye=5:(Ye=0,Or=ka=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ba=null),Yi(a),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Tn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=ut.p,ut.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{Y.T=n,ut.p=h}}(ca&3)!==0&&Qu(),Ui(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Rf?Jl++:(Jl=0,Rf=t):Jl=0,Wl(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ol(n)))}function Qu(){return ly(),oy(),uy(),hy()}function hy(){if(Ye!==5)return!1;var t=ka,n=wf;wf=0;var a=Yi(ca),l=Y.T,h=ut.p;try{ut.p=32>a?32:a,Y.T=null,a=xf,xf=null;var f=ka,v=ca;if(Ye=0,Or=ka=null,ca=0,(te&6)!==0)throw Error(r(331));var T=te;if(te|=4,Qg(f.current),qg(f,f.current,v,a),te=T,Wl(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Tn,f)}catch{}return!0}finally{ut.p=h,Y.T=l,cy(t,n)}}function fy(t,n,a){n=Jn(a,n),n=sf(t.stateNode,n,2),t=Ma(t,n,2),t!==null&&(ps(t,2),Ui(t))}function re(t,n,a){if(t.tag===3)fy(t,t,a);else for(;n!==null;){if(n.tag===3){fy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ba===null||!Ba.has(l))){t=Jn(a,t),a=dg(2),l=Ma(n,a,2),l!==null&&(mg(a,l,n,t),ps(l,2),Ui(l));break}}n=n.return}}function Df(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new x1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(bf=!0,h.add(a),t=V1.bind(null,t,n,a),n.then(t,t))}function V1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,fe===t&&(kt&a)===a&&(xe===4||xe===3&&(kt&62914560)===kt&&300>Qe()-Bu?(te&2)===0&&Mr(t,0):Af|=a,Ir===kt&&(Ir=0)),Ui(t)}function dy(t,n){n===0&&(n=$e()),t=Ns(t,n),t!==null&&(ps(t,n),Ui(t))}function I1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dy(t,a)}function O1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),dy(t,a)}function M1(t,n){return Qt(t,n)}var Yu=null,Lr=null,Vf=!1,Ku=!1,If=!1,qa=0;function Ui(t){t!==Lr&&t.next===null&&(Lr===null?Yu=Lr=t:Lr=Lr.next=t),Ku=!0,Vf||(Vf=!0,L1())}function Wl(t,n){if(!If&&Ku){If=!0;do for(var a=!1,l=Yu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-be(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,yy(l,f))}else f=kt,f=Gn(l,l===fe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||bn(l,f)||(a=!0,yy(l,f));l=l.next}while(a);If=!1}}function j1(){my()}function my(){Ku=Vf=!1;var t=0;qa!==0&&Q1()&&(t=qa);for(var n=Qe(),a=null,l=Yu;l!==null;){var h=l.next,f=py(l,n);f===0?(l.next=null,a===null?Yu=h:a.next=h,h===null&&(Lr=a)):(a=l,(t!==0||(f&3)!==0)&&(Ku=!0)),l=h}Ye!==0&&Ye!==5||Wl(t),qa!==0&&(qa=0)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-be(f),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&l)!==0)&&(h[v]=tr(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=fe,a=kt,a=Gn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(se===2||se===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&En(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&En(l),Yi(a)){case 2:case 8:a=ds;break;case 32:a=Ei;break;case 268435456:a=ms;break;default:a=Ei}return l=gy.bind(null,t),a=Qt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&En(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if(Ye!==0&&Ye!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qu()&&t.callbackNode!==a)return null;var l=kt;return l=Gn(t,t===fe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zg(t,l,n),py(t,Qe()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function yy(t,n){if(Qu())return null;Zg(t,n,!0)}function L1(){K1(function(){(te&6)!==0?Qt(ya,j1):my()})}function Of(){if(qa===0){var t=Tr;t===0&&(t=nn,nn<<=1,(nn&261888)===0&&(nn=256)),qa=t}return qa}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rr(""+t)}function _y(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function U1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=vy((h[Ze]||null).action),v=l.submitter;v&&(n=(n=v[Ze]||null)?vy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Di("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qa!==0){var D=v?_y(h,v):new FormData(h);Jh(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=v?_y(h,v):new FormData(h),Jh(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Mf=0;Mf<ph.length;Mf++){var jf=ph[Mf],z1=jf.toLowerCase(),P1=jf[0].toUpperCase()+jf.slice(1);pi(z1,"on"+P1)}pi($m,"onAnimationEnd"),pi(Zm,"onAnimationIteration"),pi(Jm,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(e1,"onTransitionRun"),pi(n1,"onTransitionStart"),pi(i1,"onTransitionCancel"),pi(Wm,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function Ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,k=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch(X){uu(X)}h.currentTarget=null,f=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,k=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch(X){uu(X)}h.currentTarget=null,f=D}}}}function Pt(t,n){var a=n[er];a===void 0&&(a=n[er]=new Set);var l=t+"__bubble";a.has(l)||(Ty(n,t,2,!1),a.add(l))}function Lf(t,n,a){var l=0;n&&(l|=4),Ty(a,t,l,n)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Uf(t){if(!t[Xu]){t[Xu]=!0,fl.forEach(function(a){a!=="selectionchange"&&(B1.has(a)||Lf(a,!1,t),Lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Xu]||(n[Xu]=!0,Lf("selectionchange",!1,n))}}function Ty(t,n,a,l){switch($y(n)){case 2:var h=mT;break;case 8:h=pT;break;default:h=Jf}a=h.bind(null,n,a,t),h=void 0,!Ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function zf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ai(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Sa(function(){var k=f,X=Kn(a),tt=[];t:{var q=tp.get(t);if(q!==void 0){var G=Di,mt=t;switch(t){case"keypress":if(As(a)===0)break t;case"keydown":case"keyup":G=ru;break;case"focusin":mt="focus",G=ws;break;case"focusout":mt="blur",G=ws;break;case"beforeblur":case"afterblur":G=ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case $m:case Zm:case Jm:G=Wo;break;case Wm:G=S;break;case"scroll":case"scrollend":G=Sl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=$i;break;case"toggle":case"beforetoggle":G=It}var At=(n&4)!==0,ce=!At&&(t==="scroll"||t==="scrollend"),L=At?q!==null?q+"Capture":null:q;At=[];for(var O=k,B;O!==null;){var J=O;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=hi(O,L),J!=null&&At.push(eo(O,J,B))),ce)break;O=O.return}0<At.length&&(q=new G(q,mt,null,a,X),tt.push({event:q,listeners:At}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Tl&&(mt=a.relatedTarget||a.fromElement)&&(Ai(mt)||mt[Ti]))break t;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(mt=a.relatedTarget||a.toElement,G=k,mt=mt?Ai(mt):null,mt!==null&&(ce=c(mt),At=mt.tag,mt!==ce||At!==5&&At!==27&&At!==6)&&(mt=null)):(G=null,mt=k),G!==mt)){if(At=wl,J="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(At=$i,J="onPointerLeave",L="onPointerEnter",O="pointer"),ce=G==null?q:On(G),B=mt==null?q:On(mt),q=new At(J,O+"leave",G,a,X),q.target=ce,q.relatedTarget=B,J=null,Ai(X)===k&&(At=new At(L,O+"enter",mt,a,X),At.target=B,At.relatedTarget=ce,J=At),ce=J,G&&mt)e:{for(At=k1,L=G,O=mt,B=0,J=L;J;J=At(J))B++;J=0;for(var Tt=O;Tt;Tt=At(Tt))J++;for(;0<B-J;)L=At(L),B--;for(;0<J-B;)O=At(O),J--;for(;B--;){if(L===O||O!==null&&L===O.alternate){At=L;break e}L=At(L),O=At(O)}At=null}else At=null;G!==null&&by(tt,q,G,At,!1),mt!==null&&ce!==null&&by(tt,ce,mt,At,!0)}}t:{if(q=k?On(k):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var $t=Pm;else if(Um(q))if(Bm)$t=JE;else{$t=$E;var gt=XE}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&sr(k.elementType)&&($t=Pm):$t=ZE;if($t&&($t=$t(t,k))){zm(tt,$t,a,X);break t}gt&&gt(t,q,k),t==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&vl(q,"number",q.value)}switch(gt=k?On(k):window,t){case"focusin":(Um(gt)||gt.contentEditable==="true")&&(dr=gt,fh=k,Dl=null);break;case"focusout":Dl=fh=dr=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Km(tt,a,X);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":Km(tt,a,X)}var Mt;if(Wt)t:{switch(t){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else fr?xs(t,a)&&(Ht="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ht="onCompositionStart");Ht&&(Oi&&a.locale!=="ko"&&(fr||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&fr&&(Mt=Al()):(Ni=X,bl="value"in Ni?Ni.value:Ni.textContent,fr=!0)),gt=$u(k,Ht),0<gt.length&&(Ht=new Ii(Ht,t,null,a,X),tt.push({event:Ht,listeners:gt}),Mt?Ht.data=Mt:(Mt=hr(a),Mt!==null&&(Ht.data=Mt)))),(Mt=$n?GE(t,a):QE(t,a))&&(Ht=$u(k,"onBeforeInput"),0<Ht.length&&(gt=new Ii("onBeforeInput","beforeinput",null,a,X),tt.push({event:gt,listeners:Ht}),gt.data=Mt)),U1(tt,t,k,a,X)}Ey(tt,n)})}function eo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function $u(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(t,a),h!=null&&l.unshift(eo(t,h,f)),h=hi(t,n),h!=null&&l.push(eo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function k1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,k=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||k===null||(D=k,h?(k=hi(a,f),k!=null&&v.unshift(eo(a,k,D))):h||(k=hi(a,f),k!=null&&v.push(eo(a,k,D)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var H1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(H1,`
`).replace(q1,"")}function Sy(t,n){return n=Ay(n),Ay(t)===n}function ue(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,l);break;case"style":El(t,l,f);break;case"data":if(n!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=rr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ue(t,n,"name",h.name,h,null),ue(t,n,"formEncType",h.formEncType,h,null),ue(t,n,"formMethod",h.formMethod,h,null),ue(t,n,"formTarget",h.formTarget,h,null)):(ue(t,n,"encType",h.encType,h,null),ue(t,n,"method",h.method,h,null),ue(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=rr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&Pt("scroll",t);break;case"onScrollEnd":l!=null&&Pt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=rr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pt("beforetoggle",t),Pt("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$o.get(a)||a,ir(t,a,l))}}function Pf(t,n,a,l,h,f){switch(a){case"style":El(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Pt("scroll",t);break;case"onScrollEnd":l!=null&&Pt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ir(t,a,l)}}}function on(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",t),Pt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(t,n,f,v,a,null)}}h&&ue(t,n,"srcSet",a.srcSet,a,null),l&&ue(t,n,"src",a.src,a,null);return;case"input":Pt("invalid",t);var T=f=v=h=null,D=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":D=X;break;case"defaultChecked":k=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:ue(t,n,l,X,a,null)}}Yo(t,f,T,D,k,v,h,!1);return;case"select":Pt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:ue(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?Ea(t,!!l,n,!1):a!=null&&Ea(t,!!l,a,!0);return;case"textarea":Pt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ue(t,n,v,T,a,null)}Ta(t,l,h,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ue(t,n,D,l,a,null));return;case"dialog":Pt("beforetoggle",t),Pt("toggle",t),Pt("cancel",t),Pt("close",t);break;case"iframe":case"object":Pt("load",t);break;case"video":case"audio":for(l=0;l<to.length;l++)Pt(to[l],t);break;case"image":Pt("error",t),Pt("load",t);break;case"details":Pt("toggle",t);break;case"embed":case"source":case"link":Pt("error",t),Pt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(t,n,k,l,a,null)}return;default:if(sr(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Pf(t,n,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ue(t,n,T,l,a,null))}function F1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,D=null,k=null,X=null;for(G in a){var tt=a[G];if(a.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(G)||ue(t,n,G,null,l,tt)}}for(var q in l){var G=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(G!=null||tt!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":k=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==tt&&ue(t,n,q,G,l,tt)}}ar(t,v,T,D,k,X,f,h);return;case"select":G=v=T=q=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(f)||ue(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==D&&ue(t,n,h,f,l,D)}n=T,a=v,l=G,q!=null?Ea(t,!!a,q,!1):!!l!=!!a&&(n!=null?Ea(t,!!a,n,!0):Ea(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ue(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ue(t,n,v,h,l,f)}Ko(t,q,G);return;case"option":for(var mt in a)q=a[mt],a.hasOwnProperty(mt)&&q!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?t.selected=!1:ue(t,n,mt,null,l,q));for(D in l)q=l[D],G=a[D],l.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":ue(t,n,D,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)q=a[At],a.hasOwnProperty(At)&&q!=null&&!l.hasOwnProperty(At)&&ue(t,n,At,null,l,q);for(k in l)if(q=l[k],G=a[k],l.hasOwnProperty(k)&&q!==G&&(q!=null||G!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ue(t,n,k,q,l,G)}return;default:if(sr(n)){for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!==void 0&&!l.hasOwnProperty(ce)&&Pf(t,n,ce,void 0,l,q);for(X in l)q=l[X],G=a[X],!l.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||Pf(t,n,X,q,l,G);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&ue(t,n,L,null,l,q);for(tt in l)q=l[tt],G=a[tt],!l.hasOwnProperty(tt)||q===G||q==null&&G==null||ue(t,n,tt,q,l,G)}function wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&wy(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],k=D.startTime;if(k>T)break;var X=D.transferSize,tt=D.initiatorType;X&&wy(tt)&&(D=D.responseEnd,v+=X*(D<T?1:(T-k)/(D-k)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bf=null,kf=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function Q1(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(X1)}:Cy;function X1(t){setTimeout(function(){throw t})}function Fa(t){return t==="head"}function Dy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Br(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")no(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,no(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&no(t.ownerDocument.body);a=h}while(a);Br(n)}function Vy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function Z1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ii(t.nextSibling),t===null))return null;return t}function Iy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ii(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$?"||t.data==="$~"}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function J1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ii(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Yf=null;function Oy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ii(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function My(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function jy(t,n,a){switch(n=Zu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function no(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nr(t)}var ai=new Map,Ly=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ha=ut.d;ut.d={f:W1,r:tT,D:eT,C:nT,L:iT,m:aT,X:rT,S:sT,M:lT};function W1(){var t=ha.f(),n=qu();return t||n}function tT(t){var n=Yn(t);n!==null&&n.tag===5&&n.type==="form"?Wp(n):ha.r(t)}var Ur=typeof document>"u"?null:document;function Uy(t,n,a){var l=Ur;if(l&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),Le(n),l.head.appendChild(n)))}}function eT(t){ha.D(t),Uy("dns-prefetch",t,null)}function nT(t,n){ha.C(t,n),Uy("preconnect",t,n)}function iT(t,n,a){ha.L(t,n,a);var l=Ur;if(l&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=zr(t);break;case"script":f=Pr(t)}ai.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ai.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(io(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),on(n,"link",t),Le(n),l.head.appendChild(n)))}}function aT(t,n){ha.m(t,n);var a=Ur;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pr(t)}if(!ai.has(f)&&(t=A({rel:"modulepreload",href:t},n),ai.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ao(f)))return}l=a.createElement("link"),on(l,"link",t),Le(l),a.head.appendChild(l)}}}function sT(t,n,a){ha.S(t,n,a);var l=Ur;if(l&&t){var h=Si(l).hoistableStyles,f=zr(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(io(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ai.get(f))&&Kf(t,a);var D=v=l.createElement("link");Le(D),on(D,"link",t),D._p=new Promise(function(k,X){D.onload=k,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function rT(t,n){ha.X(t,n);var a=Ur;if(a&&t){var l=Si(a).hoistableScripts,h=Pr(t),f=l.get(h);f||(f=a.querySelector(ao(h)),f||(t=A({src:t,async:!0},n),(n=ai.get(h))&&Xf(t,n),f=a.createElement("script"),Le(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function lT(t,n){ha.M(t,n);var a=Ur;if(a&&t){var l=Si(a).hoistableScripts,h=Pr(t),f=l.get(h);f||(f=a.querySelector(ao(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ai.get(h))&&Xf(t,n),f=a.createElement("script"),Le(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function zy(t,n,a,l){var h=(h=W.current)?Ju(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=zr(a.href),a=Si(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=zr(a.href);var f=Si(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(io(t)))&&!f._p&&(v.instance=f,v.state.loading=5),ai.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ai.set(t,a),f||oT(h,t,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pr(a),a=Si(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function zr(t){return'href="'+An(t)+'"'}function io(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",a),Le(n),t.head.appendChild(n))}function Pr(t){return'[src="'+An(t)+'"]'}function ao(t){return"script[async]"+t}function By(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return n.instance=l,Le(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Le(l),on(l,"style",h),Wu(l,a.precedence,t),n.instance=l;case"stylesheet":h=zr(a.href);var f=t.querySelector(io(h));if(f)return n.state.loading|=4,n.instance=f,Le(f),f;l=Py(a),(h=ai.get(h))&&Kf(l,h),f=(t.ownerDocument||t).createElement("link"),Le(f);var v=f;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),on(f,"link",l),n.state.loading|=4,Wu(f,a.precedence,t),n.instance=f;case"script":return f=Pr(a.src),(h=t.querySelector(ao(f)))?(n.instance=h,Le(h),h):(l=a,(h=ai.get(f))&&(l=A({},a),Xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Le(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Wu(l,a.precedence,t));return n.instance}function Wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function ky(t,n,a){if(tc===null){var l=new Map,h=tc=new Map;h.set(a,l)}else h=tc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[bi]||f[je]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function uT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=zr(l.href),f=n.querySelector(io(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ec.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Le(f);return}f=n.ownerDocument||n,l=Py(l),(h=ai.get(h))&&Kf(l,h),f=f.createElement("link"),Le(f);var v=f;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),on(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ec.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var $f=0;function hT(t,n){return t.stylesheets&&t.count===0&&ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&$f===0&&($f=62500*G1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>$f?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,n.forEach(fT,t),nc=null,ec.call(t))}function fT(t,n){if(!(n.state.loading&4)){var a=nc.get(t);if(a)var l=a.get(null);else{a=new Map,nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var so={$$typeof:ot,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function dT(t,n,a,l,h,f,v,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Fy(t,n,a,l,h,f,v,T,D,k,X,tt){return t=new dT(t,n,a,v,D,k,X,tt,T),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=Ch(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Ih(f),t}function Gy(t){return t?(t=gr,t):gr}function Qy(t,n,a,l,h,f){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=Oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ma(t,l,n),a!==null&&(Nn(a,t,n),Ul(a,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zf(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13||t.tag===31){var n=Ns(t,67108864);n!==null&&Nn(n,t,67108864),Zf(t,67108864)}}function Xy(t){if(t.tag===13||t.tag===31){var n=kn();n=ys(n);var a=Ns(t,n);a!==null&&Nn(a,t,n),Zf(t,n)}}var ac=!0;function mT(t,n,a,l){var h=Y.T;Y.T=null;var f=ut.p;try{ut.p=2,Jf(t,n,a,l)}finally{ut.p=f,Y.T=h}}function pT(t,n,a,l){var h=Y.T;Y.T=null;var f=ut.p;try{ut.p=8,Jf(t,n,a,l)}finally{ut.p=f,Y.T=h}}function Jf(t,n,a,l){if(ac){var h=Wf(l);if(h===null)zf(t,n,l,sc,a),Zy(t,l);else if(yT(h,t,n,a,l))l.stopPropagation();else if(Zy(t,l),n&4&&-1<gT.indexOf(t)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Fn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-be(v);T.entanglements[1]|=D,v&=~D}Ui(f),(te&6)===0&&(ku=Qe()+500,Wl(0))}}break;case 31:case 13:T=Ns(f,2),T!==null&&Nn(T,f,2),qu(),Zf(f,2)}if(f=Wf(l),f===null&&zf(t,n,l,sc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else zf(t,n,l,null,a)}}function Wf(t){return t=Kn(t),td(t)}var sc=null;function td(t){if(sc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return sc=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case ya:return 2;case ds:return 8;case Ei:case Js:return 32;case ms:return 268435456;default:return 32}default:return 32}}var ed=!1,Ga=null,Qa=null,Ya=null,ro=new Map,lo=new Map,Ka=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,n){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(n.pointerId)}}function oo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Yn(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function yT(t,n,a,l,h){switch(n){case"focusin":return Ga=oo(Ga,t,n,a,l,h),!0;case"dragenter":return Qa=oo(Qa,t,n,a,l,h),!0;case"mouseover":return Ya=oo(Ya,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ro.set(f,oo(ro.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,lo.set(f,oo(lo.get(f)||null,t,n,a,l,h)),!0}return!1}function Jy(t){var n=Ai(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,oi(t.priority,function(){Xy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,oi(t.priority,function(){Xy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Tl=l,a.target.dispatchEvent(l),Tl=null}else return n=Yn(a),n!==null&&Ky(n),t.blockedOn=a,!1;n.shift()}return!0}function Wy(t,n,a){rc(t)&&a.delete(n)}function vT(){ed=!1,Ga!==null&&rc(Ga)&&(Ga=null),Qa!==null&&rc(Qa)&&(Qa=null),Ya!==null&&rc(Ya)&&(Ya=null),ro.forEach(Wy),lo.forEach(Wy)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,ed||(ed=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vT)))}var oc=null;function tv(t){oc!==t&&(oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){oc===t&&(oc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(td(l||a)===null)continue;break}var f=Yn(a);f!==null&&(t.splice(n,3),n-=3,Jh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Br(t){function n(D){return lc(D,t)}Ga!==null&&lc(Ga,t),Qa!==null&&lc(Qa,t),Ya!==null&&lc(Ya,t),ro.forEach(n),lo.forEach(n);for(var a=0;a<Ka.length;a++){var l=Ka[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&Ka.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Ze]||null;if(typeof f=="function")v||tv(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ze]||null)T=v.formAction;else if(td(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),tv(a)}}}function ev(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function nd(t){this._internalRoot=t}uc.prototype.render=nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=kn();Qy(a,l,t,n,null,null)},uc.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qy(t.current,2,null,t,null,null),qu(),n[Ti]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=qo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ka.length&&n!==0&&n<Ka[a].priority;a++);Ka.splice(a,0,t),a===0&&Jy(t)}};var nv=e.version;if(nv!=="19.2.4")throw Error(r(527,nv,"19.2.4"));ut.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Tn=cc.inject(_T),Me=cc}catch{}}return co.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=ug,f=cg,v=hg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Fy(t,1,!1,null,null,a,l,null,h,f,v,ev),t[Ti]=n.current,Uf(t),new nd(n)},co.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=ug,v=cg,T=hg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Fy(t,1,!0,n,a??null,l,h,D,f,v,T,ev),n.context=Gy(null),a=n.current,l=kn(),l=ys(l),h=Oa(l),h.callback=null,Ma(a,h,l),a=l,n.current.lanes=a,ps(n,a),Ui(n),t[Ti]=n.current,Uf(t),new uc(n)},co.version="19.2.4",co}var fv;function DT(){if(fv)return sd.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sd.exports=NT(),sd.exports}var VT=DT();const IT=D0(VT);var dv="popstate";function OT(s={}){function e(o,c){let{pathname:d="/",search:g="",hash:m=""}=Xs(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),xd("",{pathname:d,search:g,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");g=y===-1?m:m.slice(0,y)}return g+"#"+(typeof c=="string"?c:Ao(c))}function r(o,c){ri(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return jT(e,i,r,s)}function Ee(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ri(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MT(){return Math.random().toString(36).substring(2,10)}function mv(s,e){return{usr:s.state,key:s.key,idx:e}}function xd(s,e,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:i,key:e&&e.key||r||MT()}}function Ao({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Xs(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function jT(s,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,g="POP",m=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function A(){g="POP";let Q=E(),nt=Q==null?null:Q-y;y=Q,m&&m({action:g,location:K.location,delta:nt})}function b(Q,nt){g="PUSH";let st=xd(K.location,Q,nt);i&&i(st,Q),y=E()+1;let ot=mv(st,y),dt=K.createHref(st);try{d.pushState(ot,"",dt)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;o.location.assign(dt)}c&&m&&m({action:g,location:K.location,delta:1})}function j(Q,nt){g="REPLACE";let st=xd(K.location,Q,nt);i&&i(st,Q),y=E();let ot=mv(st,y),dt=K.createHref(st);d.replaceState(ot,"",dt),c&&m&&m({action:g,location:K.location,delta:0})}function z(Q){return LT(Q)}let K={get action(){return g},get location(){return s(o,d)},listen(Q){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,A),m=Q,()=>{o.removeEventListener(dv,A),m=null}},createHref(Q){return e(o,Q)},createURL:z,encodeLocation(Q){let nt=z(Q);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:b,replace:j,go(Q){return d.go(Q)}};return K}function LT(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ao(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function V0(s,e,i="/"){return UT(s,e,i,!1)}function UT(s,e,i,r){let o=typeof e=="string"?Xs(e):e,c=da(o.pathname||"/",i);if(c==null)return null;let d=I0(s);zT(d);let g=null;for(let m=0;g==null&&m<d.length;++m){let y=XT(c);g=YT(d[m],y,r)}return g}function I0(s,e=[],i=[],r="",o=!1){let c=(d,g,m=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&m)return;Ee(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let A=fa([r,E.relativePath]),b=i.concat(E);d.children&&d.children.length>0&&(Ee(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),I0(d.children,e,b,A,m)),!(d.path==null&&!d.index)&&e.push({path:A,score:GT(A,d.index),routesMeta:b})};return s.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let m of O0(d.path))c(d,g,!0,m)}),e}function O0(s){let e=s.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=O0(r.join("/")),g=[];return g.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&g.push(...d),g.map(m=>s.startsWith("/")&&m===""?"/":m)}function zT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:QT(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var PT=/^:[\w-]+$/,BT=3,kT=2,HT=1,qT=10,FT=-2,pv=s=>s==="*";function GT(s,e){let i=s.split("/"),r=i.length;return i.some(pv)&&(r+=FT),e&&(r+=kT),i.filter(o=>!pv(o)).reduce((o,c)=>o+(PT.test(c)?BT:c===""?HT:qT),r)}function QT(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function YT(s,e,i=!1){let{routesMeta:r}=s,o={},c="/",d=[];for(let g=0;g<r.length;++g){let m=r[g],y=g===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=xc({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},E),b=m.route;if(!A&&y&&i&&!r[r.length-1].route.index&&(A=xc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:fa([c,A.pathname]),pathnameBase:WT(fa([c,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(c=fa([c,A.pathnameBase]))}return d}function xc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=KT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((y,{paramName:E,isOptional:A},b)=>{if(E==="*"){let z=g[b]||"";d=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const j=g[b];return A&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function KT(s,e=!1,i=!0){ri(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,m)=>(r.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function XT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function da(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}var $T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ZT(s,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?Xs(s):s,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=gv(i.substring(1),"/"):c=gv(i,e)):c=e,{pathname:c,search:tb(r),hash:eb(o)}}function gv(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ud(s,e,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Zd(s){let e=JT(s);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Jd(s,e,i,r=!1){let o;typeof s=="string"?o=Xs(s):(o={...s},Ee(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),Ee(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),Ee(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let A=e.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}g=A>=0?e[A]:"/"}let m=ZT(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}var fa=s=>s.join("/").replace(/\/\/+/g,"/"),WT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),tb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,eb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,nb=class{constructor(s,e,i,r=!1){this.status=s,this.statusText=e||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function ib(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function ab(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j0(s,e){let i=s;if(typeof i!="string"||!$T.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(M0)try{let c=new URL(window.location.href),d=i.startsWith("//")?new URL(c.protocol+i):new URL(i),g=da(d.pathname,e);d.origin===c.origin&&g!=null?i=g+d.search+d.hash:o=!0}catch{ri(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var sb=["GET",...L0];new Set(sb);var il=H.createContext(null);il.displayName="DataRouter";var Hc=H.createContext(null);Hc.displayName="DataRouterState";var rb=H.createContext(!1),U0=H.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var lb=H.createContext(new Map);lb.displayName="Fetchers";var ob=H.createContext(null);ob.displayName="Await";var qn=H.createContext(null);qn.displayName="Navigation";var Mo=H.createContext(null);Mo.displayName="Location";var _i=H.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Wd=H.createContext(null);Wd.displayName="RouteError";var z0="REACT_ROUTER_ERROR",ub="REDIRECT",cb="ROUTE_ERROR_RESPONSE";function hb(s){if(s.startsWith(`${z0}:${ub}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fb(s){if(s.startsWith(`${z0}:${cb}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nb(e.status,e.statusText,e.data)}catch{}}function db(s,{relative:e}={}){Ee(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=H.useContext(qn),{hash:o,pathname:c,search:d}=jo(s,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:fa([i,c])),r.createHref({pathname:g,search:d,hash:o})}function al(){return H.useContext(Mo)!=null}function us(){return Ee(al(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Mo).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B0(s){H.useContext(qn).static||H.useLayoutEffect(s)}function qc(){let{isDataRoute:s}=H.useContext(_i);return s?Rb():mb()}function mb(){Ee(al(),"useNavigate() may be used only in the context of a <Router> component.");let s=H.useContext(il),{basename:e,navigator:i}=H.useContext(qn),{matches:r}=H.useContext(_i),{pathname:o}=us(),c=JSON.stringify(Zd(r)),d=H.useRef(!1);return B0(()=>{d.current=!0}),H.useCallback((m,y={})=>{if(ri(d.current,P0),!d.current)return;if(typeof m=="number"){i.go(m);return}let E=Jd(m,JSON.parse(c),o,y.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fa([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,s])}H.createContext(null);function pb(){let{matches:s}=H.useContext(_i),e=s[s.length-1];return e?e.params:{}}function jo(s,{relative:e}={}){let{matches:i}=H.useContext(_i),{pathname:r}=us(),o=JSON.stringify(Zd(i));return H.useMemo(()=>Jd(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function gb(s,e){return k0(s,e)}function k0(s,e,i,r,o){Ee(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=H.useContext(qn),{matches:d}=H.useContext(_i),g=d[d.length-1],m=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",A=g&&g.route;{let st=A&&A.path||"";q0(y,!A||st.endsWith("*")||st.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${st}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${st}"> to <Route path="${st==="/"?"*":`${st}/*`}">.`)}let b=us(),j;if(e){let st=typeof e=="string"?Xs(e):e;Ee(E==="/"||st.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${st.pathname}" was given in the \`location\` prop.`),j=st}else j=b;let z=j.pathname||"/",K=z;if(E!=="/"){let st=E.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(st.length).join("/")}let Q=V0(s,{pathname:K});ri(A||Q!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ri(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=Tb(Q&&Q.map(st=>Object.assign({},st,{params:Object.assign({},m,st.params),pathname:fa([E,c.encodeLocation?c.encodeLocation(st.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?E:fa([E,c.encodeLocation?c.encodeLocation(st.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathnameBase])})),d,i,r,o);return e&&nt?H.createElement(Mo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},nt):nt}function yb(){let s=xb(),e=ib(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,d)}var vb=H.createElement(yb,null),H0=class extends H.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=fb(s.digest);i&&(s=i)}let e=s!==void 0?H.createElement(_i.Provider,{value:this.props.routeContext},H.createElement(Wd.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?H.createElement(_b,{error:s},e):e}};H0.contextType=rb;var cd=new WeakMap;function _b({children:s,error:e}){let{basename:i}=H.useContext(qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=hb(e.digest);if(r){let o=cd.get(e);if(o)throw o;let c=j0(r.location,i);if(M0&&!cd.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw cd.set(e,d),d}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function Eb({routeContext:s,match:e,children:i}){let r=H.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(_i.Provider,{value:s},i)}function Tb(s,e=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,d=i?.errors;if(d!=null){let E=c.findIndex(A=>A.route.id&&d?.[A.route.id]!==void 0);Ee(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let g=!1,m=-1;if(i)for(let E=0;E<c.length;E++){let A=c[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(m=E),A.route.id){let{loaderData:b,errors:j}=i,z=A.route.loader&&!b.hasOwnProperty(A.route.id)&&(!j||j[A.route.id]===void 0);if(A.route.lazy||z){g=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let y=i&&r?(E,A)=>{r(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:ab(i.matches),errorInfo:A})}:void 0;return c.reduceRight((E,A,b)=>{let j,z=!1,K=null,Q=null;i&&(j=d&&A.route.id?d[A.route.id]:void 0,K=A.route.errorElement||vb,g&&(m<0&&b===0?(q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,Q=null):m===b&&(z=!0,Q=A.route.hydrateFallbackElement||null)));let nt=e.concat(c.slice(0,b+1)),st=()=>{let ot;return j?ot=K:z?ot=Q:A.route.Component?ot=H.createElement(A.route.Component,null):A.route.element?ot=A.route.element:ot=E,H.createElement(Eb,{match:A,routeContext:{outlet:E,matches:nt,isDataRoute:i!=null},children:ot})};return i&&(A.route.ErrorBoundary||A.route.errorElement||b===0)?H.createElement(H0,{location:i.location,revalidation:i.revalidation,component:K,error:j,children:st(),routeContext:{outlet:null,matches:nt,isDataRoute:!0},onError:y}):st()},null)}function tm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bb(s){let e=H.useContext(il);return Ee(e,tm(s)),e}function Ab(s){let e=H.useContext(Hc);return Ee(e,tm(s)),e}function Sb(s){let e=H.useContext(_i);return Ee(e,tm(s)),e}function em(s){let e=Sb(s),i=e.matches[e.matches.length-1];return Ee(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function wb(){return em("useRouteId")}function xb(){let s=H.useContext(Wd),e=Ab("useRouteError"),i=em("useRouteError");return s!==void 0?s:e.errors?.[i]}function Rb(){let{router:s}=bb("useNavigate"),e=em("useNavigate"),i=H.useRef(!1);return B0(()=>{i.current=!0}),H.useCallback(async(o,c={})=>{ri(i.current,P0),i.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var yv={};function q0(s,e,i){!e&&!yv[s]&&(yv[s]=!0,ri(!1,i))}H.memo(Cb);function Cb({routes:s,future:e,state:i,onError:r}){return k0(s,void 0,i,r,e)}function Nb({to:s,replace:e,state:i,relative:r}){Ee(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(qn);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(_i),{pathname:d}=us(),g=qc(),m=Jd(s,Zd(c),d,r==="path"),y=JSON.stringify(m);return H.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:r})},[g,y,r,e,i]),null}function yc(s){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Db({basename:s="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Ee(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:g,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[g,o,c,d]);typeof i=="string"&&(i=Xs(i));let{pathname:y="/",search:E="",hash:A="",state:b=null,key:j="default"}=i,z=H.useMemo(()=>{let K=da(y,g);return K==null?null:{location:{pathname:K,search:E,hash:A,state:b,key:j},navigationType:r}},[g,y,E,A,b,j,r]);return ri(z!=null,`<Router basename="${g}"> is not able to match the URL "${y}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:H.createElement(qn.Provider,{value:m},H.createElement(Mo.Provider,{children:e,value:z}))}function Vb({children:s,location:e}){return gb(Rd(s),e)}function Rd(s,e=[]){let i=[];return H.Children.forEach(s,(r,o)=>{if(!H.isValidElement(r))return;let c=[...e,o];if(r.type===H.Fragment){i.push.apply(i,Rd(r.props.children,c));return}Ee(r.type===yc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Rd(r.props.children,c)),i.push(d)}),i}var vc="get",_c="application/x-www-form-urlencoded";function Fc(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Ib(s){return Fc(s)&&s.tagName.toLowerCase()==="button"}function Ob(s){return Fc(s)&&s.tagName.toLowerCase()==="form"}function Mb(s){return Fc(s)&&s.tagName.toLowerCase()==="input"}function jb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Lb(s,e){return s.button===0&&(!e||e==="_self")&&!jb(s)}var hc=null;function Ub(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(s){return s!=null&&!zb.has(s)?(ri(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):s}function Pb(s,e){let i,r,o,c,d;if(Ob(s)){let g=s.getAttribute("action");r=g?da(g,e):null,i=s.getAttribute("method")||vc,o=hd(s.getAttribute("enctype"))||_c,c=new FormData(s)}else if(Ib(s)||Mb(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||g.getAttribute("action");if(r=m?da(m,e):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||vc,o=hd(s.getAttribute("formenctype"))||hd(g.getAttribute("enctype"))||_c,c=new FormData(g,s),!Ub()){let{name:y,type:E,value:A}=s;if(E==="image"){let b=y?`${y}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else y&&c.append(y,A)}}else{if(Fc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vc,r=null,o=_c,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nm(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Bb(s,e,i,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&da(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function kb(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function qb(s,e,i){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await kb(c,i);return d.links?d.links():[]}return[]}));return Yb(r.flat(1).filter(Hb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(s,e,i,r,o,c){let d=(m,y)=>i[y]?m.route.id!==i[y].route.id:!0,g=(m,y)=>i[y].pathname!==m.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,y)=>d(m,y)||g(m,y)):c==="data"?e.filter((m,y)=>{let E=r.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(d(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Fb(s,e,{includeHydrateFallback:i}={}){return Gb(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Gb(s){return[...new Set(s)]}function Qb(s){let e={},i=Object.keys(s).sort();for(let r of i)e[r]=s[r];return e}function Yb(s,e){let i=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(Qb(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function F0(){let s=H.useContext(il);return nm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Kb(){let s=H.useContext(Hc);return nm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var im=H.createContext(void 0);im.displayName="FrameworkContext";function G0(){let s=H.useContext(im);return nm(s,"You must render this element inside a <HydratedRouter> element"),s}function Xb(s,e){let i=H.useContext(im),[r,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,b=H.useRef(null);H.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let K=nt=>{nt.forEach(st=>{d(st.isIntersecting)})},Q=new IntersectionObserver(K,{threshold:.5});return b.current&&Q.observe(b.current),()=>{Q.disconnect()}}},[s]),H.useEffect(()=>{if(r){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[r]);let j=()=>{o(!0)},z=()=>{o(!1),d(!1)};return i?s!=="intent"?[c,b,{}]:[c,b,{onFocus:ho(g,j),onBlur:ho(m,z),onMouseEnter:ho(y,j),onMouseLeave:ho(E,z),onTouchStart:ho(A,j)}]:[!1,b,{}]}function ho(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function $b({page:s,...e}){let{router:i}=F0(),r=H.useMemo(()=>V0(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?H.createElement(Jb,{page:s,matches:r,...e}):null}function Zb(s){let{manifest:e,routeModules:i}=G0(),[r,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return qb(s,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,i]),r}function Jb({page:s,matches:e,...i}){let r=us(),{future:o,manifest:c,routeModules:d}=G0(),{basename:g}=F0(),{loaderData:m,matches:y}=Kb(),E=H.useMemo(()=>vv(s,e,y,c,r,"data"),[s,e,y,c,r]),A=H.useMemo(()=>vv(s,e,y,c,r,"assets"),[s,e,y,c,r]),b=H.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let K=new Set,Q=!1;if(e.forEach(st=>{let ot=c.routes[st.route.id];!ot||!ot.hasLoader||(!E.some(dt=>dt.route.id===st.route.id)&&st.route.id in m&&d[st.route.id]?.shouldRevalidate||ot.hasClientLoader?Q=!0:K.add(st.route.id))}),K.size===0)return[];let nt=Bb(s,g,o.unstable_trailingSlashAwareDataRequests,"data");return Q&&K.size>0&&nt.searchParams.set("_routes",e.filter(st=>K.has(st.route.id)).map(st=>st.route.id).join(",")),[nt.pathname+nt.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,r,c,E,e,s,d]),j=H.useMemo(()=>Fb(A,c),[A,c]),z=Zb(A);return H.createElement(H.Fragment,null,b.map(K=>H.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...i})),j.map(K=>H.createElement("link",{key:K,rel:"modulepreload",href:K,...i})),z.map(({key:K,link:Q})=>H.createElement("link",{key:K,nonce:i.nonce,...Q,crossOrigin:Q.crossOrigin??i.crossOrigin})))}function Wb(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tA&&(window.__reactRouterVersion="7.13.0")}catch{}function eA({basename:s,children:e,unstable_useTransitions:i,window:r}){let o=H.useRef();o.current==null&&(o.current=OT({window:r,v5Compat:!0}));let c=o.current,[d,g]=H.useState({action:c.action,location:c.location}),m=H.useCallback(y=>{i===!1?g(y):H.startTransition(()=>g(y))},[i]);return H.useLayoutEffect(()=>c.listen(m),[c,m]),H.createElement(Db,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i})}var Q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y0=H.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:g,target:m,to:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b,...j},z){let{basename:K,unstable_useTransitions:Q}=H.useContext(qn),nt=typeof y=="string"&&Q0.test(y),st=j0(y,K);y=st.to;let ot=db(y,{relative:o}),[dt,xt,Ct]=Xb(r,j),N=sA(y,{replace:d,state:g,target:m,preventScrollReset:E,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:b,unstable_useTransitions:Q});function x(M){e&&e(M),M.defaultPrevented||N(M)}let C=H.createElement("a",{...j,...Ct,href:st.absoluteURL||ot,onClick:st.isExternal||c?e:x,ref:Wb(z,xt),target:m,"data-discover":!nt&&i==="render"?"true":void 0});return dt&&!nt?H.createElement(H.Fragment,null,C,H.createElement($b,{page:ot})):C});Y0.displayName="Link";var nA=H.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:g,children:m,...y},E){let A=jo(d,{relative:y.relative}),b=us(),j=H.useContext(Hc),{navigator:z,basename:K}=H.useContext(qn),Q=j!=null&&cA(A)&&g===!0,nt=z.encodeLocation?z.encodeLocation(A).pathname:A.pathname,st=b.pathname,ot=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(st=st.toLowerCase(),ot=ot?ot.toLowerCase():null,nt=nt.toLowerCase()),ot&&K&&(ot=da(ot,K)||ot);const dt=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let xt=st===nt||!o&&st.startsWith(nt)&&st.charAt(dt)==="/",Ct=ot!=null&&(ot===nt||!o&&ot.startsWith(nt)&&ot.charAt(nt.length)==="/"),N={isActive:xt,isPending:Ct,isTransitioning:Q},x=xt?e:void 0,C;typeof r=="function"?C=r(N):C=[r,xt?"active":null,Ct?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(N):c;return H.createElement(Y0,{...y,"aria-current":x,className:C,ref:E,style:M,to:d,viewTransition:g},typeof m=="function"?m(N):m)});nA.displayName="NavLink";var iA=H.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:d=vc,action:g,onSubmit:m,relative:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b,...j},z)=>{let{unstable_useTransitions:K}=H.useContext(qn),Q=oA(),nt=uA(g,{relative:y}),st=d.toLowerCase()==="get"?"get":"post",ot=typeof g=="string"&&Q0.test(g),dt=xt=>{if(m&&m(xt),xt.defaultPrevented)return;xt.preventDefault();let Ct=xt.nativeEvent.submitter,N=Ct?.getAttribute("formmethod")||d,x=()=>Q(Ct||xt.currentTarget,{fetcherKey:e,method:N,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b});K&&i!==!1?H.startTransition(()=>x()):x()};return H.createElement("form",{ref:z,method:st,action:nt,onSubmit:r?m:dt,...j,"data-discover":!ot&&s==="render"?"true":void 0})});iA.displayName="Form";function aA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K0(s){let e=H.useContext(il);return Ee(e,aA(s)),e}function sA(s,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let y=qc(),E=us(),A=jo(s,{relative:c});return H.useCallback(b=>{if(Lb(b,e)){b.preventDefault();let j=i!==void 0?i:Ao(E)===Ao(A),z=()=>y(s,{replace:j,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g});m?H.startTransition(()=>z()):z()}},[E,y,A,i,r,e,s,o,c,d,g,m])}var rA=0,lA=()=>`__${String(++rA)}__`;function oA(){let{router:s}=K0("useSubmit"),{basename:e}=H.useContext(qn),i=wb(),r=s.fetch,o=s.navigate;return H.useCallback(async(c,d={})=>{let{action:g,method:m,encType:y,formData:E,body:A}=Pb(c,e);if(d.navigate===!1){let b=d.fetcherKey||lA();await r(b,i,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:A,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:A,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,o,e,i])}function uA(s,{relative:e}={}){let{basename:i}=H.useContext(qn),r=H.useContext(_i);Ee(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...jo(s||".",{relative:e})},d=us();if(s==null){c.search=d.search;let g=new URLSearchParams(c.search),m=g.getAll("index");if(m.some(E=>E==="")){g.delete("index"),m.filter(A=>A).forEach(A=>g.append("index",A));let E=g.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:fa([i,c.pathname])),Ao(c)}function cA(s,{relative:e}={}){let i=H.useContext(U0);Ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=K0("useViewTransitionState"),o=jo(s,{relative:e});if(!i.isTransitioning)return!1;let c=da(i.currentLocation.pathname,r)||i.currentLocation.pathname,d=da(i.nextLocation.pathname,r)||i.nextLocation.pathname;return xc(o.pathname,d)!=null||xc(o.pathname,c)!=null}const hA=()=>{};var _v={};const X0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},fA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,m=o+2<s.length,y=m?s[o+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let b=(g&15)<<2|y>>6,j=y&63;m||(j=64,d||(b=64)),r.push(i[E],i[A],i[b],i[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(X0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):fA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new dA;const b=c<<2|g>>4;if(r.push(b),y!==64){const j=g<<4&240|y>>2;if(r.push(j),A!==64){const z=y<<6&192|A;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mA=function(s){const e=X0(s);return $0.encodeByteArray(e,!0)},Rc=function(s){return mA(s).replace(/\./g,"")},pA=function(s){try{return $0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yA=()=>gA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_A=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&pA(s[1]);return e&&JSON.parse(e)},am=()=>{try{return hA()||yA()||vA()||_A()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},EA=s=>am()?.emulatorHosts?.[s],TA=s=>{const e=EA(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Z0=()=>am()?.config;class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function sm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AA(s){return(await fetch(s,{credentials:"include"})).ok}function SA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Rc(JSON.stringify(i)),Rc(JSON.stringify(d)),""].join(".")}const vo={};function wA(){const s={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?s.emulator.push(e):s.prod.push(e);return s}function xA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Ev=!1;function RA(s,e){if(typeof window>"u"||typeof document>"u"||!sm(window.location.host)||vo[s]===e||vo[s]||Ev)return;vo[s]=e;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=wA().prod.length>0;function d(){const b=document.getElementById(r);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,j){b.setAttribute("width","24"),b.setAttribute("id",j),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ev=!0,d()},b}function E(b,j){b.setAttribute("id",j),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=xA(r),j=i("text"),z=document.getElementById(j)||document.createElement("span"),K=i("learnmore"),Q=document.getElementById(K)||document.createElement("a"),nt=i("preprendIcon"),st=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ot=b.element;g(ot),E(Q,K);const dt=y();m(st,nt),ot.append(st,z,Q,dt),document.body.appendChild(ot)}c?(z.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function CA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){const s=am()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DA(){return!NA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const OA="FirebaseError";class sl extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=OA,Object.setPrototypeOf(this,sl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J0.prototype.create)}}class J0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?MA(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new sl(o,g,r)}}function MA(s,e){return s.replace(jA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const jA=/\{\$([^}]+)}/g;function So(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(Tv(c)&&Tv(d)){if(!So(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Tv(s){return s!==null&&typeof s=="object"}function ns(s){return s&&s._delegate?s._delegate:s}class wo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qs="[DEFAULT]";class LA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new bA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zA(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UA(s){return s===qs?void 0:s}function zA(s){return s.instantiationMode==="EAGER"}class PA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Kt||(Kt={}));const BA={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},kA=Kt.INFO,HA={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},qA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=HA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=kA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const FA=(s,e)=>e.some(i=>s instanceof i);let bv,Av;function GA(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t_=new WeakMap,Cd=new WeakMap,e_=new WeakMap,fd=new WeakMap,rm=new WeakMap;function YA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ja(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&t_.set(i,s)}).catch(()=>{}),rm.set(e,s),e}function KA(s){if(Cd.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Cd.set(s,e)}let Nd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||e_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ja(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XA(s){Nd=s(Nd)}function $A(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(dd(this),e,...i);return e_.set(r,e.sort?e.sort():[e]),Ja(r)}:QA().includes(s)?function(...e){return s.apply(dd(this),e),Ja(t_.get(this))}:function(...e){return Ja(s.apply(dd(this),e))}}function ZA(s){return typeof s=="function"?$A(s):(s instanceof IDBTransaction&&KA(s),FA(s,GA())?new Proxy(s,Nd):s)}function Ja(s){if(s instanceof IDBRequest)return YA(s);if(fd.has(s))return fd.get(s);const e=ZA(s);return e!==s&&(fd.set(s,e),rm.set(e,s)),e}const dd=s=>rm.get(s);function JA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Ja(d);return r&&d.addEventListener("upgradeneeded",m=>{r(Ja(d.result),m.oldVersion,m.newVersion,Ja(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),g.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const WA=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],md=new Map;function Sv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=tS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WA.includes(i)))return;const c=async function(d,...g){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&m.done]))[0]};return md.set(e,c),c}XA(s=>({...s,get:(e,i,r)=>Sv(e,i)||s.get(e,i,r),has:(e,i)=>!!Sv(e,i)||s.has(e,i)}));class eS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nS(s){return s.getComponent()?.type==="VERSION"}const Dd="@firebase/app",wv="0.14.8";const ma=new W0("@firebase/app"),iS="@firebase/app-compat",aS="@firebase/analytics-compat",sS="@firebase/analytics",rS="@firebase/app-check-compat",lS="@firebase/app-check",oS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",pS="@firebase/installations",gS="@firebase/installations-compat",yS="@firebase/messaging",vS="@firebase/messaging-compat",_S="@firebase/performance",ES="@firebase/performance-compat",TS="@firebase/remote-config",bS="@firebase/remote-config-compat",AS="@firebase/storage",SS="@firebase/storage-compat",wS="@firebase/firestore",xS="@firebase/ai",RS="@firebase/firestore-compat",CS="firebase",NS="12.9.0";const Vd="[DEFAULT]",DS={[Dd]:"fire-core",[iS]:"fire-core-compat",[sS]:"fire-analytics",[aS]:"fire-analytics-compat",[lS]:"fire-app-check",[rS]:"fire-app-check-compat",[oS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[pS]:"fire-iid",[gS]:"fire-iid-compat",[yS]:"fire-fcm",[vS]:"fire-fcm-compat",[_S]:"fire-perf",[ES]:"fire-perf-compat",[TS]:"fire-rc",[bS]:"fire-rc-compat",[AS]:"fire-gcs",[SS]:"fire-gcs-compat",[wS]:"fire-fst",[RS]:"fire-fst-compat",[xS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};const Cc=new Map,VS=new Map,Id=new Map;function xv(s,e){try{s.container.addComponent(e)}catch(i){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Nc(s){const e=s.name;if(Id.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,s);for(const i of Cc.values())xv(i,s);for(const i of VS.values())xv(i,s);return!0}function IS(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function OS(s){return s==null?!1:s.settings!==void 0}const MS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new J0("app","Firebase",MS);class jS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const LS=NS;function n_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Vd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Wa.create("bad-app-name",{appName:String(o)});if(i||(i=Z0()),!i)throw Wa.create("no-options");const c=Cc.get(o);if(c){if(So(i,c.options)&&So(r,c.config))return c;throw Wa.create("duplicate-app",{appName:o})}const d=new PA(o);for(const m of Id.values())d.addComponent(m);const g=new jS(i,r,d);return Cc.set(o,g),g}function US(s=Vd){const e=Cc.get(s);if(!e&&s===Vd&&Z0())return n_();if(!e)throw Wa.create("no-app",{appName:s});return e}function Gr(s,e,i){let r=DS[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(d.join(" "));return}Nc(new wo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zS="firebase-heartbeat-database",PS=1,xo="firebase-heartbeat-store";let pd=null;function i_(){return pd||(pd=JA(zS,PS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Wa.create("idb-open",{originalErrorMessage:s.message})})),pd}async function BS(s){try{const i=(await i_()).transaction(xo),r=await i.objectStore(xo).get(a_(s));return await i.done,r}catch(e){if(e instanceof sl)ma.warn(e.message);else{const i=Wa.create("idb-get",{originalErrorMessage:e?.message});ma.warn(i.message)}}}async function Rv(s,e){try{const r=(await i_()).transaction(xo,"readwrite");await r.objectStore(xo).put(e,a_(s)),await r.done}catch(i){if(i instanceof sl)ma.warn(i.message);else{const r=Wa.create("idb-set",{originalErrorMessage:i?.message});ma.warn(r.message)}}}function a_(s){return`${s.name}!${s.options.appId}`}const kS=1024,HS=30;class qS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const o=QS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ma.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:i,unsentEntries:r}=FS(this._heartbeatsCache.heartbeats),o=Rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ma.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function FS(s,e=kS){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Nv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Nv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class GS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nv(s){return Rc(JSON.stringify({version:2,heartbeats:s})).length}function QS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function YS(s){Nc(new wo("platform-logger",e=>new eS(e),"PRIVATE")),Nc(new wo("heartbeat",e=>new qS(e),"PRIVATE")),Gr(Dd,wv,s),Gr(Dd,wv,"esm2020"),Gr("fire-js","")}YS("");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,s_;(function(){var s;function e(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,V,U){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return x.prototype[V].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)M[V]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(V=0;V<16;++V)M[V]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],V=N.g[2];let U=N.g[3],R;R=x+(U^C&(V^U))+M[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(V^x&(C^V))+M[1]+3905402710&4294967295,U=x+(R<<12&4294967295|R>>>20),R=V+(C^U&(x^C))+M[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(x^V&(U^x))+M[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=x+(U^C&(V^U))+M[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(V^x&(C^V))+M[5]+1200080426&4294967295,U=x+(R<<12&4294967295|R>>>20),R=V+(C^U&(x^C))+M[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(x^V&(U^x))+M[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=x+(U^C&(V^U))+M[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(V^x&(C^V))+M[9]+2336552879&4294967295,U=x+(R<<12&4294967295|R>>>20),R=V+(C^U&(x^C))+M[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(x^V&(U^x))+M[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=x+(U^C&(V^U))+M[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(V^x&(C^V))+M[13]+4254626195&4294967295,U=x+(R<<12&4294967295|R>>>20),R=V+(C^U&(x^C))+M[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(x^V&(U^x))+M[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=x+(V^U&(C^V))+M[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(x^C))+M[6]+3225465664&4294967295,U=x+(R<<9&4294967295|R>>>23),R=V+(x^C&(U^x))+M[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(V^U))+M[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=x+(V^U&(C^V))+M[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(x^C))+M[10]+38016083&4294967295,U=x+(R<<9&4294967295|R>>>23),R=V+(x^C&(U^x))+M[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(V^U))+M[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=x+(V^U&(C^V))+M[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(x^C))+M[14]+3275163606&4294967295,U=x+(R<<9&4294967295|R>>>23),R=V+(x^C&(U^x))+M[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(V^U))+M[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=x+(V^U&(C^V))+M[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(x^C))+M[2]+4243563512&4294967295,U=x+(R<<9&4294967295|R>>>23),R=V+(x^C&(U^x))+M[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(V^U))+M[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=x+(C^V^U)+M[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^V)+M[8]+2272392833&4294967295,U=x+(R<<11&4294967295|R>>>21),R=V+(U^x^C)+M[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^x)+M[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=x+(C^V^U)+M[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^V)+M[4]+1272893353&4294967295,U=x+(R<<11&4294967295|R>>>21),R=V+(U^x^C)+M[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^x)+M[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=x+(C^V^U)+M[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^V)+M[0]+3936430074&4294967295,U=x+(R<<11&4294967295|R>>>21),R=V+(U^x^C)+M[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^x)+M[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=x+(C^V^U)+M[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^V)+M[12]+3873151461&4294967295,U=x+(R<<11&4294967295|R>>>21),R=V+(U^x^C)+M[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^x)+M[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=x+(V^(C|~U))+M[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~V))+M[7]+1126891415&4294967295,U=x+(R<<10&4294967295|R>>>22),R=V+(x^(U|~C))+M[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~x))+M[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=x+(V^(C|~U))+M[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~V))+M[3]+2399980690&4294967295,U=x+(R<<10&4294967295|R>>>22),R=V+(x^(U|~C))+M[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~x))+M[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=x+(V^(C|~U))+M[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~V))+M[15]+4264355552&4294967295,U=x+(R<<10&4294967295|R>>>22),R=V+(x^(U|~C))+M[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~x))+M[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=x+(V^(C|~U))+M[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~V))+M[11]+3174756917&4294967295,U=x+(R<<10&4294967295|R>>>22),R=V+(x^(U|~C))+M[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~x))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<x;){if(V==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<x;)if(M[V++]=N.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<x;)if(M[V++]=N[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=x},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[x++]=this.g[C]>>>M&255;return N};function c(N,x){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function d(N,x){this.h=x;const C=[];let M=!0;for(let V=N.length-1;V>=0;V--){const U=N[V]|0;M&&U==x||(C[V]=U,M=!1)}this.g=C}var g={};function m(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return Q(y(-N));const x=[];let C=1;for(let M=0;N>=C;M++)x[M]=N/C|0,C*=4294967296;return new d(x,0)}function E(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return Q(E(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let M=A;for(let U=0;U<N.length;U+=8){var V=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+V),x);V<8?(V=y(Math.pow(x,V)),M=M.j(V).add(y(R))):(M=M.j(C),M=M.add(y(R)))}return M}var A=m(0),b=m(1),j=m(16777216);s=d.prototype,s.m=function(){if(K(this))return-Q(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(z(this))return"0";if(K(this))return"-"+Q(this).toString(N);const x=y(Math.pow(N,6));var C=this;let M="";for(;;){const V=dt(C,x).g;C=nt(C,V.j(x));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,z(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function z(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function K(N){return N.h==-1}s.l=function(N){return N=nt(this,N),K(N)?-1:z(N)?0:1};function Q(N){const x=N.g.length,C=[];for(let M=0;M<x;M++)C[M]=~N.g[M];return new d(C,~N.h).add(b)}s.abs=function(){return K(this)?Q(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let V=0;V<=x;V++){let U=M+(this.i(V)&65535)+(N.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);M=R>>>16,U&=65535,R&=65535,C[V]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function nt(N,x){return N.add(Q(x))}s.j=function(N){if(z(this)||z(N))return A;if(K(this))return K(N)?Q(this).j(Q(N)):Q(Q(this).j(N));if(K(N))return Q(this.j(Q(N)));if(this.l(j)<0&&N.l(j)<0)return y(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<N.g.length;V++){const U=this.i(M)>>>16,R=this.i(M)&65535,ee=N.i(V)>>>16,Te=N.i(V)&65535;C[2*M+2*V]+=R*Te,st(C,2*M+2*V),C[2*M+2*V+1]+=U*Te,st(C,2*M+2*V+1),C[2*M+2*V+1]+=R*ee,st(C,2*M+2*V+1),C[2*M+2*V+2]+=U*ee,st(C,2*M+2*V+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new d(C,0)};function st(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function ot(N,x){this.g=N,this.h=x}function dt(N,x){if(z(x))throw Error("division by zero");if(z(N))return new ot(A,A);if(K(N))return x=dt(Q(N),x),new ot(Q(x.g),Q(x.h));if(K(x))return x=dt(N,Q(x)),new ot(Q(x.g),x.h);if(N.g.length>30){if(K(N)||K(x))throw Error("slowDivide_ only works with positive integers.");for(var C=b,M=x;M.l(N)<=0;)C=xt(C),M=xt(M);var V=Ct(C,1),U=Ct(M,1);for(M=Ct(M,2),C=Ct(C,2);!z(M);){var R=U.add(M);R.l(N)<=0&&(V=V.add(C),U=R),M=Ct(M,1),C=Ct(C,1)}return x=nt(N,V.j(x)),new ot(V,x)}for(V=A;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),R=U.j(x);K(R)||R.l(N)>0;)C-=M,U=y(C),R=U.j(x);z(U)&&(U=b),V=V.add(U),N=nt(N,R)}return new ot(V,N)}s.B=function(N){return dt(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function xt(N){const x=N.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Ct(N,x){const C=x>>5;x%=32;const M=N.g.length-C,V=[];for(let U=0;U<M;U++)V[U]=x>0?N.i(U+C)>>>x|N.i(U+C+1)<<32-x:N.i(U+C);return new d(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ts=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var r_,mo,l_,Ec,Od,o_,u_,c_;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,p){if(p)t:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in _))break t;_=_[P]}u=u[u.length-1],S=_[u],p=p(S),p!=S&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var _=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&_.push([S,p[S]]);return _}});var c=c||{},d=this||self;function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function m(u,p,_){return u.call.apply(u.bind,arguments)}function y(u,p,_){return y=m,y.apply(null,arguments)}function E(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,P,F){for(var lt=Array(arguments.length-2),It=2;It<arguments.length;It++)lt[It-2]=arguments[It];return p.prototype[P].apply(S,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const p=u.length;if(p>0){const _=Array(p);for(let S=0;S<p;S++)_[S]=u[S];return _}return[]}function z(u,p){for(let S=1;S<arguments.length;S++){const P=arguments[S];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const F=P.length||0;u.length=_+F;for(let lt=0;lt<F;lt++)u[_+lt]=P[lt]}else u.push(P)}}class K{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Q(u){d.setTimeout(()=>{throw u},0)}function nt(){var u=N;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class st{constructor(){this.h=this.g=null}add(p,_){const S=ot.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new K(()=>new dt,u=>u.reset());class dt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,Ct=!1,N=new st,x=()=>{const u=Promise.resolve(void 0);xt=()=>{u.then(C)}};function C(){for(var u;u=nt();){try{u.h.call(u.g)}catch(_){Q(_)}var p=ot;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,p){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}A(ee,V),ee.prototype.init=function(u,p){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ut(u,p,_,S,P){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=P,this.key=++Y,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,p,_){for(const S in u)p.call(_,u[S],S,u)}function Bt(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function I(u){const p={};for(const _ in u)p[_]=u[_];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(u,p){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)u[_]=S[_];for(let F=0;F<Z.length;F++)_=Z[F],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function ht(u){this.src=u,this.g={},this.h=0}ht.prototype.add=function(u,p,_,S,P){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const lt=W(u,p,S,P);return lt>-1?(p=u[lt],_||(p.fa=!1)):(p=new ut(p,this.src,F,!!S,P),p.fa=_,u.push(p)),p};function St(u,p){const _=p.type;if(_ in u.g){var S=u.g[_],P=Array.prototype.indexOf.call(S,p,void 0),F;(F=P>=0)&&Array.prototype.splice.call(S,P,1),F&&(pt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function W(u,p,_,S){for(let P=0;P<u.length;++P){const F=u[P];if(!F.da&&F.listener==p&&F.capture==!!_&&F.ha==S)return P}return-1}var it="closure_lm_"+(Math.random()*1e6|0),$={};function _t(u,p,_,S,P){if(Array.isArray(p)){for(let F=0;F<p.length;F++)_t(u,p[F],_,S,P);return null}return _=Ge(_),u&&u[Te]?u.J(p,_,g(S)?!!S.capture:!1,P):Nt(u,p,_,!1,S,P)}function Nt(u,p,_,S,P,F){if(!p)throw Error("Invalid event type");const lt=g(P)?!!P.capture:!!P;let It=gn(u);if(It||(u[it]=It=new ht(u)),_=It.add(p,_,S,lt,F),_.proxy)return _;if(S=Xt(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)U||(P=lt),P===void 0&&(P=!1),u.addEventListener(p.toString(),S,P);else if(u.attachEvent)u.attachEvent(he(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xt(){function u(_){return p.call(u.src,u.listener,_)}const p=en;return u}function ie(u,p,_,S,P){if(Array.isArray(p))for(var F=0;F<p.length;F++)ie(u,p[F],_,S,P);else S=g(S)?!!S.capture:!!S,_=Ge(_),u&&u[Te]?(u=u.i,F=String(p).toString(),F in u.g&&(p=u.g[F],_=W(p,_,S,P),_>-1&&(pt(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[F],u.h--)))):u&&(u=gn(u))&&(p=u.g[p.toString()],u=-1,p&&(u=W(p,_,S,P)),(_=u>-1?p[u]:null)&&Ut(_))}function Ut(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Te])St(p.i,u);else{var _=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(_,S,u.capture):p.detachEvent?p.detachEvent(he(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=gn(p))?(St(_,u),_.h==0&&(_.src=null,p[it]=null)):pt(u)}}}function he(u){return u in $?$[u]:$[u]="on"+u}function en(u,p){if(u.da)u=!0;else{p=new ee(p,this);const _=u.listener,S=u.ha||u.src;u.fa&&Ut(u),u=_.call(S,p)}return u}function gn(u){return u=u[it],u instanceof ht?u:null}var li="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ge(u){return typeof u=="function"?u:(u[li]||(u[li]=function(p){return u.handleEvent(p)}),u[li])}function Jt(){M.call(this),this.i=new ht(this),this.M=this,this.G=null}A(Jt,M),Jt.prototype[Te]=!0,Jt.prototype.removeEventListener=function(u,p,_,S){ie(this,u,p,_,S)};function Qt(u,p){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new V(p,u);else if(p instanceof V)p.target=p.target||u;else{var P=p;p=new V(S,u),ct(p,P)}P=!0;let F,lt;if(_)for(lt=_.length-1;lt>=0;lt--)F=p.g=_[lt],P=En(F,S,!0,p)&&P;if(F=p.g=u,P=En(F,S,!0,p)&&P,P=En(F,S,!1,p)&&P,_)for(lt=0;lt<_.length;lt++)F=p.g=_[lt],P=En(F,S,!1,p)&&P}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let S=0;S<_.length;S++)pt(_[S]);delete u.g[p],u.h--}}this.G=null},Jt.prototype.J=function(u,p,_,S){return this.i.add(String(u),p,!1,_,S)},Jt.prototype.K=function(u,p,_,S){return this.i.add(String(u),p,!0,_,S)};function En(u,p,_,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let F=0;F<p.length;++F){const lt=p[F];if(lt&&!lt.da&&lt.capture==_){const It=lt.listener,Ne=lt.ha||lt.src;lt.fa&&St(u.i,lt),P=It.call(Ne,S)!==!1&&P}}return P&&!S.defaultPrevented}function fs(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function Oe(u){u.g=fs(()=>{u.g=null,u.i&&(u.i=!1,Oe(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Qe extends M{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(u){M.call(this),this.h=u,this.g={}}A(In,M);var ya=[];function ds(u){jt(u.g,function(p,_){this.g.hasOwnProperty(_)&&Ut(p)},u),u.g={}}In.prototype.N=function(){In.Z.N.call(this),ds(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=d.JSON.stringify,Js=d.JSON.parse,ms=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ws(){}function va(){}var Tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){V.call(this,"d")}A(Me,V);function yn(){V.call(this,"c")}A(yn,V);var be={},rt=null;function Lt(){return rt=rt||new Jt}be.Ia="serverreachability";function Et(u){V.call(this,be.Ia,u)}A(Et,V);function nn(u){const p=Lt();Qt(p,new Et(p))}be.STAT_EVENT="statevent";function Qi(u,p){V.call(this,be.STAT_EVENT,u),this.stat=p}A(Qi,V);function Ce(u){const p=Lt();Qt(p,new Qi(p,u))}be.Ja="timingevent";function Fn(u,p){V.call(this,be.Ja,u),this.size=p}A(Fn,V);function Gn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function bn(){this.g=!0}bn.prototype.ua=function(){this.g=!1};function tr(u,p,_,S,P,F){u.info(function(){if(u.g)if(F){var lt="",It=F.split("&");for(let Wt=0;Wt<It.length;Wt++){var Ne=It[Wt].split("=");if(Ne.length>1){const ve=Ne[0];Ne=Ne[1];const $n=ve.split("_");lt=$n.length>=2&&$n[1]=="type"?lt+(ve+"="+Ne+"&"):lt+(ve+"=redacted&")}}}else lt=null;else lt=F;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+_+`
`+lt})}function $e(u,p,_,S,P,F,lt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+_+`
`+F+" "+lt})}function Qn(u,p,_,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+lh(u,_)+(S?" "+S:"")})}function ps(u,p){u.info(function(){return"TIMEOUT: "+p})}bn.prototype.info=function(){};function lh(u,p){if(!u.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var _=F[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let lt=1;lt<S.length;lt++)S[lt]=""}}}}return Ei(F)}catch{return p}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function ys(){}A(ys,Ws),ys.prototype.g=function(){return new XMLHttpRequest},hl=new ys;function Yi(u){return encodeURIComponent(String(u))}function qo(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function oi(u,p,_,S){this.j=u,this.i=p,this.l=_,this.S=S||1,this.V=new In(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var je={},Ze={};function Ti(u,p,_){u.M=1,u.A=vs(Ue(p)),u.u=_,u.R=!0,er(u,null)}function er(u,p){u.F=Date.now(),bi(u),u.B=Ue(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),sr(_.i,"t",S),u.C=0,_=u.j.L,u.h=new ui,u.g=au(u.j,_?p:null,!u.u),u.P>0&&(u.O=new Qe(y(u.Y,u,u.g),u.P)),p=u.V,_=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ya[0]=P.toString()),P=ya);for(let F=0;F<P.length;F++){const lt=_t(_,P[F],S||p.handleEvent,!1,p.h||p);if(!lt)break;p.g[lt.key]=lt}p=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),nn(),tr(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const p=this.O;p&&fi(u)==3?p.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)t:{const It=fi(this.g),Ne=this.g.ya(),Wt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||It!=4||Ne==7||(Ne==8||Wt<=0?nn(3):nn(2)),Ai(this);var p=this.g.ca();this.X=p;var _=oh(this);if(this.o=p==200,$e(this.i,this.v,this.B,this.l,this.S,It,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var F=S;break e}}F=null}if(u=F)Qn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Ce(12),On(this),Yn(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<_.length;)if(ve=Go(this,_),ve==Ze){It==4&&(this.m=4,Ce(14),u=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==je){this.m=4,Ce(15),Qn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Qn(this.i,this.l,ve,null),Si(this,ve);if(Fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||_.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)Qn(this.i,this.l,_,"[Invalid Chunked Response]"),On(this),Yn(this);else if(_.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xl(lt),lt.P=!0,Ce(11))}}else Qn(this.i,this.l,_,null),Si(this,_);It==4&&On(this),this.o&&!this.K&&(It==4?tu(this.j,this):(this.o=!1,bi(this)))}else Xi(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),On(this),Yn(this)}}}catch{}};function oh(u){if(!Fo(u))return u.g.la();const p=an(u.g);if(p==="")return"";let _="";const S=p.length,P=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),Yn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<S;F++)u.h.h=!0,_+=u.h.i.decode(p[F],{stream:!(P&&F==S-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function Fo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Go(u,p){var _=u.C,S=p.indexOf(`
`,_);return S==-1?Ze:(_=Number(p.substring(_,S)),isNaN(_)?je:(S+=1,S+_>p.length?Ze:(p=p.slice(S,S+_),u.C=S+_,p)))}oi.prototype.cancel=function(){this.K=!0,On(this)};function bi(u){u.T=Date.now()+u.H,nr(u,u.H)}function nr(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Gn(y(u.aa,u),p)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ps(this.i,this.B),this.M!=2&&(nn(),Ce(17)),On(this),this.m=2,Yn(this)):nr(this,this.T-u)};function Yn(u){u.j.I==0||u.K||tu(u.j,u)}function On(u){Ai(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,ds(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Si(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||xi(_.h,u))){if(!u.L&&xi(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)cr(_),xa(_);else break t;ws(_),Ce(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Gn(y(_.Va,_),6e3));wi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ii(_,11)}else if((u.L||_.g==u)&&cr(_),!R(p))for(P=_.Ba.g.parse(p),p=0;p<P.length;p++){let Wt=P[p];const ve=Wt[0];if(!(ve<=_.K))if(_.K=ve,Wt=Wt[1],_.I==2)if(Wt[0]=="c"){_.M=Wt[1],_.ba=Wt[2];const $n=Wt[3];$n!=null&&(_.ka=$n,_.j.info("VER="+_.ka));const Oi=Wt[4];Oi!=null&&(_.za=Oi,_.j.info("SVER="+_.za));const di=Wt[5];di!=null&&typeof di=="number"&&di>0&&(S=1.5*di,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const mi=u.g;if(mi){const xs=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var F=S.h;F.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ml(F,F.h),F.h=null))}if(S.G){const hr=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(S.wa=hr,ae(S.J,S.G,hr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var lt=u;if(S.na=iu(S,S.L?S.ba:null,S.W),lt.L){pl(S.h,lt);var It=lt,Ne=S.O;Ne&&(It.H=Ne),It.D&&(Ai(It),bi(It)),S.g=lt}else Jo(S);_.i.length>0&&Vi(_)}else Wt[0]!="stop"&&Wt[0]!="close"||Ii(_,7);else _.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Ii(_,7):Sl(_):Wt[0]!="noop"&&_.l&&_.l.qa(Wt),_.A=0)}}nn(4)}catch{}}var Le=class{constructor(u,p){this.g=u,this.map=p}};function fl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function xi(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ml(u,p){u.g?u.g.add(p):u.h=p}function pl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}fl.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return j(u.i)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let P,F=null;S>=0?(P=u[_].substring(0,S),F=u[_].substring(S+1)):P=u[_],p(P,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Mn?(this.l=u.l,Je(this,u.j),this.o=u.o,this.g=u.g,_a(this,u.u),this.h=u.h,yl(this,$o(u.i)),this.m=u.m):u&&(p=String(u).match(Qo))?(this.l=!1,Je(this,p[1]||"",!0),this.o=Ri(p[2]||""),this.g=Ri(p[3]||"",!0),_a(this,p[4]),this.h=Ri(p[5]||"",!0),yl(this,p[6]||"",!0),this.m=Ri(p[7]||"")):(this.l=!1,this.i=new Ta(null,this.l))}Mn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(_s(p,ar,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(_s(p,ar,!0),"@"),u.push(Yi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_s(_,_.charAt(0)=="/"?vl:Yo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_s(_,Ko)),u.join("")},Mn.prototype.resolve=function(u){const p=Ue(this);let _=!!u.j;_?Je(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var S=u.h;if(_)_a(p,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=p.h.lastIndexOf("/");P!=-1&&(S=p.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const F=[];for(let lt=0;lt<P.length;){const It=P[lt++];It=="."?S&&lt==P.length&&F.push(""):It==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&lt==P.length&&F.push("")):(F.push(It),S=!0)}S=F.join("/")}else S=P}return _?p.h=S:_=u.i.toString()!=="",_?yl(p,$o(u.i)):_=!!u.m,_&&(p.m=u.m),p};function Ue(u){return new Mn(u)}function Je(u,p,_){u.j=_?Ri(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function _a(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function yl(u,p,_){p instanceof Ta?(u.i=p,rr(u.i,u.l)):(_||(p=_s(p,Ea)),u.i=new Ta(p,u.l))}function ae(u,p,_){u.i.set(p,_)}function vs(u){return ae(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _s(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,An),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ar=/[#\/\?@]/g,Yo=/[#\?:]/g,vl=/[#\?]/g,Ea=/[#\?@]/g,Ko=/#/g;function Ta(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ir(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}s=Ta.prototype,s.add=function(u,p){Sn(this),this.i=null,u=ba(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Xo(u,p){Sn(u),p=ba(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function _l(u,p){return Sn(u),p=ba(u,p),u.g.has(p)}s.forEach=function(u,p){Sn(this),this.g.forEach(function(_,S){_.forEach(function(P){u.call(p,P,S,this)},this)},this)};function El(u,p){Sn(u);let _=[];if(typeof p=="string")_l(u,p)&&(_=_.concat(u.g.get(ba(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}s.set=function(u,p){return Sn(this),this.i=null,u=ba(this,u),_l(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=El(this,u),u.length>0?String(u[0]):p):p};function sr(u,p,_){Xo(u,p),_.length>0&&(u.i=null,u.g.set(ba(u,p),j(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var _=p[S];const P=Yi(_);_=El(this,_);for(let F=0;F<_.length;F++){let lt=P;_[F]!==""&&(lt+="="+Yi(_[F])),u.push(lt)}}return this.i=u.join("&")};function $o(u){const p=new Ta;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function ba(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function rr(u,p){p&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(_,S){const P=S.toLowerCase();S!=P&&(Xo(this,S),sr(this,P,_))},u)),u.j=p}function ci(u,p){const _=new bn;if(d.Image){const S=new Image;S.onload=E(Kn,_,"TestLoadImage: loaded",!0,p,S),S.onerror=E(Kn,_,"TestLoadImage: error",!1,p,S),S.onabort=E(Kn,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(Kn,_,"TestLoadImage: timeout",!1,p,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function Tl(u,p){const _=new bn,S=new AbortController,P=setTimeout(()=>{S.abort(),Kn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(P),F.ok?Kn(_,"TestPingServer: ok",!0,p):Kn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Kn(_,"TestPingServer: error",!1,p)})}function Kn(u,p,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function Aa(){this.g=new ms}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ci,Ws),Ci.prototype.g=function(){return new Es(this.i,this.h)};function Es(u,p){Jt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Es,Jt),s=Es.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,hi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Sa(this):hi(this),this.readyState==3&&lr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Sa(this))},s.Na=function(u){this.g&&(this.response=u,Sa(this))},s.ga=function(){this.g&&Sa(this)};function Sa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xn(u){let p="";return jt(u,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function Ts(u,p,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Xn(_),typeof u=="string"?_!=null&&Yi(_):ae(u,p,_))}function le(u){Jt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(le,Jt);var Ni=/^https?$/i,bl=["POST","PUT"];s=le.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){bs(this,F);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bl,p,void 0)>=0)||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,lt]of _)this.g.setRequestHeader(F,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){bs(this,F)}};function bs(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Al(u),Ki(u)}function Al(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Qt(this,"complete"),Qt(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),le.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},s.Xa=function(){As(this)};function As(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Qt(u,"readystatechange"),fi(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var S;if(S=F===0){let lt=String(u.D).match(Qo)[1]||null;!lt&&d.self&&d.self.location&&(lt=d.self.location.protocol.slice(0,-1)),S=!Ni.test(lt?lt.toLowerCase():"")}_=S}if(_)Qt(u,"complete"),Qt(u,"success");else{u.o=6;try{var P=fi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Al(u)}}finally{Ki(u)}}}}function Ki(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||Qt(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Js(p)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const p={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var _=qo(u[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=p[P]||[];p[P]=F,F.push(_)}Bt(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function wa(u){this.za=0,this.i=[],this.j=new bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fl(u&&u.concurrentRequestLimit),this.Ba=new Aa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=wa.prototype,s.ka=8,s.I=1,s.connect=function(u,p,_,S){Ce(0),this.W=u,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=iu(this,null,this.W),Vi(this)};function Sl(u){if(or(u),u.I==3){var p=u.V++,_=Ue(u.J);if(ae(_,"SID",u.M),ae(_,"RID",p),ae(_,"TYPE","terminate"),Ss(u,_),p=new oi(u,u.j,p),p.M=2,p.A=vs(Ue(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.A,_=!0),_||(p.g=au(p.j,null),p.g.ea(p.A)),p.F=Date.now(),bi(p)}nu(u)}function xa(u){u.g&&(xl(u),u.g.cancel(),u.g=null)}function or(u){xa(u),u.v&&(d.clearTimeout(u.v),u.v=null),cr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!dl(u.h)&&!u.m){u.m=!0;var p=u.Ea;xt||x(),Ct||(xt(),Ct=!0),N.add(p,u),u.D=0}}function ur(u,p){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Gn(y(u.Ea,u,p),eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new oi(this,this.j,u);let F=this.o;if(this.U&&(F?(F=I(F),ct(F,this.U)):F=this.U),this.u!==null||this.R||(P.J=F,F=null),this.S)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Zo(this,P,p),_=Ue(this.J),ae(_,"RID",u),ae(_,"CVER",22),this.G&&ae(_,"X-HTTP-Session-Id",this.G),Ss(this,_),F&&(this.R?p="headers="+Yi(Xn(F))+"&"+p:this.u&&Ts(_,this.u,F)),ml(this.h,P),this.Ra&&ae(_,"TYPE","init"),this.S?(ae(_,"$req",p),ae(_,"SID","null"),P.U=!0,Ti(P,_,null)):Ti(P,_,p),this.I=2}}else this.I==3&&(u?wl(this,u):this.i.length==0||dl(this.h)||wl(this))};function wl(u,p){var _;p?_=p.l:_=u.V++;const S=Ue(u.J);ae(S,"SID",u.M),ae(S,"RID",_),ae(S,"AID",u.K),Ss(u,S),u.u&&u.o&&Ts(S,u.u,u.o),_=new oi(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Zo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ml(u.h,_),Ti(_,S,p)}function Ss(u,p){u.H&&jt(u.H,function(_,S){ae(p,S,_)}),u.l&&jt({},function(_,S){ae(p,S,_)})}function Zo(u,p,_){_=Math.min(u.i.length,_);const S=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let It=-1;for(;;){const Ne=["count="+_];It==-1?_>0?(It=P[0].g,Ne.push("ofs="+It)):It=0:Ne.push("ofs="+It);let Wt=!0;for(let ve=0;ve<_;ve++){var F=P[ve].g;const $n=P[ve].map;if(F-=It,F<0)It=Math.max(0,P[ve].g-100),Wt=!1;else try{F="req"+F+"_"||"";try{var lt=$n instanceof Map?$n:Object.entries($n);for(const[Oi,di]of lt){let mi=di;g(di)&&(mi=Ei(di)),Ne.push(F+Oi+"="+encodeURIComponent(mi))}}catch(Oi){throw Ne.push(F+"type="+encodeURIComponent("_badmap")),Oi}}catch{S&&S($n)}}if(Wt){lt=Ne.join("&");break t}}lt=void 0}return u=u.i.splice(0,_),p.G=u,lt}function Jo(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;xt||x(),Ct||(xt(),Ct=!0),N.add(p,u),u.A=0}}function ws(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Gn(y(u.Da,u),eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Gn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),xa(this),Wo(this))};function xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Wo(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Ue(u.na);ae(p,"RID","rpc"),ae(p,"SID",u.M),ae(p,"AID",u.K),ae(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&ae(p,"TO",u.ia),ae(p,"TYPE","xmlhttp"),Ss(u,p),u.u&&u.o&&Ts(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=vs(Ue(p)),_.u=null,_.R=!0,er(_,u)}s.Va=function(){this.C!=null&&(this.C=null,xa(this),ws(this),Ce(19))};function cr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function tu(u,p){var _=null;if(u.g==p){cr(u),xl(u),u.g=null;var S=2}else if(xi(u.h,p))_=p.G,pl(u.h,p),S=1;else return;if(u.I!=0){if(p.o)if(S==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var P=u.D;S=Lt(),Qt(S,new Fn(S,_)),Vi(u)}else Jo(u);else if(P=p.m,P==3||P==0&&p.X>0||!(S==1&&ur(u,p)||S==2&&ws(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),P){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function eu(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function Ii(u,p){if(u.j.info("Error code "+p),p==2){var _=y(u.bb,u),S=u.Ua;const P=!S;S=new Mn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Je(S,"https"),vs(S),P?ci(S.toString(),_):Tl(S.toString(),_)}else Ce(2);u.I=0,u.l&&u.l.pa(p),nu(u),or(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function nu(u){if(u.I=0,u.ja=[],u.l){const p=gl(u.h);(p.length!=0||u.i.length!=0)&&(z(u.ja,p),z(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function iu(u,p,_){var S=_ instanceof Mn?Ue(_):new Mn(_);if(S.g!="")p&&(S.g=p+"."+S.g),_a(S,S.u);else{var P=d.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const F=new Mn(null);S&&Je(F,S),p&&(F.g=p),P&&_a(F,P),_&&(F.h=_),S=F}return _=u.G,p=u.wa,_&&p&&ae(S,_,p),ae(S,"VER",u.ka),Ss(u,S),S}function au(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new le(new Ci({ab:_})):new le(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}s=su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ra(){}Ra.prototype.g=function(u,p){return new vn(u,p)};function vn(u,p){Jt.call(this),this.g=new wa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new $i(this)}A(vn,Jt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Sl(this.g)},vn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ei(u),u=_);p.i.push(new Le(p.Ya++,u)),p.I==3&&Vi(p)},vn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,vn.Z.N.call(this)};function ru(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}A(ru,Me);function lu(){yn.call(this),this.status=1}A(lu,yn);function $i(u){this.g=u}A($i,su),$i.prototype.ra=function(){Qt(this.g,"a")},$i.prototype.qa=function(u){Qt(this.g,new ru(u))},$i.prototype.pa=function(u){Qt(this.g,new lu)},$i.prototype.oa=function(){Qt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,c_=function(){return new Ra},u_=function(){return Lt()},o_=be,Od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Ec=gs,cl.COMPLETE="complete",l_=cl,va.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,mo=va,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,r_=le}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let rl="12.9.0";function KS(s){rl=s}const Qs=new W0("@firebase/firestore");function kr(){return Qs.logLevel}function ft(s,...e){if(Qs.logLevel<=Kt.DEBUG){const i=e.map(lm);Qs.debug(`Firestore (${rl}): ${s}`,...i)}}function pa(s,...e){if(Qs.logLevel<=Kt.ERROR){const i=e.map(lm);Qs.error(`Firestore (${rl}): ${s}`,...i)}}function Ys(s,...e){if(Qs.logLevel<=Kt.WARN){const i=e.map(lm);Qs.warn(`Firestore (${rl}): ${s}`,...i)}}function lm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function wt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,h_(s,r,i)}function h_(s,e,i){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw pa(r),new Error(r)}function ne(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||h_(e,o,r)}function Vt(s,e){return s}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends sl{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class f_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class $S{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZS{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ne(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let c=new es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new es,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new es)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne(typeof r.accessToken=="string",31837,{l:r}),new f_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ne(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class JS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class WS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new JS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ne(this.o===void 0,3512);const r=c=>{c.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ft("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ne(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function e2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=e2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function qt(s,e){return s<e?-1:s>e?1:0}function Md(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return gd(o)===gd(c)?qt(o,c):gd(o)?1:-1}return qt(s.length,e.length)}const n2=55296,i2=57343;function gd(s){const e=s.charCodeAt(0);return e>=n2&&e<=i2}function $r(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Iv="__name__";class zi{constructor(e,i,r){i===void 0?i=0:i>e.length&&wt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&wt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return qt(e.length,i.length)}static compareSegments(e,i){const r=zi.isNumericId(e),o=zi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):Md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class Ae extends zi{construct(e,i,r){return new Ae(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Ae(i)}static emptyPath(){return new Ae([])}}const a2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends zi{construct(e,i,r){return new cn(e,i,r)}static isValidIdentifier(e){return a2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new cn([Iv])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new yt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new yt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new yt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(Ae.fromString(e))}static fromName(e){return new bt(Ae.fromString(e).popFirst(5))}static empty(){return new bt(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new Ae(e.slice()))}}function s2(s,e,i){if(!i)throw new yt(at.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function r2(s,e,i,r){if(e===!0&&r===!0)throw new yt(at.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ov(s){if(!bt.isDocumentKey(s))throw new yt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function d_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function um(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":wt(12329,{type:typeof s})}function Pi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new yt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=um(s);throw new yt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function qe(s,e){const i={typeString:s};return e&&(i.value=e),i}function Lo(s,e){if(!d_(s))throw new yt(at.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new yt(at.INVALID_ARGUMENT,i);return!0}const Mv=-62135596800,jv=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*jv);return new ye(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Mv)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lo(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:qe("string",ye._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new ye(0,0))}static max(){return new Rt(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ro=-1;function l2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(r===1e9?new ye(i+1,0):new ye(i,r));return new is(o,bt.empty(),e)}function o2(s){return new is(s.readTime,s.key,Ro)}class is{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new is(Rt.min(),bt.empty(),Ro)}static max(){return new is(Rt.max(),bt.empty(),Ro)}}function u2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=bt.comparator(s.documentKey,e.documentKey),i!==0?i:qt(s.largestBatchId,e.largestBatchId))}const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(s){if(s.code!==at.FAILED_PRECONDITION||s.message!==c2)throw s;ft("LocalStore","Unexpectedly lost primary lease")}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):et.reject(i)}static resolve(e){return new et(((i,r)=>{i(e)}))}static reject(e){return new et(((i,r)=>{r(e)}))}static waitFor(e){return new et(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(m=>r(m)))})),d=!0,c===o&&i()}))}static or(e){let i=et.resolve(!1);for(const r of e)i=i.next((o=>o?et.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new et(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let m=0;m<c;m++){const y=m;i(e[y]).next((E=>{d[y]=E,++g,g===c&&r(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new et(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function f2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(s){return s.name==="IndexedDbTransactionError"}class Gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gc.ce=-1;const cm=-1;function Qc(s){return s==null}function Dc(s){return s===0&&1/s==-1/0}function d2(s){return typeof s=="number"&&Number.isInteger(s)&&!Dc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const m_="";function m2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Lv(e)),e=p2(s.get(i),e);return Lv(e)}function p2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case m_:i+="";break;default:i+=c}}return i}function Lv(s){return s+m_+""}function Uv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function cs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function p_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Se{constructor(e,i){this.comparator=e,this.root=i||un.EMPTY}insert(e,i){return new Se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??un.RED,this.left=o??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new un(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new un(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xe(this.comparator);return i.data=e,i}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new Xe(cn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return $r(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class g_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new g_("Invalid base64 string: "+c):c}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(s){if(ne(!!s,39018),typeof s=="string"){let e=0;const i=g2.exec(s);if(ne(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ie(s.seconds),nanos:Ie(s.nanos)}}function Ie(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ss(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}const y_="server_timestamp",v_="__type__",__="__previous_value__",E_="__local_write_time__";function hm(s){return(s?.mapValue?.fields||{})[v_]?.stringValue===y_}function Yc(s){const e=s.mapValue.fields[__];return hm(e)?Yc(e):e}function Co(s){const e=as(s.mapValue.fields[E_].timestampValue);return new ye(e.seconds,e.nanos)}class y2{constructor(e,i,r,o,c,d,g,m,y,E,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=A}}const Vc="(default)";class No{constructor(e,i){this.projectId=e,this.database=i||Vc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}function v2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new yt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(s.options.projectId,e)}const T_="__type__",_2="__max__",mc={mapValue:{}},b_="__vector__",Ic="value";function rs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?hm(s)?4:T2(s)?9007199254740991:E2(s)?10:11:wt(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=rs(s);if(i!==rs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Co(s).isEqual(Co(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=as(o.timestampValue),g=as(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return ss(o.bytesValue).isEqual(ss(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ie(o.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ie(o.integerValue)===Ie(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ie(o.doubleValue),g=Ie(c.doubleValue);return d===g?Dc(d)===Dc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return $r(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Uv(d)!==Uv(g))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(g[m]===void 0||!Fi(d[m],g[m])))return!1;return!0})(s,e);default:return wt(52216,{left:s})}}function Do(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function Zr(s,e){if(s===e)return 0;const i=rs(s),r=rs(e);if(i!==r)return qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ie(c.integerValue||c.doubleValue),m=Ie(d.integerValue||d.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(s,e);case 3:return Pv(s.timestampValue,e.timestampValue);case 4:return Pv(Co(s),Co(e));case 5:return Md(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=ss(c),m=ss(d);return g.compareTo(m)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),m=d.split("/");for(let y=0;y<g.length&&y<m.length;y++){const E=qt(g[y],m[y]);if(E!==0)return E}return qt(g.length,m.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=qt(Ie(c.latitude),Ie(d.latitude));return g!==0?g:qt(Ie(c.longitude),Ie(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Bv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},m=d.fields||{},y=g[Ic]?.arrayValue,E=m[Ic]?.arrayValue,A=qt(y?.values?.length||0,E?.values?.length||0);return A!==0?A:Bv(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===mc.mapValue&&d===mc.mapValue)return 0;if(c===mc.mapValue)return 1;if(d===mc.mapValue)return-1;const g=c.fields||{},m=Object.keys(g),y=d.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let A=0;A<m.length&&A<E.length;++A){const b=Md(m[A],E[A]);if(b!==0)return b;const j=Zr(g[m[A]],y[E[A]]);if(j!==0)return j}return qt(m.length,E.length)})(s.mapValue,e.mapValue);default:throw wt(23264,{he:i})}}function Pv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qt(s,e);const i=as(s),r=as(e),o=qt(i.seconds,r.seconds);return o!==0?o:qt(i.nanos,r.nanos)}function Bv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Zr(i[o],r[o]);if(c)return c}return qt(i.length,r.length)}function Jr(s){return jd(s)}function jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=as(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ss(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return bt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=jd(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${jd(i.fields[d])}`;return o+"}"})(s.mapValue):wt(61005,{value:s})}function Tc(s){switch(rs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(s);return e?16+Tc(e):16;case 5:return 2*s.stringValue.length;case 6:return ss(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Tc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return cs(r.fields,((c,d)=>{o+=c.length+Tc(d)})),o})(s.mapValue);default:throw wt(13486,{value:s})}}function Ld(s){return!!s&&"integerValue"in s}function fm(s){return!!s&&"arrayValue"in s}function kv(s){return!!s&&"nullValue"in s}function Hv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function bc(s){return!!s&&"mapValue"in s}function E2(s){return(s?.mapValue?.fields||{})[T_]?.stringValue===b_}function _o(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return cs(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=_o(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=_o(s.arrayValue.values[i]);return e}return{...s}}function T2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_2}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(i)}setAll(e){let i=cn.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const m=this.getFieldsMap(i);this.applyChanges(m,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=_o(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){cs(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Vn(_o(this.value))}}function A_(s){const e=[];return cs(s.fields,((i,r)=>{const o=new cn([i]);if(bc(r)){const c=A_(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Hn(e)}class pn{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new pn(e,0,Rt.min(),Rt.min(),Rt.min(),Vn.empty(),0)}static newFoundDocument(e,i,r,o){return new pn(e,1,i,Rt.min(),r,o,0)}static newNoDocument(e,i){return new pn(e,2,i,Rt.min(),Rt.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,Rt.min(),Rt.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,i){this.position=e,this.inclusive=i}}function qv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=bt.comparator(bt.fromName(d.referenceValue),i.key):r=Zr(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class Mc{constructor(e,i="asc"){this.field=e,this.dir=i}}function b2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class S_{}class Ke extends S_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new S2(e,i,r):i==="array-contains"?new R2(e,r):i==="in"?new C2(e,r):i==="not-in"?new N2(e,r):i==="array-contains-any"?new D2(e,r):new Ke(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new w2(e,r):new x2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Zr(i,this.value)):i!==null&&rs(this.value)===rs(i)&&this.matchesComparison(Zr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends S_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return w_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w_(s){return s.op==="and"}function x_(s){return A2(s)&&w_(s)}function A2(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function Ud(s){if(s instanceof Ke)return s.field.canonicalString()+s.op.toString()+Jr(s.value);if(x_(s))return s.filters.map((e=>Ud(e))).join(",");{const e=s.filters.map((i=>Ud(i))).join(",");return`${s.op}(${e})`}}function R_(s,e){return s instanceof Ke?(function(r,o){return o instanceof Ke&&r.op===o.op&&r.field.isEqual(o.field)&&Fi(r.value,o.value)})(s,e):s instanceof Gi?(function(r,o){return o instanceof Gi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&R_(d,o.filters[g])),!0):!1})(s,e):void wt(19439)}function C_(s){return s instanceof Ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${Jr(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(C_).join(" ,")+"}"})(s):"Filter"}class S2 extends Ke{constructor(e,i,r){super(e,i,r),this.key=bt.fromName(r.referenceValue)}matches(e){const i=bt.comparator(e.key,this.key);return this.matchesComparison(i)}}class w2 extends Ke{constructor(e,i){super(e,"in",i),this.keys=N_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class x2 extends Ke{constructor(e,i){super(e,"not-in",i),this.keys=N_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function N_(s,e){return(e.arrayValue?.values||[]).map((i=>bt.fromName(i.referenceValue)))}class R2 extends Ke{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return fm(i)&&Do(i.arrayValue,this.value)}}class C2 extends Ke{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class N2 extends Ke{constructor(e,i){super(e,"not-in",i)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class D2 extends Ke{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Do(this.value.arrayValue,r)))}}class V2{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Gv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new V2(s,e,i,r,o,c,d)}function dm(s){const e=Vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Ud(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Qc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Jr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Jr(r))).join(",")),e.Te=i}return e.Te}function mm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!b2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!R_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fv(s.startAt,e.startAt)&&Fv(s.endAt,e.endAt)}function zd(s){return bt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Kc{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I2(s,e,i,r,o,c,d,g){return new Kc(s,e,i,r,o,c,d,g)}function Xc(s){return new Kc(s)}function Qv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function O2(s){return bt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function M2(s){return s.collectionGroup!==null}function Eo(s){const e=Vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Xe(cn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Mc(c,r))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new Mc(cn.keyField(),r))}return e.Ie}function Bi(s){const e=Vt(s);return e.Ee||(e.Ee=j2(e,Eo(s))),e.Ee}function j2(s,e){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Mc(o.field,c)}));const i=s.endAt?new Oc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Oc(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Pd(s,e,i){return new Kc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function $c(s,e){return mm(Bi(s),Bi(e))&&s.limitType===e.limitType}function D_(s){return`${dm(Bi(s))}|lt:${s.limitType}`}function Hr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>C_(o))).join(", ")}]`),Qc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Jr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Jr(o))).join(",")),`Target(${r})`})(Bi(s))}; limitType=${s.limitType})`}function Zc(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):bt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Eo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,m){const y=qv(d,g,m);return d.inclusive?y<=0:y<0})(r.startAt,Eo(r),o)||r.endAt&&!(function(d,g,m){const y=qv(d,g,m);return d.inclusive?y>=0:y>0})(r.endAt,Eo(r),o))})(s,e)}function L2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function V_(s){return(e,i)=>{let r=!1;for(const o of Eo(s)){const c=U2(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function U2(s,e,i){const r=s.field.isKeyField()?bt.comparator(e.key,i.key):(function(c,d,g){const m=d.data.field(c),y=g.data.field(c);return m!==null&&y!==null?Zr(m,y):wt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:s.dir})}}class $s{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}const z2=new Se(bt.comparator);function ga(){return z2}const I_=new Se(bt.comparator);function po(...s){let e=I_;for(const i of s)e=e.insert(i.key,i);return e}function O_(s){let e=I_;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Fs(){return To()}function M_(){return To()}function To(){return new $s((s=>s.toString()),((s,e)=>s.isEqual(e)))}const P2=new Se(bt.comparator),B2=new Xe(bt.comparator);function Ft(...s){let e=B2;for(const i of s)e=e.add(i);return e}const k2=new Xe(qt);function H2(){return k2}function pm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function j_(s){return{integerValue:""+s}}function q2(s,e){return d2(e)?j_(e):pm(s,e)}class Jc{constructor(){this._=void 0}}function F2(s,e,i){return s instanceof jc?(function(o,c){const d={fields:{[v_]:{stringValue:y_},[E_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&hm(c)&&(c=Yc(c)),c&&(d.fields[__]=c),{mapValue:d}})(i,e):s instanceof Wr?U_(s,e):s instanceof Vo?z_(s,e):(function(o,c){const d=L_(o,c),g=Yv(d)+Yv(o.Ae);return Ld(d)&&Ld(o.Ae)?j_(g):pm(o.serializer,g)})(s,e)}function G2(s,e,i){return s instanceof Wr?U_(s,e):s instanceof Vo?z_(s,e):i}function L_(s,e){return s instanceof Lc?(function(r){return Ld(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class jc extends Jc{}class Wr extends Jc{constructor(e){super(),this.elements=e}}function U_(s,e){const i=P_(e);for(const r of s.elements)i.some((o=>Fi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Vo extends Jc{constructor(e){super(),this.elements=e}}function z_(s,e){let i=P_(e);for(const r of s.elements)i=i.filter((o=>!Fi(o,r)));return{arrayValue:{values:i}}}class Lc extends Jc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yv(s){return Ie(s.integerValue||s.doubleValue)}function P_(s){return fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Q2{constructor(e,i){this.field=e,this.transform=i}}function Y2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Wr&&o instanceof Wr||r instanceof Vo&&o instanceof Vo?$r(r.elements,o.elements,Fi):r instanceof Lc&&o instanceof Lc?Fi(r.Ae,o.Ae):r instanceof jc&&o instanceof jc})(s.transform,e.transform)}class K2{constructor(e,i){this.version=e,this.transformResults=i}}class ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Wc{}function B_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new H_(s.key,ki.none()):new Uo(s.key,s.data,ki.none());{const i=s.data,r=Vn.empty();let o=new Xe(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new hs(s.key,r,new Hn(o.toArray()),ki.none())}}function X2(s,e,i){s instanceof Uo?(function(o,c,d){const g=o.value.clone(),m=Xv(o.fieldTransforms,c,d.transformResults);g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof hs?(function(o,c,d){if(!Ac(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Xv(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(k_(o)),m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function bo(s,e,i,r){return s instanceof Uo?(function(c,d,g,m){if(!Ac(c.precondition,d))return g;const y=c.value.clone(),E=$v(c.fieldTransforms,m,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof hs?(function(c,d,g,m){if(!Ac(c.precondition,d))return g;const y=$v(c.fieldTransforms,m,d),E=d.data;return E.setAll(k_(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,g){return Ac(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function $2(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=L_(r.transform,o||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(r.field,c))}return i||null}function Kv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&$r(r,o,((c,d)=>Y2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Uo extends Wc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends Wc{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function k_(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Xv(s,e,i){const r=new Map;ne(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,G2(d,g,i[o]))}return r}function $v(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,F2(c,d,e))}return r}class H_ extends Wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends Wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class J2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&X2(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=bo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=bo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=M_();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const m=B_(d,g);m!==null&&r.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Rt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&$r(this.mutations,e.mutations,((i,r)=>Kv(i,r)))&&$r(this.baseMutations,e.baseMutations,((i,r)=>Kv(i,r)))}}class gm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){ne(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return P2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new gm(e,i,r,o)}}class W2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tw{constructor(e,i){this.count=e,this.unchangedNames=i}}var He,Yt;function ew(s){switch(s){case at.OK:return wt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return wt(15467,{code:s})}}function q_(s){if(s===void 0)return pa("GRPC error has no .code"),at.UNKNOWN;switch(s){case He.OK:return at.OK;case He.CANCELLED:return at.CANCELLED;case He.UNKNOWN:return at.UNKNOWN;case He.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case He.INTERNAL:return at.INTERNAL;case He.UNAVAILABLE:return at.UNAVAILABLE;case He.UNAUTHENTICATED:return at.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case He.NOT_FOUND:return at.NOT_FOUND;case He.ALREADY_EXISTS:return at.ALREADY_EXISTS;case He.PERMISSION_DENIED:return at.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case He.ABORTED:return at.ABORTED;case He.OUT_OF_RANGE:return at.OUT_OF_RANGE;case He.UNIMPLEMENTED:return at.UNIMPLEMENTED;case He.DATA_LOSS:return at.DATA_LOSS;default:return wt(39323,{code:s})}}(Yt=He||(He={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function nw(){return new TextEncoder}const iw=new ts([4294967295,4294967295],0);function Zv(s){const e=nw().encode(s),i=new s_;return i.update(e),new Uint8Array(i.digest())}function Jv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ts([i,r],0),new ts([o,c],0)]}class ym{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new go(`Invalid padding: ${i}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new go(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ts.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ts.fromNumber(r)));return o.compare(iw)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Zv(e),[r,o]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ym(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Zv(e),[r,o]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class th{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,zo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new th(Rt.min(),o,new Se(qt),ga(),Ft())}}class zo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new zo(r,i,Ft(),Ft(),Ft())}}class Sc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class F_{constructor(e,i){this.targetId=e,this.Ce=i}}class G_{constructor(e,i,r=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Wv{constructor(){this.ve=0,this.Fe=t0(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ft(),i=Ft(),r=Ft();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:wt(38017,{changeType:c})}})),new zo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=t0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aw{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.He=pc(),this.Je=pc(),this.Ze=new Se(qt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(zd(c))if(r===0){const d=new bt(c.path);this.et(i,d,pn.newNoDocument(d,Rt.min()))}else ne(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),m=g?this.ct(g,e,d):1;if(m!==0){this.it(i);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=ss(r).toUint8Array()}catch(m){if(m instanceof g_)return Ys("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new ym(d,o,c)}catch(m){return Ys(m instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&zd(g.target)){const m=new bt(g.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,pn.newNoDocument(m,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Ft();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new th(e,i,this.Ze,this.je,r);return this.je=ga(),this.He=pc(),this.Je=pc(),this.Ze=new Se(qt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Wv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Xe(qt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Xe(qt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function pc(){return new Se(bt.comparator)}function t0(){return new Se(bt.comparator)}const sw={asc:"ASCENDING",desc:"DESCENDING"},rw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lw={and:"AND",or:"OR"};class ow{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bd(s,e){return s.useProto3Json||Qc(e)?e:{value:e}}function Uc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function uw(s,e){return Uc(s,e.toTimestamp())}function Hi(s){return ne(!!s,49232),Rt.fromTimestamp((function(i){const r=as(i);return new ye(r.seconds,r.nanos)})(s))}function vm(s,e){return kd(s,e).canonicalString()}function kd(s,e){const i=(function(o){return new Ae(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Y_(s){const e=Ae.fromString(s);return ne(J_(e),10190,{key:e.toString()}),e}function Hd(s,e){return vm(s.databaseId,e.path)}function yd(s,e){const i=Y_(e);if(i.get(1)!==s.databaseId.projectId)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new bt(X_(i))}function K_(s,e){return vm(s.databaseId,e)}function cw(s){const e=Y_(s);return e.length===4?Ae.emptyPath():X_(e)}function qd(s){return new Ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function X_(s){return ne(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function e0(s,e,i){return{name:Hd(s,e),fields:i.value.mapValue.fields}}function hw(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:wt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(ne(E===void 0||typeof E=="string",58123),hn.fromBase64String(E||"")):(ne(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),hn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?at.UNKNOWN:q_(y.code);return new yt(E,y.message||"")})(d);i=new G_(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=yd(s,r.document.name),c=Hi(r.document.updateTime),d=r.document.createTime?Hi(r.document.createTime):Rt.min(),g=new Vn({mapValue:{fields:r.document.fields}}),m=pn.newFoundDocument(o,c,d,g),y=r.targetIds||[],E=r.removedTargetIds||[];i=new Sc(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=yd(s,r.document),c=r.readTime?Hi(r.readTime):Rt.min(),d=pn.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Sc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=yd(s,r.document),c=r.removedTargetIds||[];i=new Sc([],c,o,null)}else{if(!("filter"in e))return wt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new tw(o,c),g=r.targetId;i=new F_(g,d)}}return i}function fw(s,e){let i;if(e instanceof Uo)i={update:e0(s,e.key,e.value)};else if(e instanceof H_)i={delete:Hd(s,e.key)};else if(e instanceof hs)i={update:e0(s,e.key,e.data),updateMask:Tw(e.fieldMask)};else{if(!(e instanceof Z2))return wt(16599,{dt:e.type});i={verify:Hd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wr)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Lc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw wt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:uw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(s,e.precondition)),i}function dw(s,e){return s&&s.length>0?(ne(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Hi(o.updateTime):Hi(c);return d.isEqual(Rt.min())&&(d=Hi(c)),new K2(d,o.transformResults||[])})(i,e)))):[]}function mw(s,e){return{documents:[K_(s,e.path)]}}function pw(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=K_(s,o);const c=(function(y){if(y.length!==0)return Z_(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:qr(b.field),direction:vw(b.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Bd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function gw(s){let e=cw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ne(r===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const b=$_(A);return b instanceof Gi&&x_(b)?b.getFilters():[b]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((b=>(function(z){return new Mc(Fr(z.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(b)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let b;return b=typeof A=="object"?A.value:A,Qc(b)?null:b})(i.limit));let m=null;i.startAt&&(m=(function(A){const b=!!A.before,j=A.values||[];return new Oc(j,b)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const b=!A.before,j=A.values||[];return new Oc(j,b)})(i.endAt)),I2(e,o,d,c,g,"F",m,y)}function yw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function $_(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fr(i.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Fr(i.unaryFilter.field);return Ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fr(i.unaryFilter.field);return Ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fr(i.unaryFilter.field);return Ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ke.create(Fr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((r=>$_(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(s):wt(30097,{filter:s})}function vw(s){return sw[s]}function _w(s){return rw[s]}function Ew(s){return lw[s]}function qr(s){return{fieldPath:s.canonicalString()}}function Fr(s){return cn.fromServerFormat(s.fieldPath)}function Z_(s){return s instanceof Ke?(function(i){if(i.op==="=="){if(Hv(i.value))return{unaryFilter:{field:qr(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:qr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hv(i.value))return{unaryFilter:{field:qr(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:qr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(i.field),op:_w(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const r=i.getFilters().map((o=>Z_(o)));return r.length===1?r[0]:{compositeFilter:{op:Ew(i.op),filters:r}}})(s):wt(54877,{filter:s})}function Tw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function J_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function W_(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Za{constructor(e,i,r,o,c=Rt.min(),d=Rt.min(),g=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bw{constructor(e){this.yt=e}}function Aw(s){const e=gw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pd(e,e.limit,"L"):e}class Sw{constructor(){this.Sn=new ww}addToCollectionParentIndex(e,i){return this.Sn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(is.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(is.min())}updateCollectionGroup(e,i,r){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class ww{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Xe(Ae.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Xe(Ae.comparator)).toArray()}}const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(tE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}const i0="LruGarbageCollector",xw=1048576;function a0([s,e],[i,r]){const o=qt(s,i);return o===0?qt(e,r):o}class Rw{constructor(e){this.Pr=e,this.buffer=new Xe(a0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();a0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Cw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ft(i0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?ft(i0,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Ar(3e5)}))}}class Nw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return et.resolve(Gc.ce);const r=new Rw(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(n0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,d,g,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),kr()<=Kt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(m-g)+`ms
	Removed ${A} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function Dw(s,e){return new Nw(s,e)}class Vw{constructor(){this.changes=new $s((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?et.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Iw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Ow{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&bo(r.mutation,o,Hn.empty(),ye.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ft()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ft()){const o=Fs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=po();return c.forEach(((g,m)=>{d=d.insert(g,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Fs();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ft())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=ga();const d=To(),g=(function(){return To()})();return i.forEach(((m,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof hs)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),bo(E.mutation,y,E.mutation.getFieldMask(),ye.now())):d.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new Iw(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=To();let o=new Se(((d,g)=>d-g)),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((m=>{const y=i.get(m);if(y===null)return;let E=r.get(m)||Hn.empty();E=g.applyToLocalView(y,E),r.set(m,E);const A=(o.get(g.batchId)||Ft()).add(m);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),y=m.key,E=m.value,A=M_();E.forEach((b=>{if(!c.has(b)){const j=B_(i.get(b),r.get(b));j!==null&&A.set(b,j),c=c.add(b)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return et.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return O2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):M2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):et.resolve(Fs());let g=Ro,m=c;return d.next((y=>et.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{m=m.insert(E,b)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,m,y,Ft()))).next((E=>({batchId:g,changes:O_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new bt(i)).next((r=>{let o=po();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=po();return this.indexManager.getCollectionParents(e,c).next((g=>et.forEach(g,(m=>{const y=(function(A,b){return new Kc(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((A,b)=>{d=d.insert(A,b)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((m,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,pn.newInvalidDocument(E)))}));let g=po();return d.forEach(((m,y)=>{const E=c.get(m);E!==void 0&&bo(E.mutation,y,Hn.empty(),ye.now()),Zc(i,y)&&(g=g.insert(m,y))})),g}))}}class Mw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return et.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Aw(o.bundledQuery),readTime:Hi(o.readTime)}})(i)),et.resolve()}}class jw{constructor(){this.overlays=new Se(bt.comparator),this.Lr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Fs();return et.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),et.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),et.resolve()}getOverlaysForCollection(e,i,r){const o=Fs(),c=i.length+1,d=new bt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const m=g.getNext().value,y=m.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&m.largestBatchId>r&&o.set(m.getKey(),m)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Se(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=Fs(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Fs(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return et.resolve(g)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new W2(i,r));let c=this.Lr.get(i);c===void 0&&(c=Ft(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class Lw{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}class _m{constructor(){this.kr=new Xe(tn.Kr),this.qr=new Xe(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new tn(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new tn(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new bt(new Ae([])),r=new tn(i,e),o=new tn(i,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new bt(new Ae([])),r=new tn(i,e),o=new tn(i,e+1);let c=Ft();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new tn(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return bt.comparator(e.key,i.key)||qt(e.Hr,i.Hr)}static Ur(e,i){return qt(e.Hr,i.Hr)||bt.comparator(e.key,i.key)}}class Uw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Xe(tn.Kr)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new J2(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new tn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(d)}lookupMutationBatch(e,i){return et.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?cm:this.Yn-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Xe(qt);return i.forEach((o=>{const c=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),et.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;bt.isDocumentKey(c)||(c=c.child(""));const d=new tn(new bt(c),0);let g=new Xe(qt);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(m.Hr)),!0)}),d),et.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ne(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return et.forEach(i.mutations,(o=>{const c=new tn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new tn(i,0),o=this.Jr.firstAfterOrEqual(r);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class zw{constructor(e){this.ti=e,this.docs=(function(){return new Se(bt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return et.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let r=ga();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),et.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ga();const d=i.path,g=new bt(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||u2(o2(E),r)<=0||(o.has(E.key)||Zc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(e,i,r,o){wt(9500)}ni(e,i){return et.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Pw(this)}getSize(e){return et.resolve(this.size)}}class Pw extends Vw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),et.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Bw{constructor(e){this.persistence=e,this.ri=new $s((i=>dm(i)),mm),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new _m,this.targetCount=0,this.oi=tl._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),et.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new tl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.lr(i),et.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),et.waitFor(c).next((()=>o))}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return et.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),et.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),et.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),et.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return et.resolve(r)}containsKey(e,i){return et.resolve(this.si.containsKey(i))}}class eE{constructor(e,i){this._i={},this.overlays={},this.ai=new Gc(0),this.ui=!1,this.ui=!0,this.ci=new Lw,this.referenceDelegate=e(this),this.li=new Bw(this),this.indexManager=new Sw,this.remoteDocumentCache=(function(o){return new zw(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new bw(i),this.Pi=new Mw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new jw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new Uw(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ft("MemoryPersistence","Starting transaction:",e);const o=new kw(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return et.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class kw extends h2{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Ri=new _m,this.Ai=null}static Vi(e){return new Em(e)}get di(){if(this.Ai)return this.Ai;throw wt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),et.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),et.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,(r=>{const o=bt.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Rt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return et.or([()=>et.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class zc{constructor(e,i){this.persistence=e,this.fi=new $s((r=>m2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Dw(this,i)}static Vi(e,i){return new zc(e,i)}Ti(){}Ii(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return et.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?et.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Rt.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),et.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),et.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Tc(e.data.value)),i}wr(e,i,r){return et.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return et.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Ft(),o=Ft();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Tm(e,i.fromCache,r,o)}}class Hw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return DA()?8:f2(CA())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Hw;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(kr()<=Kt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Hr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(kr()<=Kt.DEBUG&&ft("QueryEngine","Query:",Hr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(kr()<=Kt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Hr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(i))):et.resolve())}gs(e,i){if(Qv(i))return et.resolve(null);let r=Bi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Pd(i,null,"F"),r=Bi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ft(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((m=>{const y=this.bs(i,g);return this.Ss(i,y,d,m.readTime)?this.gs(e,Pd(i,null,"F")):this.Ds(e,y,i,m)}))))})))))}ps(e,i,r,o){return Qv(i)||o.isEqual(Rt.min())?et.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?et.resolve(null):(kr()<=Kt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Hr(i)),this.Ds(e,d,i,l2(o,Ro)).next((g=>g)))}))}bs(e,i){let r=new Xe(V_(e));return i.forEach(((o,c)=>{Zc(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return kr()<=Kt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Hr(i)),this.fs.getDocumentsMatchingQuery(e,i,is.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const bm="LocalStore",Fw=3e8;class Gw{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Se(qt),this.Fs=new $s((c=>dm(c)),mm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ow(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Qw(s,e,i,r){return new Gw(s,e,i,r)}async function nE(s,e){const i=Vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let m=Ft();for(const y of o){d.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return i.localDocuments.getDocuments(r,m).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Yw(s,e){const i=Vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,y,E){const A=y.batch,b=A.keys();let j=et.resolve();return b.forEach((z=>{j=j.next((()=>E.getEntry(m,z))).next((K=>{const Q=y.docVersions.get(z);ne(Q!==null,48541),K.version.compareTo(Q)<0&&(A.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(m,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let m=Ft();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(m=m.add(g.batch.mutations[y].key));return m})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function iE(s){const e=Vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Kw(s,e){const i=Vt(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((E,A)=>{const b=o.get(A);if(!b)return;g.push(i.li.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,A))));let j=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(hn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,r)),o=o.insert(A,j),(function(K,Q,nt){return K.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Fw?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(b,j,E)&&g.push(i.li.updateTargetData(c,j))}));let m=ga(),y=Ft();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Xw(c,d,e.documentUpdates).next((E=>{m=E.Bs,y=E.Ls}))),!r.isEqual(Rt.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return et.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,y))).next((()=>m))})).then((c=>(i.vs=o,c)))}function Xw(s,e,i){let r=Ft(),o=Ft();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ga();return i.forEach(((g,m)=>{const y=c.get(g);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(e.removeEntry(g,m.readTime),d=d.insert(g,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(g,m)):ft(bm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function $w(s,e){const i=Vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Zw(s,e){const i=Vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,et.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Za(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Fd(s,e,i){const r=Vt(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;ft(bm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function s0(s,e,i){const r=Vt(s);let o=Rt.min(),c=Ft();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,y,E){const A=Vt(m),b=A.Fs.get(E);return b!==void 0?et.resolve(A.vs.get(b)):A.li.getTargetData(y,E)})(r,d,Bi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((m=>{c=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:Rt.min(),i?c:Ft()))).next((g=>(Jw(r,L2(e),g),{documents:g,ks:c})))))}function Jw(s,e,i){let r=s.Ms.get(e)||Rt.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class r0{constructor(){this.activeTargetIds=H2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ww{constructor(){this.vo=new r0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new r0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tx{Mo(e){}shutdown(){}}const l0="ConnectivityMonitor";class o0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ft(l0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ft(l0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gc=null;function Gd(){return gc===null?gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():gc++,"0x"+gc.toString(16)}const vd="RestConnection",ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class nx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Vc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const d=Gd(),g=this.Qo(e,i.toUriEncodedString());ft(vd,`Sending RPC '${e}' ${d}:`,g,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:y}=new URL(g),E=sm(y);return this.zo(e,g,m,r,E).then((A=>(ft(vd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Ys(vd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}jo(e,i,r,o,c,d){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=ex[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class ix{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",fo=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Qr extends nx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Qr.c_){const e=u_();fo(e,o_.STAT_EVENT,(i=>{i.stat===Od.PROXY?ft(dn,"STAT_EVENT: detected buffering proxy"):i.stat===Od.NOPROXY&&ft(dn,"STAT_EVENT: detected no buffering proxy")})),Qr.c_=!0}}zo(e,i,r,o,c){const d=Gd();return new Promise(((g,m)=>{const y=new r_;y.setWithCredentials(!0),y.listenOnce(l_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ec.NO_ERROR:const A=y.getResponseJson();ft(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Ec.TIMEOUT:ft(dn,`RPC '${e}' ${d} timed out`),m(new yt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const b=y.getStatus();if(ft(dn,`RPC '${e}' ${d} failed with status:`,b,"response text:",y.getResponseText()),b>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const z=j?.error;if(z&&z.status&&z.message){const K=(function(nt){const st=nt.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(st)>=0?st:at.UNKNOWN})(z.status);m(new yt(K,z.message))}else m(new yt(at.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new yt(at.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ft(dn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ft(dn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,r,15)}))}T_(e,i,r){const o=Gd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");ft(dn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let A=!1,b=!1;const j=new ix({Ho:z=>{b?ft(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(A||(ft(dn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),ft(dn,`RPC '${e}' stream ${o} sending:`,z),E.send(z))},Jo:()=>E.close()});return fo(E,mo.EventType.OPEN,(()=>{b||(ft(dn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),fo(E,mo.EventType.CLOSE,(()=>{b||(b=!0,ft(dn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(E))})),fo(E,mo.EventType.ERROR,(z=>{b||(b=!0,Ys(dn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),j.o_(new yt(at.UNAVAILABLE,"The operation could not be completed")))})),fo(E,mo.EventType.MESSAGE,(z=>{if(!b){const K=z.data[0];ne(!!K,16349);const Q=K,nt=Q?.error||Q[0]?.error;if(nt){ft(dn,`RPC '${e}' stream ${o} received error:`,nt);const st=nt.status;let ot=(function(Ct){const N=He[Ct];if(N!==void 0)return q_(N)})(st),dt=nt.message;st==="NOT_FOUND"&&dt.includes("database")&&dt.includes("does not exist")&&dt.includes(this.databaseId.database)&&Ys(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ot===void 0&&(ot=at.INTERNAL,dt="Unknown error status: "+st+" with message "+nt.message),b=!0,j.o_(new yt(ot,dt)),E.close()}else ft(dn,`RPC '${e}' stream ${o} received:`,K),j.__(K)}})),Qr.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return c_()}}function ax(s){return new Qr(s)}function _d(){return typeof document<"u"?document:null}function eh(s){return new ow(s,!0)}Qr.c_=!1;class aE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const u0="PersistentStream";class sE{constructor(e,i,r,o,c,d,g,m){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(pa(i.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new yt(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ft(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ft(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sx extends sE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=hw(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Rt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?Hi(d.readTime):Rt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=qd(this.serializer),i.addTarget=(function(c,d){let g;const m=d.target;if(g=zd(m)?{documents:mw(c,m)}:{query:pw(c,m).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Q_(c,d.resumeToken);const y=Bd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Rt.min())>0){g.readTime=Uc(c,d.snapshotVersion.toTimestamp());const y=Bd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=yw(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=qd(this.serializer),i.removeTarget=e,this.K_(i)}}class rx extends sE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=dw(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=qd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>fw(this.serializer,r)))};this.K_(i)}}class lx{}class ox extends lx{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,kd(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(at.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,kd(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yt(at.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ux(s,e,i,r){return new ox(s,e,i,r)}class cx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class hx{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Zs(this)&&(ft(Ks,"Restarting streams for network reachability change."),await(async function(m){const y=Vt(m);y.Ea.add(4),await Po(y),y.Va.set("Unknown"),y.Ea.delete(4),await nh(y)})(this))}))})),this.Va=new cx(r,o)}}async function nh(s){if(Zs(s))for(const e of s.Ra)await e(!0)}async function Po(s){for(const e of s.Ra)await e(!1)}function rE(s,e){const i=Vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xm(i)?wm(i):ul(i).O_()&&Sm(i,e))}function Am(s,e){const i=Vt(s),r=ul(i);i.Ia.delete(e),r.O_()&&lE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Zs(i)&&i.Va.set("Unknown"))}function Sm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ul(s).Z_(e)}function lE(s,e){s.da.$e(e),ul(s).X_(e)}function wm(s){s.da=new aw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ul(s).start(),s.Va.ua()}function xm(s){return Zs(s)&&!ul(s).x_()&&s.Ia.size>0}function Zs(s){return Vt(s).Ea.size===0}function oE(s){s.da=void 0}async function fx(s){s.Va.set("Online")}async function dx(s){s.Ia.forEach(((e,i)=>{Sm(s,e)}))}async function mx(s,e){oE(s),xm(s)?(s.Va.ha(e),wm(s)):s.Va.set("Unknown")}async function px(s,e,i){if(s.Va.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(r){ft(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pc(s,r)}else if(e instanceof Sc?s.da.Xe(e):e instanceof F_?s.da.st(e):s.da.tt(e),!i.isEqual(Rt.min()))try{const r=await iE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(m.resumeToken,d))}})),g.targetMismatches.forEach(((m,y)=>{const E=c.Ia.get(m);if(!E)return;c.Ia.set(m,E.withResumeToken(hn.EMPTY_BYTE_STRING,E.snapshotVersion)),lE(c,m);const A=new Za(E.target,m,y,E.sequenceNumber);Sm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ft(Ks,"Failed to raise snapshot:",r),await Pc(s,r)}}async function Pc(s,e,i){if(!ol(e))throw e;s.Ea.add(1),await Po(s),s.Va.set("Offline"),i||(i=()=>iE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ft(Ks,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await nh(s)}))}function uE(s,e){return e().catch((i=>Pc(s,i,e)))}async function ih(s){const e=Vt(s),i=ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cm;for(;gx(e);)try{const o=await $w(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,yx(e,o)}catch(o){await Pc(e,o)}cE(e)&&hE(e)}function gx(s){return Zs(s)&&s.Ta.length<10}function yx(s,e){s.Ta.push(e);const i=ls(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function cE(s){return Zs(s)&&!ls(s).x_()&&s.Ta.length>0}function hE(s){ls(s).start()}async function vx(s){ls(s).ra()}async function _x(s){const e=ls(s);for(const i of s.Ta)e.ea(i.mutations)}async function Ex(s,e,i){const r=s.Ta.shift(),o=gm.from(r,e,i);await uE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await ih(s)}async function Tx(s,e){e&&ls(s).Y_&&await(async function(r,o){if((function(d){return ew(d)&&d!==at.ABORTED})(o.code)){const c=r.Ta.shift();ls(r).B_(),await uE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ih(r)}})(s,e),cE(s)&&hE(s)}async function c0(s,e){const i=Vt(s);i.asyncQueue.verifyOperationInProgress(),ft(Ks,"RemoteStore received new credentials");const r=Zs(i);i.Ea.add(3),await Po(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await nh(i)}async function bx(s,e){const i=Vt(s);e?(i.Ea.delete(2),await nh(i)):e||(i.Ea.add(2),await Po(i),i.Va.set("Unknown"))}function ul(s){return s.ma||(s.ma=(function(i,r,o){const c=Vt(i);return c.sa(),new sx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:fx.bind(null,s),Yo:dx.bind(null,s),t_:mx.bind(null,s),J_:px.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),xm(s)?wm(s):s.Va.set("Unknown")):(await s.ma.stop(),oE(s))}))),s.ma}function ls(s){return s.fa||(s.fa=(function(i,r,o){const c=Vt(i);return c.sa(),new rx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vx.bind(null,s),t_:Tx.bind(null,s),ta:_x.bind(null,s),na:Ex.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await ih(s)):(await s.fa.stop(),s.Ta.length>0&&(ft(Ks,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Rm{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new Rm(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(s,e){if(pa("AsyncQueue",`${e}: ${s}`),ol(s))return new yt(at.UNAVAILABLE,`${e}: ${s}`);throw s}class Yr{static emptySet(e){return new Yr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||bt.comparator(i.key,r.key):(i,r)=>bt.comparator(i.key,r.key),this.keyedMap=po(),this.sortedSet=new Se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Yr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class h0{constructor(){this.ga=new Se(bt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):wt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class el{constructor(e,i,r,o,c,d,g,m,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new el(e,i,Yr.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class Ax{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Sx{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Vt(i),c=o.queries;o.queries=f0(),c.forEach(((d,g)=>{for(const m of g.ba)m.onError(r)}))})(this,new yt(at.ABORTED,"Firestore shutting down"))}}function f0(){return new $s((s=>D_(s)),$c)}async function fE(s,e){const i=Vt(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new Ax,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Cm(d,`Initialization of query '${Hr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Nm(i)}async function dE(s,e){const i=Vt(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function wx(s,e){const i=Vt(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(r=!0);d.wa=o}}r&&Nm(i)}function xx(s,e,i){const r=Vt(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function Nm(s){s.Ca.forEach((e=>{e.next()}))}var Qd,d0;(d0=Qd||(Qd={})).Ma="default",d0.Cache="cache";class mE{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qd.Cache}}class pE{constructor(e){this.key=e}}class gE{constructor(e){this.key=e}}class Rx{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.eu=V_(e),this.tu=new Yr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new h0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const b=o.get(E),j=Zc(this.query,A)?A:null,z=!!b&&this.mutatedKeys.has(b.key),K=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Q=!1;b&&j?b.data.isEqual(j.data)?z!==K&&(r.track({type:3,doc:j}),Q=!0):this.su(b,j)||(r.track({type:2,doc:j}),Q=!0,(m&&this.eu(j,m)>0||y&&this.eu(j,y)<0)&&(g=!0)):!b&&j?(r.track({type:0,doc:j}),Q=!0):b&&!j&&(r.track({type:1,doc:b}),Q=!0,(m||y)&&(g=!0)),Q&&(j?(d=d.add(j),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(j,z){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:Q})}};return K(j)-K(z)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,d.length!==0||y?{snapshot:new el(this.query,e.tu,c,d,e.mutatedKeys,m===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new gE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new pE(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ft();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dm="SyncEngine";class Cx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Nx{constructor(e){this.key=e,this.hu=!1}}class Dx{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((g=>D_(g)),$c),this.Iu=new Map,this.Eu=new Set,this.Ru=new Se(bt.comparator),this.Au=new Map,this.Vu=new _m,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vx(s,e,i=!0){const r=bE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yE(r,e,i,!0),o}async function Ix(s,e){const i=bE(s);await yE(i,e,!0,!1)}async function yE(s,e,i,r){const o=await Zw(s.localStore,Bi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await Ox(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&rE(s.remoteStore,o),g}async function Ox(s,e,i,r,o){s.pu=(A,b,j)=>(async function(K,Q,nt,st){let ot=Q.view.ru(nt);ot.Ss&&(ot=await s0(K.localStore,Q.query,!1).then((({documents:N})=>Q.view.ru(N,ot))));const dt=st&&st.targetChanges.get(Q.targetId),xt=st&&st.targetMismatches.get(Q.targetId)!=null,Ct=Q.view.applyChanges(ot,K.isPrimaryClient,dt,xt);return p0(K,Q.targetId,Ct.au),Ct.snapshot})(s,A,b,j);const c=await s0(s.localStore,e,!0),d=new Rx(e,c.ks),g=d.ru(c.documents),m=zo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,m);p0(s,i,y.au);const E=new Cx(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function Mx(s,e,i){const r=Vt(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!$c(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Am(r.remoteStore,o.targetId),Yd(r,o.targetId)})).catch(ll)):(Yd(r,o.targetId),await Fd(r.localStore,o.targetId,!0))}async function jx(s,e){const i=Vt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Am(i.remoteStore,r.targetId))}async function Lx(s,e,i){const r=qx(s);try{const o=await(function(d,g){const m=Vt(d),y=ye.now(),E=g.reduce(((j,z)=>j.add(z.key)),Ft());let A,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let z=ga(),K=Ft();return m.xs.getEntries(j,E).next((Q=>{z=Q,z.forEach(((nt,st)=>{st.isValidDocument()||(K=K.add(nt))}))})).next((()=>m.localDocuments.getOverlayedDocuments(j,z))).next((Q=>{A=Q;const nt=[];for(const st of g){const ot=$2(st,A.get(st.key).overlayedDocument);ot!=null&&nt.push(new hs(st.key,ot,A_(ot.value.mapValue),ki.exists(!0)))}return m.mutationQueue.addMutationBatch(j,y,nt,g)})).next((Q=>{b=Q;const nt=Q.applyToLocalDocumentSet(A,K);return m.documentOverlayCache.saveOverlays(j,Q.batchId,nt)}))})).then((()=>({batchId:b.batchId,changes:O_(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,m){let y=d.du[d.currentUser.toKey()];y||(y=new Se(qt)),y=y.insert(g,m),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await Bo(r,o.changes),await ih(r.remoteStore)}catch(o){const c=Cm(o,"Failed to persist write");i.reject(c)}}async function vE(s,e){const i=Vt(s);try{const r=await Kw(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ne(d.hu,14607):o.removedDocuments.size>0&&(ne(d.hu,42227),d.hu=!1))})),await Bo(i,r,e)}catch(r){await ll(r)}}function m0(s,e,i){const r=Vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const m=Vt(d);m.onlineState=g;let y=!1;m.queries.forEach(((E,A)=>{for(const b of A.ba)b.va(g)&&(y=!0)})),y&&Nm(m)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ux(s,e,i){const r=Vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Se(bt.comparator);d=d.insert(c,pn.newNoDocument(c,Rt.min()));const g=Ft().add(c),m=new th(Rt.min(),new Map,new Se(qt),d,g);await vE(r,m),r.Ru=r.Ru.remove(c),r.Au.delete(e),Vm(r)}else await Fd(r.localStore,e,!1).then((()=>Yd(r,e,i))).catch(ll)}async function zx(s,e){const i=Vt(s),r=e.batch.batchId;try{const o=await Yw(i.localStore,e);EE(i,r,null),_E(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Bo(i,o)}catch(o){await ll(o)}}async function Px(s,e,i){const r=Vt(s);try{const o=await(function(d,g){const m=Vt(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return m.mutationQueue.lookupMutationBatch(y,g).next((A=>(ne(A!==null,37113),E=A.keys(),m.mutationQueue.removeMutationBatch(y,A)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>m.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);EE(r,e,i),_E(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Bo(r,o)}catch(o){await ll(o)}}function _E(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function EE(s,e,i){const r=Vt(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Yd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||TE(s,r)}))}function TE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Am(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Vm(s))}function p0(s,e,i){for(const r of i)r instanceof pE?(s.Vu.addReference(r.key,e),Bx(s,r)):r instanceof gE?(ft(Dm,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||TE(s,r.key)):wt(19791,{wu:r})}function Bx(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ft(Dm,"New document in limbo: "+i),s.Eu.add(r),Vm(s))}function Vm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new bt(Ae.fromString(e)),r=s.fu.next();s.Au.set(r,new Nx(i)),s.Ru=s.Ru.insert(i,r),rE(s.remoteStore,new Za(Bi(Xc(i.path)),r,"TargetPurposeLimboResolution",Gc.ce))}}async function Bo(s,e,i){const r=Vt(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,m)=>{d.push(r.pu(m,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Tm.Es(m.targetId,y);c.push(E)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(m,y){const E=Vt(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>et.forEach(y,(b=>et.forEach(b.Ts,(j=>E.persistence.referenceDelegate.addReference(A,b.targetId,j))).next((()=>et.forEach(b.Is,(j=>E.persistence.referenceDelegate.removeReference(A,b.targetId,j)))))))))}catch(A){if(!ol(A))throw A;ft(bm,"Failed to update sequence numbers: "+A)}for(const A of y){const b=A.targetId;if(!A.fromCache){const j=E.vs.get(b),z=j.snapshotVersion,K=j.withLastLimboFreeSnapshotVersion(z);E.vs=E.vs.insert(b,K)}}})(r.localStore,c))}async function kx(s,e){const i=Vt(s);if(!i.currentUser.isEqual(e)){ft(Dm,"User change. New user:",e.toKey());const r=await nE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((m=>{m.reject(new yt(at.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bo(i,r.Ns)}}function Hx(s,e){const i=Vt(s),r=i.Au.get(e);if(r&&r.hu)return Ft().add(r.key);{let o=Ft();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function bE(s){const e=Vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=vE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ux.bind(null,e),e.Pu.J_=wx.bind(null,e.eventManager),e.Pu.yu=xx.bind(null,e.eventManager),e}function qx(s){const e=Vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Px.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Qw(this.persistence,new qw,e.initialUser,this.serializer)}Cu(e){return new eE(Em.Vi,this.serializer)}Du(e){return new Ww}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class Fx extends Bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ne(this.persistence.referenceDelegate instanceof zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Cw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new eE((r=>zc.Vi(r,i)),this.serializer)}}class Kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kx.bind(null,this.syncEngine),await bx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Sx})()}createDatastore(e){const i=eh(e.databaseInfo.databaseId),r=ax(e.databaseInfo);return ux(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new hx(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>m0(this.syncEngine,i,0)),(function(){return o0.v()?new o0:new tx})())}createSyncEngine(e,i){return(function(o,c,d,g,m,y,E){const A=new Dx(o,c,d,g,m,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Vt(i);ft(Ks,"RemoteStore shutting down."),r.Ea.add(5),await Po(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kd.provider={build:()=>new Kd};class AE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const os="FirestoreClient";class Gx{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ft(os,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ft(os,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Cm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ed(s,e){s.asyncQueue.verifyOperationInProgress(),ft(os,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await nE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function g0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Qx(s);ft(os,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>c0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>c0(e.remoteStore,o))),s._onlineComponents=e}async function Qx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ft(os,"Using user provided OfflineComponentProvider");try{await Ed(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ys("Error using user provided cache. Falling back to memory cache: "+i),await Ed(s,new Bc)}}else ft(os,"Using default OfflineComponentProvider"),await Ed(s,new Fx(void 0));return s._offlineComponents}async function SE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ft(os,"Using user provided OnlineComponentProvider"),await g0(s,s._uninitializedComponentsProvider._online)):(ft(os,"Using default OnlineComponentProvider"),await g0(s,new Kd))),s._onlineComponents}function Yx(s){return SE(s).then((e=>e.syncEngine))}async function Xd(s){const e=await SE(s),i=e.eventManager;return i.onListen=Vx.bind(null,e.syncEngine),i.onUnlisten=Mx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ix.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jx.bind(null,e.syncEngine),i}function Kx(s,e,i,r){const o=new AE(r),c=new mE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>fE(await Xd(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>dE(await Xd(s),c)))}}function Xx(s,e,i={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,m,y){const E=new AE({next:b=>{E.Nu(),d.enqueueAndForget((()=>dE(c,A)));const j=b.docs.has(g);!j&&b.fromCache?y.reject(new yt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&b.fromCache&&m&&m.source==="server"?y.reject(new yt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),A=new mE(Xc(g.path),E,{includeMetadataChanges:!0,Ka:!0});return fE(c,A)})(await Xd(s),s.asyncQueue,e,i,r))),r.promise}function $x(s,e){const i=new es;return s.asyncQueue.enqueueAndForget((async()=>Lx(await Yx(s),e,i))),i.promise}function wE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Zx="ComponentProvider",y0=new Map;function Jx(s,e,i,r,o){return new y2(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,wE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const xE="firestore.googleapis.com",v0=!0;class _0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xE,this.ssl=v0}else this.host=e.host,this.ssl=e.ssl??v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xw)throw new yt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XS;switch(r.type){case"firstParty":return new WS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=y0.get(i);r&&(ft(Zx,"Removing Datastore"),y0.delete(i),r.terminate())})(this),Promise.resolve()}}function Wx(s,e,i,r={}){s=Pi(s,Im);const o=sm(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(AA(`https://${g}`),RA("Firestore",!0)),c.host!==xE&&c.host!==g&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:g,ssl:o,emulatorOptions:r};if(!So(m,d)&&(s._setSettings(m),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=mn.MOCK_USER;else{y=SA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new yt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new mn(A)}s._authCredentials=new $S(new f_(y,E))}}class ah{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ah(this.firestore,e,this._query)}}class Fe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Lo(i,Fe._jsonSchema))return new Fe(e,r||null,new bt(Ae.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:qe("string",Fe._jsonSchemaVersion),referencePath:qe("string")};class Io extends ah{constructor(e,i,r){super(e,i,Xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new bt(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function de(s,e,...i){if(s=ns(s),arguments.length===1&&(e=om.newId()),s2("doc","path",e),s instanceof Im){const r=Ae.fromString(e,...i);return Ov(r),new Fe(s,null,new bt(r))}{if(!(s instanceof Fe||s instanceof Io))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ae.fromString(e,...i));return Ov(r),new Fe(s.firestore,s instanceof Io?s.converter:null,new bt(r))}}const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aE(this,"async_queue_retry"),this._c=()=>{const r=_d();r&&ft(E0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;ft(E0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",b0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Rm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function b0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class nl extends Im{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new T0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function tR(s,e){const i=typeof s=="object"?s:US(),r=typeof s=="string"?s:Vc,o=IS(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=TA("firestore");c&&Wx(o,...c)}return o}function Om(s){if(s._terminated)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||eR(s),s._firestoreClient}function eR(s){const e=s._freezeSettings(),i=Jx(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Gx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(hn.fromBase64String(e))}catch(i){throw new yt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lo(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:qe("string",si._jsonSchemaVersion),bytes:qe("string")};class Mm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new yt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sh{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new yt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new yt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Lo(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:qe("string",qi._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lo(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new yt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:qe("string",vi._jsonSchemaVersion),vectorValues:qe("object")};const nR=/^__.*__$/;class iR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Uo(e,this.data,i,this.fieldTransforms)}}class RE{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new hs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function CE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{dataSource:s})}}class rh{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new rh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(CE(this.dataSource)&&nR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class aR{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||eh(e)}createContext(e,i,r,o=!1){return new rh({dataSource:e,methodName:i,targetDoc:r,path:cn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NE(s){const e=s._freezeSettings(),i=eh(s._databaseId);return new aR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function sR(s,e,i,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Lm("Data must be an object, but it was:",d,r);const g=DE(r,d);let m,y;if(c.merge)m=new Hn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const b=Oo(e,A,i);if(!d.contains(b))throw new yt(at.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);OE(E,b)||E.push(b)}m=new Hn(E),y=d.fieldTransforms.filter((A=>m.covers(A.field)))}else m=null,y=d.fieldTransforms;return new iR(new Vn(g),m,y)}class ko extends sh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ko}}function rR(s,e,i){return new rh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jm extends sh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=rR(this,e,!0),r=this.Ac.map((c=>Ho(c,i))),o=new Wr(r);return new Q2(e.path,o)}isEqual(e){return e instanceof jm&&So(this.Ac,e.Ac)}}function lR(s,e,i,r){const o=s.createContext(1,e,i);Lm("Data must be an object, but it was:",o,r);const c=[],d=Vn.empty();cs(r,((m,y)=>{const E=IE(e,m,i);y=ns(y);const A=o.childContextForFieldPath(E);if(y instanceof ko)c.push(E);else{const b=Ho(y,A);b!=null&&(c.push(E),d.set(E,b))}}));const g=new Hn(c);return new RE(d,g,o.fieldTransforms)}function oR(s,e,i,r,o,c){const d=s.createContext(1,e,i),g=[Oo(e,r,i)],m=[o];if(c.length%2!=0)throw new yt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)g.push(Oo(e,c[b])),m.push(c[b+1]);const y=[],E=Vn.empty();for(let b=g.length-1;b>=0;--b)if(!OE(y,g[b])){const j=g[b];let z=m[b];z=ns(z);const K=d.childContextForFieldPath(j);if(z instanceof ko)y.push(j);else{const Q=Ho(z,K);Q!=null&&(y.push(j),E.set(j,Q))}}const A=new Hn(y);return new RE(E,A,d.fieldTransforms)}function Ho(s,e){if(VE(s=ns(s)))return Lm("Unsupported field value:",e,s),DE(s,e);if(s instanceof sh)return(function(r,o){if(!CE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let m=Ho(g,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=ns(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ye.fromDate(r);return{timestampValue:Uc(o.serializer,c)}}if(r instanceof ye){const c=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,c)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:Q_(o.serializer,r._byteString)};if(r instanceof Fe){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return(function(d,g){const m=d instanceof vi?d.toArray():d;return{mapValue:{fields:{[T_]:{stringValue:b_},[Ic]:{arrayValue:{values:m.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return pm(g.serializer,E)}))}}}}}})(r,o);if(W_(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${um(r)}`)})(s,e)}function DE(s,e){const i={};return p_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(s,((r,o)=>{const c=Ho(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function VE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ye||s instanceof qi||s instanceof si||s instanceof Fe||s instanceof sh||s instanceof vi||W_(s))}function Lm(s,e,i){if(!VE(i)||!d_(i)){const r=um(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Oo(s,e,i){if((e=ns(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return IE(s,e);throw kc("Field path arguments must be of type string or ",s,!1,void 0,i)}const uR=new RegExp("[~\\*/\\[\\]]");function IE(s,e,i){if(e.search(uR)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Mm(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function kc(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${o}`),m+=")"),new yt(at.INVALID_ARGUMENT,g+s+m)}function OE(s,e){return s.some((i=>i.isEqual(e)))}class cR{convertValue(e,i="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return cs(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Ic].arrayValue?.values?.map((r=>Ie(r.doubleValue)));return new vi(i)}convertGeoPoint(e){return new qi(Ie(e.latitude),Ie(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Yc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Co(e));default:return null}}convertTimestamp(e){const i=as(e);return new ye(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Ae.fromString(e);ne(J_(r),9688,{name:e});const o=new No(r.get(1),r.get(3)),c=new bt(r.popFirst(5));return o.isEqual(i)||pa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ME extends cR{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function vt(){return new ko("deleteField")}function hR(...s){return new jm("arrayUnion",s)}const A0="@firebase/firestore",S0="4.11.0";function w0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class jE{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Oo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fR extends jE{data(){return super.data()}}function dR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new yt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function mR(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class yo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends jE{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Oo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:qe("string",Gs._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class wc extends Gs{data(e={}){return super.data(e)}}class Kr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new wc(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const m=new wc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new yo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const m=new wc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new yo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:pR(g.type),doc:m,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:s})}}Kr._jsonSchemaVersion="firestore/querySnapshot/1.0",Kr._jsonSchema={type:qe("string",Kr._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};function x0(s){s=Pi(s,Fe);const e=Pi(s.firestore,nl),i=Om(e);return Xx(i,s._key).then((r=>UE(e,s,r)))}function Td(s,e,i){s=Pi(s,Fe);const r=Pi(s.firestore,nl),o=mR(s.converter,e,i),c=NE(r);return LE(r,[sR(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ki.none())])}function Re(s,e,i,...r){s=Pi(s,Fe);const o=Pi(s.firestore,nl),c=NE(o);let d;return d=typeof(e=ns(e))=="string"||e instanceof Mm?oR(c,"updateDoc",s._key,e,i,r):lR(c,"updateDoc",s._key,e),LE(o,[d.toMutation(s._key,ki.exists(!0))])}function gR(s,...e){s=ns(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||w0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(w0(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Fe)d=Pi(s.firestore,nl),g=Xc(s._key.path),c={next:y=>{e[r]&&e[r](UE(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Pi(s,ah);d=Pi(y.firestore,nl),g=y._query;const E=new ME(d);c={next:A=>{e[r]&&e[r](new Kr(d,E,y,A))},error:e[r+1],complete:e[r+2]},dR(s._query)}const m=Om(d);return Kx(m,g,o,c)}function LE(s,e){const i=Om(s);return $x(i,e)}function UE(s,e,i){const r=i.docs.get(e._key),o=new ME(s);return new Gs(s,o,e._key,r,new yo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){KS(LS),Nc(new wo("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new nl(new ZS(r.getProvider("auth-internal")),new t2(d,r.getProvider("app-check-internal")),v2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Gr(A0,S0,e),Gr(A0,S0,"esm2020")})();var yR="firebase",vR="12.9.0";Gr(yR,vR,"app");const _R={apiKey:"AIzaSyDM_UZv-hVnnC6Tw7TNRHM2sn7b6oEQjAk",authDomain:"werewolf-eb4e3.firebaseapp.com",projectId:"werewolf-eb4e3",storageBucket:"werewolf-eb4e3.firebasestorage.app",messagingSenderId:"170818985903",appId:"1:170818985903:web:bc5e13deef119b0c48195a"},ER=n_(_R),me=tR(ER),TR=["werewolf","seer","bodyguard","witch","hunter","fool","detective","silencer","cupid","villager"],bd=4,Xr=["werewolf","seer","bodyguard","witch","hunter","fool","detective","silencer","cupid","villager"],zE={werewolf:1,seer:1,bodyguard:1,witch:0,hunter:0,fool:0,detective:0,silencer:0,cupid:0,villager:1},bR={lobby:"Lobby",night:"Night",day:"Day",voting:"Voting",final:"Final Plea",results:"Results"},Hs={night:45,day:120,voting:45,final:30};function AR(){const s="ww_player_id",e=localStorage.getItem(s);if(e)return e;const i=crypto.randomUUID();return localStorage.setItem(s,i),i}function Ad(){return localStorage.getItem("ww_player_name")??""}function Sd(s){localStorage.setItem("ww_player_name",s)}function SR(){const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<5;i+=1)e+=s[Math.floor(Math.random()*s.length)];return e}function PE(s){const e=[...s];for(let i=e.length-1;i>0;i-=1){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function wR(s){const e=Math.max(1,Math.floor(s/4)),i=Array.from({length:e},()=>"werewolf");for(s>=5&&i.push("seer"),s>=6&&i.push("bodyguard"),s>=7&&i.push("hunter"),s>=8&&i.push("witch"),s>=9&&i.push("fool"),s>=10&&i.push("detective"),s>=11&&i.push("silencer"),s>=12&&i.push("cupid");i.length<s;)i.push("villager");return PE(i)}function xR(s){const e=s?.customRoles??{};return Xr.reduce((i,r)=>{const o=e[r],c=typeof o=="number"&&Number.isFinite(o)?Math.max(0,Math.floor(o)):0;return i[r]=c,i},{})}function RR(s,e){const i=Xr.reduce((o,c)=>o+(e[c]??0),0);if(i!==s)return{deck:null,error:`Custom roles must total ${s}. Current total is ${i}.`};if((e.werewolf??0)<1)return{deck:null,error:"Custom roles must include at least one werewolf."};const r=[];return Xr.forEach(o=>{const c=e[o]??0;for(let d=0;d<c;d+=1)r.push(o)}),{deck:PE(r)}}function R0(s){return s==="werewolf"}function CR(s,e){return R0(s)===R0(e)}function NR(s){switch(s){case"night":return"day";case"day":return"voting";case"voting":return"final";case"final":return"night";default:return"night"}}function DR(s){if(!s)return null;const e={};Object.values(s).forEach(r=>{e[r]=(e[r]??0)+1});const i=Object.entries(e).filter(([r])=>r!=="skip");return i.length===0?null:(i.sort((r,o)=>o[1]-r[1]),i.length>1&&i[0][1]===i[1][1]?{targetId:null,votes:i[0][1],isTie:!0}:{targetId:i[0][0],votes:i[0][1],isTie:!1})}function BE(s,e){if(!e)return{};const i=e.werewolfTarget,r=e.bodyguardProtect,o=i&&i!==r?i:void 0,c=e.seerInspect,d=s.find(b=>b.id===c),g=e.detectiveTargetA,m=e.detectiveTargetB,y=s.find(b=>b.id===g),E=s.find(b=>b.id===m),A={};return o&&(A.pendingVictimId=o),r&&(A.bodyguardSavedId=r),d&&(A.seerResult={targetId:d.id,role:d.role??"villager"}),y&&E&&(A.detectiveResult={targetIds:[y.id,E.id],sameTeam:CR(y.role,E.role)}),A}function VR(s,e,i,r){const o=BE(s,e),c=new Set,d={},g=e?.witchHeal?"heal":e?.witchPoisonTarget?"poison":"pass",m=e?.witchPoisonTarget,y=o.pendingVictimId??r,E=!!(!i?.healUsed&&g==="heal"&&y),A=!!(!i?.poisonUsed&&g==="poison"&&m);o.bodyguardSavedId&&(d.bodyguardSavedId=o.bodyguardSavedId),o.seerResult&&(d.seerResult=o.seerResult),o.detectiveResult&&(d.detectiveResult=o.detectiveResult),y&&!E&&c.add(y),E&&y&&(d.witchSavedId=y),A&&m&&(c.add(m),d.witchPoisonedId=m);const b=Array.from(c);return b.length>0&&(d.killedIds=b,d.killedId=b[0]),d}function C0(s){const e=s.filter(o=>o.isAlive),i=e.filter(o=>o.role==="werewolf").length,r=e.length-i;return i===0&&e.length>0?{winner:"villagers",reason:"All werewolves are eliminated."}:i>=r&&e.length>0?{winner:"werewolves",reason:"Werewolves have majority control."}:null}function wd(s,e){if(!e||e.length!==2)return s;const[i,r]=e,o=new Set(s);return o.has(i)&&!o.has(r)&&o.add(r),o.has(r)&&!o.has(i)&&o.add(i),Array.from(o)}const kE=H.createContext(null);function IR({children:s}){const e=H.useMemo(()=>AR(),[]),[i,r]=H.useState(Ad()),[o,c]=H.useState(""),[d,g]=H.useState(""),[m,y]=H.useState(null),[E,A]=H.useState(""),[b,j]=H.useState(""),[z,K]=H.useState(!1),[Q,nt]=H.useState(!1),[st,ot]=H.useState(Date.now());H.useEffect(()=>{const W=setInterval(()=>ot(Date.now()),1e3);return()=>clearInterval(W)},[]),H.useEffect(()=>{if(!d)return;const W=de(me,"rooms",d),it=gR(W,$=>{if(!$.exists()){y(null),g(""),j("Room ended.");return}y($.data())});return()=>it()},[d]),H.useEffect(()=>{if(!m||m.players?.[e]||Q)return;const W=Ad().trim();if(!W)return;nt(!0);const it=de(me,"rooms",m.code);Re(it,{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:W,isHost:m.hostId===e,isAlive:!0,isReady:!1,joinedAt:Date.now()}}).finally(()=>nt(!1))},[e,Q,m]),H.useEffect(()=>{if(!m||m.status==="lobby"||m.status==="results"||!m.players?.[e]?.isHost)return;const W=Hs[m.status];W&&(!m.phaseEndsAt||m.phaseEndsAt<Date.now())&&Re(de(me,"rooms",m.code),{phaseEndsAt:Date.now()+W*1e3,updatedAt:Date.now()})},[e,m]),H.useEffect(()=>{m&&(m.status==="lobby"||m.status==="results"||m.players?.[e]?.isHost&&m.phaseEndsAt&&(st<m.phaseEndsAt||ut()))},[st,e,m]);const dt=m?.players?.[e],xt=dt?.isHost??!1,Ct=async W=>{!m||!xt||m.status==="lobby"&&await Re(de(me,"rooms",m.code),{gameMode:W,updatedAt:Date.now()})},N=async(W,it)=>{if(!m||!xt||m.status!=="lobby")return;const $=Math.max(0,Math.min(16,Math.floor(it)));await Re(de(me,"rooms",m.code),{[`customRoles.${W}`]:$,updatedAt:Date.now()})},x=async()=>{const W=i.trim();if(!W)return j("Please enter a name."),null;Sd(W),j(""),A("Creating room..."),K(!0);let it="",$=!0,_t=0;for(;$&&_t<5;)_t+=1,it=SR(),$=(await x0(de(me,"rooms",it))).exists();if($)return K(!1),A(""),j("Could not create a unique room code. Try again."),null;const Nt=Date.now(),Xt={id:e,name:W,isHost:!0,isAlive:!0,isReady:!1,joinedAt:Nt},ie={id:it,code:it,status:"lobby",hostId:e,gameMode:"classic",customRoles:{...zE},createdAt:Nt,updatedAt:Nt,players:{[e]:Xt},dayCount:0};return await Td(de(me,"rooms",it),ie),g(it),c(it),A(""),K(!1),it},C=async()=>{const W=i.trim(),it=o.trim().toUpperCase();if(!W)return j("Please enter a name."),null;if(!it)return j("Enter a room code."),null;Sd(W),j(""),A("Joining room..."),K(!0);const $=de(me,"rooms",it);if(!(await x0($)).exists())return K(!1),A(""),j("Room not found."),null;const Nt=Date.now();return await Td($,{updatedAt:Nt,[`players.${e}`]:{id:e,name:W,isHost:!1,isAlive:!0,isReady:!1,joinedAt:Nt}},{merge:!0}),g(it),c(it),A(""),K(!1),it},M=async()=>{if(!m)return;if(!dt){j("You are not in this room. Please rejoin.");return}const W=de(me,"rooms",m.code);await Re(W,{[`players.${e}.isReady`]:!dt.isReady,updatedAt:Date.now()})},V=async()=>{if(!m||!xt)return;const W=Object.values(m.players);if(W.length<bd){j(`Need at least ${bd} players to start.`);return}if(!W.every(Nt=>Nt.isReady)){j("Everyone must be ready to start.");return}const it=m.gameMode??"classic";let $=[];if(it==="custom"){const Nt=xR(m),Xt=RR(W.length,Nt);if(!Xt.deck){j(Xt.error??"Invalid custom role setup.");return}$=Xt.deck}else $=wR(W.length);const _t={status:"night",nightStep:$.includes("cupid")?"cupid":"main",dayCount:1,updatedAt:Date.now(),phaseEndsAt:Date.now()+Hs.night*1e3,votes:vt(),finalVotes:vt(),finalAccusedId:vt(),nightActions:vt(),bodyguardLastProtectedId:vt(),lovers:vt(),silencedPlayerId:vt(),silencedDayCount:vt(),witchState:{healUsed:!1,poisonUsed:!1},witchTurn:vt(),lastNight:vt(),lastEliminated:vt(),hunterPending:vt(),winner:vt(),winReason:vt(),chat:vt()};W.forEach((Nt,Xt)=>{_t[`players.${Nt.id}.role`]=$[Xt],_t[`players.${Nt.id}.isAlive`]=!0,_t[`players.${Nt.id}.isReady`]=!1}),await Re(de(me,"rooms",m.code),_t)},U=async W=>{if(!m||!dt)return;const it=de(me,"rooms",m.code);await Re(it,{[`votes.${e}`]:W,updatedAt:Date.now()})},R=async W=>{!m||!dt||m.status==="final"&&dt.isAlive&&await Re(de(me,"rooms",m.code),{[`finalVotes.${e}`]:W,updatedAt:Date.now()})},ee=async W=>{if(!m||!dt||m.status!=="night"||m.nightStep!=="main"||!dt.isAlive)return;const $={werewolf:["werewolfTarget"],bodyguard:["bodyguardProtect"],seer:["seerInspect"],witch:[],hunter:[],fool:[],detective:["detectiveTargetA","detectiveTargetB"],silencer:["silencerTarget"],cupid:[],villager:[]}[dt.role??"villager"],_t=Object.entries(W).filter(([he])=>$.includes(he));if(_t.length===0)return;const Nt=_t.find(([he])=>he==="bodyguardProtect")?.[1];if(Nt&&m.bodyguardLastProtectedId===Nt)return;const Xt=_t.find(([he])=>he==="silencerTarget")?.[1];if(Xt&&Xt===e||Xt&&!m.players[Xt]?.isAlive)return;const ie=de(me,"rooms",m.code),Ut={updatedAt:Date.now()};_t.forEach(([he,en])=>{Ut[`nightActions.${he}`]=en}),await Re(ie,Ut)},Te=async(W,it)=>{if(!m||!dt||m.status!=="night"||m.nightStep!=="witch"||!dt.isAlive||dt.role!=="witch")return;const $=m.witchState??{healUsed:!1,poisonUsed:!1},_t=m.witchTurn?.pendingVictimId,Nt={updatedAt:Date.now(),"nightActions.witchHeal":vt(),"nightActions.witchPoisonTarget":vt()};if(W==="heal"){if($.healUsed||!_t)return;Nt["nightActions.witchHeal"]=!0}else if(W==="poison"){if($.poisonUsed||!it||!m.players[it]?.isAlive)return;Nt["nightActions.witchPoisonTarget"]=it}await Re(de(me,"rooms",m.code),Nt)},Y=async W=>{if(!m||!dt||m.status!=="night"||m.nightStep!=="cupid"||!dt.isAlive||dt.role!=="cupid"||W.length<1||W.length>2)return;const[it,$]=W;it&&($&&it===$||m.players[it]&&($&&!m.players[$]||await Re(de(me,"rooms",m.code),{"nightActions.cupidLoverIds":W,updatedAt:Date.now()})))},ut=async()=>{if(!m||!xt)return;const W=Object.values(m.players),it=NR(m.status),$={status:it,updatedAt:Date.now(),votes:vt(),finalVotes:vt(),phaseEndsAt:it!=="lobby"&&it!=="results"?Date.now()+Hs[it]*1e3:vt()},_t=[];if(m.status==="night"){if(m.nightStep==="cupid"){const Oe=m.nightActions?.cupidLoverIds;if(!Oe||Oe.length!==2){$.status="night",$.phaseEndsAt=Date.now()+Hs.night*1e3,await Re(de(me,"rooms",m.code),$);return}$.status="night",$.lovers=Oe,$.nightActions=vt(),$.nightStep="main",$.phaseEndsAt=Date.now()+Hs.night*1e3,await Re(de(me,"rooms",m.code),$);return}const Ut=BE(W,m.nightActions),he=W.find(Oe=>Oe.role==="witch"&&Oe.isAlive),en=m.witchState??{healUsed:!1,poisonUsed:!1},gn=he&&(!en.healUsed||!en.poisonUsed);if(!(m.nightStep==="witch")&&gn){$.status="night",$.nightStep="witch",$.witchTurn={pendingVictimId:Ut.pendingVictimId,action:"pass"},$.phaseEndsAt=Date.now()+Hs.night*1e3,await Re(de(me,"rooms",m.code),$);return}const Ge=m.witchTurn?.pendingVictimId??Ut.pendingVictimId,Jt=VR(W,m.nightActions,en,Ge);let Qt=Jt.killedIds??(Jt.killedId?[Jt.killedId]:[]);Qt=wd(Qt,m.lovers),Qt.length>0&&(Jt.killedIds=Qt,Jt.killedId=Qt[0]),Qt.forEach(Oe=>{$[`players.${Oe}.isAlive`]=!1,_t.push(Oe)});const En=!!(m.nightActions?.witchHeal&&Ge&&!(m.witchState?.healUsed??!1)),fs=!!(m.nightActions?.witchPoisonTarget&&!(m.witchState?.poisonUsed??!1));$.witchState={healUsed:!!((m.witchState?.healUsed??!1)||En),poisonUsed:!!((m.witchState?.poisonUsed??!1)||fs)},m.nightActions?.bodyguardProtect&&($.bodyguardLastProtectedId=m.nightActions.bodyguardProtect),$.lastNight=Jt,$.nightActions=vt(),$.witchTurn=vt(),$.nightStep="main",m.nightActions?.silencerTarget&&($.silencedPlayerId=m.nightActions.silencerTarget,$.silencedDayCount=m.dayCount||1)}if(m.status==="voting"){const Ut=DR(m.votes);Ut?.targetId?($.status="final",$.finalAccusedId=Ut.targetId,$.finalAccusedVotes=Ut.votes,$.phaseEndsAt=Date.now()+Hs.final*1e3):($.status="night",$.finalAccusedId=vt(),$.finalVotes=vt(),$.finalAccusedVotes=vt()),await Re(de(me,"rooms",m.code),$);return}if(m.status==="final"){const Ut=m.finalAccusedId,he=m.finalVotes??{},en=Object.values(he).filter(Ge=>Ge==="kill").length,gn=Object.values(he).filter(Ge=>Ge==="save").length,li=en>gn;if(Ut&&li){const Ge=wd([Ut],m.lovers);if(Ge.forEach(Qt=>{$[`players.${Qt}.isAlive`]=!1,_t.push(Qt)}),$.lastEliminated=Ge,W.find(Qt=>Qt.id===Ut)?.role==="fool"){$.status="results",$.phaseEndsAt=vt(),$.winner="fool",$.winReason="The Fool was voted out and wins instantly.",await Re(de(me,"rooms",m.code),$);return}}else $.lastEliminated=[];$.status="night",$.finalAccusedId=vt(),$.finalVotes=vt(),$.finalAccusedVotes=vt()}m.status==="day"&&m.silencedDayCount&&m.silencedDayCount===m.dayCount&&($.silencedPlayerId=vt(),$.silencedDayCount=vt());const Nt=_t.find(Ut=>W.find(en=>en.id===Ut)?.role==="hunter");Nt&&($.hunterPending=Nt);const Xt=W.map(Ut=>_t.includes(Ut.id)?{...Ut,isAlive:!1}:Ut),ie=C0(Xt);ie&&!Nt?($.status="results",$.phaseEndsAt=vt(),$.winner=ie.winner,$.winReason=ie.reason):$.status==="night"&&($.dayCount=(m.dayCount||1)+1,$.nightStep="main",$.witchTurn=vt(),$.nightActions=vt()),await Re(de(me,"rooms",m.code),$)},pt=async()=>{if(!m||!xt)return;const W={status:"lobby",updatedAt:Date.now(),phaseEndsAt:vt(),nightStep:vt(),bodyguardLastProtectedId:vt(),votes:vt(),nightActions:vt(),finalVotes:vt(),finalAccusedId:vt(),finalAccusedVotes:vt(),witchState:vt(),witchTurn:vt(),lastNight:vt(),lastEliminated:vt(),hunterPending:vt(),lovers:vt(),silencedPlayerId:vt(),silencedDayCount:vt(),winner:vt(),winReason:vt()};Object.values(m.players).forEach(it=>{W[`players.${it.id}.isReady`]=!1,W[`players.${it.id}.role`]=vt(),W[`players.${it.id}.isAlive`]=!0}),await Re(de(me,"rooms",m.code),W)},jt=async()=>{if(!m)return;const W=de(me,"rooms",m.code),it=Object.values(m.players).filter(_t=>_t.id!==e),$={[`players.${e}`]:vt(),updatedAt:Date.now()};if(xt&&it.length>0){const _t=it[0];$.hostId=_t.id,$[`players.${_t.id}.isHost`]=!0}await Re(W,$),g(""),y(null)},Bt=async()=>{if(!m)return;const W=i.trim()||Ad().trim();if(!W){j("Enter your name to rejoin.");return}Sd(W),await Td(de(me,"rooms",m.code),{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:W,isHost:m.hostId===e,isAlive:!0,isReady:!1,joinedAt:Date.now()}},{merge:!0})},I=async W=>{if(!m||!dt)return;if(!dt.isAlive){j("Eliminated players cannot chat.");return}if((m.status==="day"||m.status==="final")&&m.silencedPlayerId===e&&m.silencedDayCount===m.dayCount){j("You are silenced for today.");return}if(m.status==="night"&&dt.role!=="werewolf"){j("Only werewolves can chat at night.");return}const it=W.trim();it&&await Re(de(me,"rooms",m.code),{chat:hR({id:crypto.randomUUID(),senderId:e,senderName:dt.name,message:it,audience:m.status==="night"?"werewolves":"all",createdAt:Date.now()}),updatedAt:Date.now()})},Z=async W=>{if(!m||!m.players?.[e]?.isHost||!m.players?.[W]||W===e)return;const it={[`players.${W}`]:vt(),updatedAt:Date.now()};m.hostId===W&&(it.hostId=e,it[`players.${e}.isHost`]=!0),await Re(de(me,"rooms",m.code),it)},ct=async W=>{if(!m||!dt||!m.hunterPending||m.hunterPending!==e||!W)return;const it=m.players[W];if(!it||!it.isAlive)return;const $=Object.values(m.players),_t=wd([W],m.lovers),Nt=$.map(Ut=>_t.includes(Ut.id)?{...Ut,isAlive:!1}:Ut),Xt=C0(Nt),ie={hunterPending:vt(),lastEliminated:[...m.lastEliminated??[],..._t],updatedAt:Date.now()};_t.forEach(Ut=>{ie[`players.${Ut}.isAlive`]=!1}),Xt&&(ie.status="results",ie.phaseEndsAt=vt(),ie.winner=Xt.winner,ie.winReason=Xt.reason),await Re(de(me,"rooms",m.code),ie)},ht=m?.phaseEndsAt?Math.max(0,Math.ceil((m.phaseEndsAt-st)/1e3)):null,St={playerId:e,playerName:i,setPlayerName:r,roomCode:o,setRoomCode:c,activeCode:d,setActiveCode:g,room:m,status:E,error:b,loading:z,me:dt,isHost:xt,rolesPalette:TR,phaseLabels:bR,minPlayers:bd,countdown:ht,setGameMode:Ct,setCustomRoleCount:N,createRoom:x,joinRoom:C,leaveRoom:jt,rejoinRoom:Bt,toggleReady:M,startGame:V,advancePhase:ut,resetLobby:pt,setVote:U,setFinalVote:R,setNightAction:ee,setWitchAction:Te,setCupidAction:Y,sendChat:I,sendHunterShot:ct,removePlayer:Z};return w.jsx(kE.Provider,{value:St,children:s})}function HE(){const s=H.useContext(kE);if(!s)throw new Error("useRoom must be used within RoomProvider");return s}const qE=H.createContext(null),N0="ww_theme";function OR({children:s}){const[e,i]=H.useState(()=>localStorage.getItem(N0)==="light"?"light":"dark");H.useEffect(()=>{const o=document.documentElement;e==="light"?o.classList.add("theme-light"):o.classList.remove("theme-light"),localStorage.setItem(N0,e)},[e]);const r=H.useMemo(()=>({theme:e,toggleTheme:()=>i(o=>o==="dark"?"light":"dark")}),[e]);return w.jsx(qE.Provider,{value:r,children:s})}function FE(){const s=H.useContext(qE);if(!s)throw new Error("useTheme must be used within ThemeProvider");return s}const MR=[{icon:"",title:"Werewolves",text:"Hunt at night"},{icon:"",title:"Seer",text:"Reveal one role"},{icon:"",title:"Bodyguard",text:"Protect one player"},{icon:"",title:"Witch",text:"Heal or poison once"},{icon:"",title:"Hunter",text:"Final revenge shot"},{icon:"",title:"Fool",text:"Wins if voted out"},{icon:"",title:"Detective",text:"Compare two players"},{icon:"",title:"Silencer",text:"Mutes a voice"},{icon:"",title:"Cupid",text:"Links two lovers"}];function jR(){const[s,e]=H.useState("create"),i=qc(),{theme:r,toggleTheme:o}=FE(),{playerName:c,setPlayerName:d,roomCode:g,setRoomCode:m,room:y,loading:E,status:A,error:b,createRoom:j,joinRoom:z}=HE(),K=async()=>{const nt=await j();nt&&i(`/room/${nt}`)},Q=async()=>{const nt=await z();nt&&i(`/room/${nt}`)};return w.jsx("div",{className:"h-dvh overflow-hidden bg-ashen text-slate-100",children:w.jsxs("div",{className:"relative h-full overflow-hidden",children:[w.jsx("div",{className:"hero-glow"}),w.jsx("div",{className:"lobby-fireflies"}),w.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-80",children:[w.jsx("div",{className:"parallax-layer parallax-slow"}),w.jsx("div",{className:"parallax-layer parallax-fast"})]}),w.jsxs("div",{className:"lobby-shell relative z-10 mx-auto flex h-full w-full max-w-7xl flex-col px-4 py-4 sm:px-6 sm:py-5 lg:px-8",children:[w.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950 shadow-ember",children:"W"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-ashen-300 sm:text-xs",children:"Werewolf Online"}),w.jsx("h1",{className:"font-display text-2xl sm:text-3xl",children:"Night Council"})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"Social Deduction"}),w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"One Screen Lobby"}),w.jsx("button",{onClick:o,className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:r==="dark"?"Light Mode":"Dark Mode"})]})]}),w.jsxs("main",{className:"mt-3 grid min-h-0 flex-1 gap-3 lg:grid-cols-[minmax(0,1.15fr)_minmax(280px,0.85fr)] xl:gap-4",children:[w.jsxs("section",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/70 p-3 shadow-inky backdrop-blur sm:p-4",children:[w.jsxs("div",{className:"grid gap-3 md:grid-cols-[minmax(0,1.1fr)_minmax(220px,0.9fr)]",children:[w.jsxs("div",{className:"min-w-0",children:[w.jsx("div",{className:"inline-flex items-center gap-2 rounded-full border border-ashen-600 bg-ashen-800/70 px-3 py-1 text-[11px] uppercase tracking-[0.22em] text-ashen-200",children:"The Village Awaits"}),w.jsx("h2",{className:"mt-2 font-display text-2xl leading-tight sm:text-3xl xl:text-4xl",children:"Bluff hard. Vote smart. Survive the night."}),w.jsx("p",{className:"lobby-tight-copy mt-2 text-sm text-ashen-200",children:"Join your friends, receive a secret role, and outplay the pack before dawn."})]}),w.jsxs("div",{className:"hero-art lobby-float-card",children:[w.jsx("div",{className:"mist"}),w.jsx("div",{className:"moon-orbit",children:w.jsx("div",{className:"moon"})}),w.jsx("svg",{viewBox:"0 0 420 180",className:"wolf-silhouette","aria-hidden":"true",children:w.jsx("path",{fill:"currentColor",d:"M0 160h420v20H0zM85 150l28-22 15 5 18-20 24 12 18-13 28 10 16-9 25 11 20-15 26 13 17-6 29 14v40H85z"})})]})]}),w.jsxs("div",{className:"mt-3 grid gap-2 rounded-2xl border border-ashen-700 bg-ashen-900/80 p-3 sm:p-4",children:[w.jsx("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/60 p-1",children:w.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[w.jsx("button",{onClick:()=>e("create"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${s==="create"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Create"}),w.jsx("button",{onClick:()=>e("join"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${s==="join"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Join"})]})}),w.jsxs("div",{className:"grid gap-2",children:[w.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Your name"}),w.jsx("input",{value:c,onChange:nt=>d(nt.target.value),placeholder:"Enter a nickname",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm text-ashen-100 outline-none focus:border-ember"})]}),s==="join"&&w.jsxs("div",{className:"grid gap-2",children:[w.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Room code"}),w.jsx("input",{value:g,onChange:nt=>m(nt.target.value.toUpperCase()),placeholder:"ABCDE",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm uppercase tracking-[0.2em] text-ashen-100 outline-none focus:border-ember"})]}),s==="create"?w.jsx("button",{onClick:K,disabled:E,className:"lobby-cta rounded-lg px-5 py-2.5 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Summon Room"}):w.jsx("button",{onClick:Q,disabled:E,className:"rounded-lg border border-ashen-500 bg-ashen-800/40 px-5 py-2.5 text-sm font-semibold text-ashen-100 transition hover:border-ember disabled:opacity-60",children:"Enter Room"}),w.jsxs("div",{className:"min-h-5 text-xs sm:text-sm",children:[A&&w.jsx("p",{className:"text-ashen-300",children:A}),b&&w.jsx("p",{className:"text-ember",children:b})]})]}),w.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:MR.map(nt=>w.jsxs("div",{className:"lobby-float-card rounded-xl border border-ashen-700 bg-ashen-900/80 px-3 py-2.5",children:[w.jsx("p",{className:"text-lg leading-none",children:nt.icon}),w.jsx("p",{className:"mt-1 font-display text-sm",children:nt.title}),w.jsx("p",{className:"text-xs text-ashen-300",children:nt.text})]},nt.title))})]}),w.jsxs("aside",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/80 p-3 shadow-inky backdrop-blur sm:p-4",children:[w.jsx("h3",{className:"font-display text-lg sm:text-xl",children:"Tonight's Briefing"}),w.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-200 sm:grid-cols-3 lg:grid-cols-1",children:[w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Night"}),w.jsx("p",{className:"mt-1 text-xs",children:"Werewolves strike. Seer, Bodyguard, and Witch act in secret."})]}),w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Day"}),w.jsx("p",{className:"mt-1 text-xs",children:"Debate, accuse, and force lies into the open."})]}),w.jsxs("div",{className:"lobby-optional rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Vote"}),w.jsx("p",{className:"mt-1 text-xs",children:"Majority decides who faces elimination."})]})]}),w.jsxs("div",{className:"mt-3 min-h-0 flex-1 rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Players in room"}),w.jsx("div",{className:"mt-2 flex h-full max-h-40 flex-wrap content-start gap-2 overflow-y-auto pr-1 text-xs text-ashen-200",children:y?Object.values(y.players).map(nt=>w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-700/80 px-3 py-1",children:nt.name},nt.id)):"Waiting for players"})]})]})]})]})]})})}const LR={werewolf:"",seer:"",bodyguard:"",witch:"",hunter:"",fool:"",detective:"",silencer:"",cupid:"",villager:""},UR=["#F7D7C4","#E9C4A3","#D8A57E","#B98364","#8D5E3C","#7C4A2B"],zR=["#1F2937","#4B2E2A","#A16207","#6B7280","#111827","#3F2E1E"],PR=["#22D3EE","#F97316","#A78BFA","#10B981","#F43F5E","#38BDF8"],BR=["none","glasses","hat","scar","earring","headband"],kR=["round","sleepy","wink","focused"],HR=["smile","smirk","neutral","open"],qR=["short","swoop","curly","spiky"],FR=["hoodie","tee","collar"];function $a(s,e){return s[e%s.length]}function GR(s){let e=0;for(let i=0;i<s.length;i+=1)e=(e*31+s.charCodeAt(i))%1e4;return e}function QR({seed:s,sizeClass:e="h-14 w-14"}){const i=$a(UR,s),r=$a(zR,s+3),o=$a(PR,s+7),c=$a(BR,s+11),d=$a(kR,s+13),g=$a(HR,s+17),m=$a(qR,s+19),y=$a(FR,s+23),E=c==="glasses",A=c==="hat",b=c==="scar",j=c==="earring",z=c==="headband";return w.jsxs("svg",{viewBox:"0 0 140 140",className:e,"aria-hidden":"true",children:[w.jsx("rect",{x:"0",y:"0",width:"140",height:"140",fill:"none"}),w.jsx("circle",{cx:"70",cy:"56",r:"26",fill:i}),w.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),m==="short"&&w.jsx("path",{d:"M42 50c6-12 16-18 28-18 12 0 22 6 28 18",fill:r}),m==="swoop"&&w.jsx("path",{d:"M36 54c8-18 24-26 40-26 12 0 22 6 28 14",fill:r}),m==="curly"&&w.jsx("path",{d:"M40 54c6-14 18-20 30-20 12 0 22 6 30 20",fill:r}),m==="spiky"&&w.jsx("path",{d:"M42 54l10-16 10 10 8-12 8 12 8-10 12 16",fill:r}),w.jsx("path",{d:"M42 62c4 14 16 24 28 24s24-10 28-24",fill:"none"}),A&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"36",y:"28",width:"68",height:"10",fill:"#0F172A"}),w.jsx("rect",{x:"50",y:"14",width:"40",height:"18",rx:"4",fill:"#0F172A"})]}),E&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"44",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),w.jsx("rect",{x:"76",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),w.jsx("rect",{x:"64",y:"56",width:"12",height:"2",fill:"#111827"})]}),z&&w.jsx("rect",{x:"38",y:"44",width:"64",height:"8",rx:"4",fill:"#F97316"}),b&&w.jsx("rect",{x:"78",y:"46",width:"18",height:"3",rx:"1.5",fill:"#9CA3AF"}),j&&w.jsx("circle",{cx:"96",cy:"70",r:"4",fill:"#FBBF24"}),d==="round"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"})]}),d==="sleepy"&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"56",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"}),w.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="wink"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="focused"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("path",{d:"M54 54h12",stroke:"#1F2937",strokeWidth:"2"}),w.jsx("path",{d:"M74 54h12",stroke:"#1F2937",strokeWidth:"2"})]}),g==="smile"&&w.jsx("path",{d:"M60 74c6 6 14 6 20 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="smirk"&&w.jsx("path",{d:"M62 74c6 3 12 3 18 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="neutral"&&w.jsx("path",{d:"M62 74h18",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="open"&&w.jsx("circle",{cx:"70",cy:"76",r:"5",fill:"#1F2937"}),y==="hoodie"&&w.jsx("path",{d:"M38 132c6-20 22-32 32-32h0c10 0 26 12 32 32",fill:o}),y==="tee"&&w.jsx("path",{d:"M32 132c10-26 24-36 38-36h0c14 0 28 10 38 36",fill:o}),y==="collar"&&w.jsxs(w.Fragment,{children:[w.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),w.jsx("path",{d:"M60 90l10 12 10-12",fill:"#F8FAFC",opacity:"0.8"})]})]})}function YR(){const s=qc(),{code:e}=pb(),[i,r]=H.useState(""),[o,c]=H.useState(!1),[d,g]=H.useState(!1),{theme:m,toggleTheme:y}=FE(),{playerId:E,setActiveCode:A,room:b,error:j,me:z,isHost:K,countdown:Q,phaseLabels:nt,setGameMode:st,setCustomRoleCount:ot,toggleReady:dt,rejoinRoom:xt,leaveRoom:Ct,startGame:N,advancePhase:x,resetLobby:C,setVote:M,setNightAction:V,setWitchAction:U,setFinalVote:R,setCupidAction:ee,sendChat:Te,sendHunterShot:Y,removePlayer:ut}=HE();H.useEffect(()=>{e&&A(e)},[e,A]),H.useEffect(()=>{if(!b||b.status==="lobby"){c(!1),g(!1);return}z?.role&&(d||o||c(!0))},[z?.role,d,b,o]),H.useEffect(()=>{if(!o)return;const rt=setTimeout(()=>{c(!1),g(!0)},2600);return()=>clearTimeout(rt)},[o]);const pt=H.useMemo(()=>b?Object.values(b.players).sort((rt,Lt)=>rt.joinedAt!==Lt.joinedAt?rt.joinedAt-Lt.joinedAt:rt.id.localeCompare(Lt.id)):[],[b]),jt=H.useMemo(()=>pt.filter(rt=>rt.isAlive),[pt]),Bt=b?.gameMode??"classic",I=H.useMemo(()=>b?Xr.reduce((rt,Lt)=>{const Et=b.customRoles?.[Lt];return rt[Lt]=typeof Et=="number"&&Number.isFinite(Et)?Math.max(0,Math.floor(Et)):0,rt},{}):{...zE},[b]),Z=Xr.reduce((rt,Lt)=>rt+(I[Lt]??0),0),ct=(I.werewolf??0)>0,ht=Z===pt.length,St=Bt==="classic"||ct&&ht,W=b?.votes?.[E],it=b?.nightActions,$=b?.lastNight,_t=b?.status==="night",Nt=b?.nightStep==="main",Xt=b?.status==="night"&&b?.nightStep==="witch",ie=b?.status==="night"&&b?.nightStep==="cupid",Ut=b?.status==="final",he=b?.witchTurn?.pendingVictimId?b.players[b.witchTurn.pendingVictimId]?.name??"Unknown":null,en=b?.players?.[E],gn=z?.role==="werewolf",li=b?.status==="day"&&b?.silencedPlayerId===E&&b?.silencedDayCount===b?.dayCount,Ge=b?.lovers??[],Jt=Ge.includes(E),Qt=Jt?Ge.find(rt=>rt!==E):void 0,En=Qt?b?.players?.[Qt]:void 0,fs=Ge.length===2&&d,Oe=ie?"Waiting for Cupid to act.":"Waiting for the Witch to act.",Qe=!!(z?.isAlive&&!li&&(!_t||gn)),In=b?.hunterPending===E,ya=!!(b?.hunterPending&&!In),ds=!!(Xt&&z?.isAlive&&z.role==="witch"),Ei=!!(Ut&&en?.isAlive),Js=!!(fs&&Jt&&En),ms=b?.status==="day"&&!!(z?.role==="seer"&&$?.seerResult||z?.role==="detective"&&$?.detectiveResult),Ws=!!(Js||b?.status==="night"&&z?.isAlive||Xt||ie||ms||b?.status==="voting"&&z?.isAlive||Ut||b?.status==="results"||ya||In),va=b?.chat?.filter(rt=>(rt.audience??"all")==="all"||gn),Tn=H.useMemo(()=>{if(!b)return[];const rt=[];if(b.lastNight){const Lt=b.lastNight.killedIds??(b.lastNight.killedId?[b.lastNight.killedId]:[]);if(Lt.length>0){const Et=Lt.map(nn=>b.players[nn]?.name??"Someone").join(", ");rt.push(`Night: ${Et} ${Lt.length===1?"was":"were"} taken.`)}else rt.push("Night: No one was eliminated.")}if(b.lastEliminated)if(b.lastEliminated.length>0){const Lt=b.lastEliminated.map(Et=>b.players[Et]?.name??"Someone").join(", ");rt.push(`Vote: ${Lt} ${b.lastEliminated.length===1?"was":"were"} eliminated.`)}else rt.push("Vote: No elimination.");return rt},[b]),Me=H.useRef(null);H.useEffect(()=>{const rt=Me.current;rt&&(rt.scrollTop=rt.scrollHeight)},[va?.length,b?.status]);const yn=async()=>{await Te(i),r("")},be=async()=>{await Ct(),s("/")};return b?w.jsx("div",{className:"min-h-screen bg-ashen text-slate-100 lg:h-screen lg:overflow-hidden",children:w.jsxs("div",{className:"relative overflow-hidden",children:[w.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-70",children:[w.jsx("div",{className:"parallax-layer parallax-slow"}),w.jsx("div",{className:"parallax-layer parallax-fast"})]}),w.jsx("div",{className:"hero-glow"}),w.jsxs("div",{className:"relative z-10 mx-auto px-5 py-6 lg:h-full",children:[o&&w.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-ashen/90 px-6",children:w.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-ashen-700 bg-ashen-900/90 p-8 text-center shadow-inky",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Role Draw"}),w.jsx("h2",{className:"mt-3 font-display text-2xl",children:"Spinning the wheel..."}),w.jsx("div",{className:"mt-6 grid place-items-center",children:w.jsx("div",{className:"role-wheel"})}),w.jsx("p",{className:"mt-4 text-sm text-ashen-300",children:"Your role is being revealed."})]})}),w.jsxs("header",{className:"flex flex-col gap-4 lg:grid lg:grid-cols-[1fr_auto_1fr] lg:items-center",children:[w.jsxs("div",{className:"flex items-center gap-3 lg:justify-self-start",children:[w.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950",children:"W"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-ashen-400",children:"Werewolf Online"}),w.jsxs("h1",{className:"font-display text-2xl",children:["Room ",b.code]})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 rounded-full border border-ember/40 bg-ember/10 px-4 py-2 text-xs text-ember-100 shadow-[0_0_20px_rgba(245,176,76,0.35)]",children:[w.jsx("span",{className:"uppercase tracking-[0.28em]",children:"Stage"}),w.jsx("span",{className:"rounded-full border border-ember/30 bg-ashen-900/70 px-2 py-1 text-[11px] text-ashen-100",children:nt[b.status]}),Xt&&w.jsx("span",{className:"rounded-full border border-emerald-500/40 bg-emerald-500/10 px-2 py-1 text-[11px] text-emerald-200",children:"Witch Turn"}),Q!==null&&b.status!=="lobby"&&b.status!=="results"&&w.jsxs("span",{className:"rounded-full border border-ember/40 bg-ember/20 px-2 py-1 text-[11px] font-semibold text-ember",children:[Q,"s"]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-3 lg:justify-self-end",children:[b.status==="lobby"&&z&&w.jsx("button",{onClick:dt,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:z.isReady?"Unready":"Ready"}),b.status==="lobby"&&!z&&w.jsx("button",{onClick:xt,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Rejoin Room"}),b.status==="lobby"&&K&&w.jsx("button",{onClick:N,disabled:!St,className:"h-9 min-w-[110px] rounded-lg bg-ember px-3 py-2 text-xs font-semibold text-slate-950 disabled:cursor-not-allowed disabled:opacity-60",children:"Start Game"}),K&&b.status!=="results"&&w.jsx("button",{onClick:x,className:"h-9 min-w-[110px] rounded-lg bg-ember px-3 py-2 text-xs font-semibold text-slate-950",children:"Advance Phase"}),K&&w.jsx("button",{onClick:C,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Reset to Lobby"}),w.jsx("button",{onClick:y,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:m==="dark"?"Light Mode":"Dark Mode"}),w.jsx("button",{onClick:be,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Leave Room"})]})]}),Tn.length>0&&w.jsx("div",{className:"mt-3 rounded-2xl border border-ashen-700 bg-ashen-900/70 px-4 py-2 text-xs text-ashen-200 shadow-inky",children:w.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[w.jsx("span",{className:"rounded-full bg-ember/15 px-2 py-1 text-[10px] uppercase tracking-[0.3em] text-ember",children:"Events"}),Tn.map(rt=>w.jsx("span",{className:"rounded-full border border-ashen-700 bg-ashen-800/60 px-3 py-1",children:rt},rt))]})}),w.jsxs("main",{className:"mt-4 grid gap-4 lg:h-[calc(100vh-160px)] lg:grid-cols-[1.25fr_0.75fr] lg:overflow-hidden",children:[w.jsx("section",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 lg:flex lg:h-full lg:flex-col",children:[w.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Players"}),w.jsx("h3",{className:"font-display text-xl",children:"Village Roster"})]}),w.jsxs("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:[jt.length," alive / ",pt.length," total"]})]}),w.jsx("div",{className:"mt-2 grid flex-1 auto-rows-fr gap-2 overflow-hidden sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:16}).map((rt,Lt)=>{const Et=pt[Lt];if(!Et)return w.jsx("div",{className:"rounded-2xl border border-dashed border-ashen-700/60 bg-ashen-900/40 p-3 text-xs text-ashen-500",children:"Empty slot"},`slot-${Lt}`);const nn=Et.id===E,Qi=nn&&Et.role,Fn=(b.status==="night"?z?.role==="werewolf"?[it?.werewolfTarget]:z?.role==="bodyguard"?[it?.bodyguardProtect]:z?.role==="seer"?[it?.seerInspect]:z?.role==="witch"?[it?.witchPoisonTarget]:z?.role==="silencer"?[it?.silencerTarget]:z?.role==="detective"?[it?.detectiveTargetA,it?.detectiveTargetB]:z?.role==="cupid"&&ie?it?.cupidLoverIds??[]:[]:[]).filter(Boolean),Gn=b.status==="voting"&&W===Et.id||b.status==="night"&&Fn.includes(Et.id),bn=b.status==="voting"?Object.values(b.votes??{}).filter($e=>$e===Et.id).length:0,tr=b.status==="voting"?!!z?.isAlive:b.status==="night"?!!(z?.isAlive&&(ie&&z.role==="cupid"||Nt&&(z.role==="werewolf"||z.role==="bodyguard"||z.role==="seer"||z.role==="detective"||z.role==="silencer"))):!!In;return w.jsxs("div",{onClick:()=>{if(tr&&Et.isAlive){if(b.status==="voting"){M(Et.id===E?"skip":Et.id);return}if(b.status==="night"){if(ie){if(z?.role!=="cupid")return;const $e=it?.cupidLoverIds??[];if($e.length===0){ee([Et.id]);return}if($e.length===1){if($e[0]===Et.id)return;ee([$e[0],Et.id]);return}if($e.length===2){if($e.includes(Et.id))return;ee([$e[0],Et.id])}return}if(!Nt)return;if(z?.role==="werewolf"&&Et.id!==E&&V({werewolfTarget:Et.id}),z?.role==="bodyguard"){if(Et.id===b.bodyguardLastProtectedId)return;V({bodyguardProtect:Et.id})}if(z?.role==="seer"&&Et.id!==E&&V({seerInspect:Et.id}),z?.role==="detective"){const $e=it?.detectiveTargetA,Qn=it?.detectiveTargetB;$e?!Qn&&Et.id!==$e?V({detectiveTargetB:Et.id}):Et.id!==$e&&V({detectiveTargetB:Et.id}):V({detectiveTargetA:Et.id})}z?.role==="silencer"&&Et.id!==E&&V({silencerTarget:Et.id});return}In&&Et.id!==E&&Y(Et.id)}},className:`player-card relative flex h-full flex-col overflow-hidden rounded-2xl border bg-ashen-800/70 transition ${nn?"border-ember shadow-[0_0_0_2px_rgba(245,176,76,0.35),0_14px_24px_rgba(0,0,0,0.35)]":"border-ashen-700"} ${Et.isAlive?"opacity-100":"opacity-40"} ${Gn?"outline outline-2 outline-emerald-400/80":""} ${tr?"cursor-pointer":""}`,children:[w.jsxs("div",{className:"absolute left-2 top-2 z-10 flex items-center gap-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-ashen-100",children:[w.jsx("span",{children:Et.name}),nn&&w.jsx("span",{className:"text-[9px] text-ember",children:"You"})]}),w.jsxs("div",{className:"relative grid flex-1 place-items-center gap-2 bg-ashen-900/40 p-3 pt-7",children:[w.jsx("div",{className:"relative grid h-20 w-full place-items-center overflow-hidden rounded-xl border border-ashen-700 bg-ashen-800/60",children:w.jsx(QR,{seed:GR(Et.id),sizeClass:"h-16 w-16"})}),!Et.isAlive&&w.jsx("div",{className:"absolute right-2 top-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] text-ashen-300","aria-label":"Eliminated",children:""})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-1 px-2 py-2 text-[9px] uppercase tracking-[0.2em] text-ashen-200",children:[w.jsx("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1",children:Et.isAlive?"Active":"Out"}),b.status==="voting"&&bn>0&&w.jsxs("span",{className:"rounded-full bg-ember/20 px-2 py-1 text-ember",children:["Votes Received ",bn]}),b.status==="lobby"&&w.jsx("span",{className:`rounded-full px-2 py-1 ${Et.isReady?"bg-emerald-500/20 text-emerald-200":"bg-ashen-700/70 text-ashen-300"}`,children:Et.isReady?"Ready":"Not Ready"}),Et.isHost&&w.jsx("span",{className:"rounded-full bg-ember/20 px-2 py-1 text-ember",children:"Crown"}),Qi&&Et.role&&w.jsxs("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1 text-ashen-100",children:[LR[Et.role]," ",Et.role]}),K&&!nn&&w.jsx("button",{onClick:()=>ut(Et.id),className:"rounded-full bg-rose-500/20 px-2 py-1 text-rose-200",children:"Remove"})]})]},Et.id)})})]})}),w.jsxs("aside",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:[b.status==="lobby"&&K&&w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 shadow-inky",children:[w.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Game setup"}),w.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[w.jsx("button",{onClick:()=>st("classic"),className:`rounded-full px-3 py-1 text-[11px] font-semibold ${Bt==="classic"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Classic"}),w.jsx("button",{onClick:()=>st("custom"),className:`rounded-full px-3 py-1 text-[11px] font-semibold ${Bt==="custom"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Custom"})]})]}),Bt==="custom"&&w.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[Xr.map(rt=>w.jsxs("div",{className:"flex items-center justify-between gap-2",children:[w.jsx("span",{className:"capitalize text-xs text-ashen-200",children:rt}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:()=>ot(rt,(I[rt]??0)-1),className:"rounded-md border border-ashen-500 px-2 py-0.5 text-xs text-ashen-100",children:"-"}),w.jsx("span",{className:"w-5 text-center text-xs text-ashen-100",children:I[rt]??0}),w.jsx("button",{onClick:()=>ot(rt,(I[rt]??0)+1),className:"rounded-md border border-ashen-500 px-2 py-0.5 text-xs text-ashen-100",children:"+"})]})]},rt)),w.jsxs("p",{className:"text-xs text-ashen-300 sm:col-span-2",children:["Total roles: ",Z," / Players: ",pt.length]}),!ct&&w.jsx("p",{className:"text-xs text-ember sm:col-span-2",children:"Custom setup must include at least 1 werewolf."}),!ht&&w.jsx("p",{className:"text-xs text-ember sm:col-span-2",children:"Role total must match player count."})]})]}),Ws&&w.jsx("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 lg:max-h-[38%] lg:overflow-y-auto",children:w.jsxs("div",{className:"grid gap-3",children:[w.jsx("div",{children:Js&&w.jsxs("p",{className:"mt-2 text-xs text-ashen-300",children:["Lover: ",En?.name," (",En?.role??"unknown",")"]})}),w.jsxs("div",{className:"space-y-3",children:[b.status==="night"&&z?.isAlive&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Night actions"}),w.jsxs("p",{className:"mt-2",children:[z.role==="werewolf"&&(Nt?"Click a player in the grid to choose the werewolf target.":Oe),z.role==="bodyguard"&&(Nt?"Click a player in the grid to protect them. You cannot protect the same player as last night.":Oe),z.role==="bodyguard"&&Nt&&b.bodyguardLastProtectedId&&` Last protected: ${b.players[b.bodyguardLastProtectedId]?.name??"Unknown"}.`,z.role==="seer"&&(Nt?"Click a player in the grid to inspect them.":Oe),z.role==="detective"&&(Nt?"Select two players to learn if they share a team.":Oe),z.role==="silencer"&&(Nt?"Click a player to silence them for tomorrow.":Oe),z.role==="cupid"&&(ie?"Choose two players to become lovers.":"You have no further night action."),z.role==="witch"&&(Xt?"Choose to heal the pending victim, poison a player, or pass.":"Wait for Werewolf, Bodyguard, and Seer to finish. You act next."),z.role==="fool"&&"You have no night action.",z.role==="villager"&&"You have no night action.",z.role==="hunter"&&"You have no night action."]})]}),Xt&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Witch turn"}),w.jsx("p",{className:"mt-2",children:he?`Pending victim: ${he}.`:"No pending victim tonight."}),ds&&w.jsxs("div",{className:"mt-3 space-y-2",children:[!b.witchState?.healUsed&&b.witchTurn?.pendingVictimId&&w.jsx("button",{onClick:()=>U("heal"),className:"rounded-lg bg-emerald-500/20 px-3 py-2 text-xs font-semibold text-emerald-200",children:"Use Heal Potion"}),!b.witchState?.poisonUsed&&w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-ashen-400",children:"Poison target:"}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:jt.filter(rt=>rt.id!==E).map(rt=>w.jsx("button",{onClick:()=>U("poison",rt.id),className:"rounded-full bg-rose-500/20 px-3 py-1 text-xs text-rose-200",children:rt.name},rt.id))})]}),w.jsx("button",{onClick:()=>U("pass"),className:"rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Pass"})]})]}),ie&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Cupid turn"}),w.jsx("p",{className:"mt-2",children:"Select two players in the grid to become lovers."}),it?.cupidLoverIds?.length?w.jsxs("p",{className:"mt-2 text-xs text-ashen-300",children:["Selected:"," ",it.cupidLoverIds.map(rt=>b.players[rt]?.name??"Unknown").join(", ")]}):null]}),b.status==="day"&&ms&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[z?.role==="seer"&&$?.seerResult&&w.jsxs("p",{className:"text-ashen-100",children:["Your vision: ",b.players[$.seerResult.targetId]?.name," is a"," ",$.seerResult.role,"."]}),z?.role==="detective"&&$?.detectiveResult&&w.jsxs("p",{className:"text-ashen-100",children:["Your investigation: ",b.players[$.detectiveResult.targetIds[0]]?.name," and"," ",b.players[$.detectiveResult.targetIds[1]]?.name," are"," ",$.detectiveResult.sameTeam?"on the same team.":"on different teams."]})]}),b.status==="voting"&&z?.isAlive&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Voting"}),w.jsx("p",{className:"mt-2",children:"Click a player card in the grid to vote. Click your own card to skip."}),b.votes&&w.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-ashen-300",children:Object.entries(Object.values(b.votes).reduce((rt,Lt)=>(Lt==="skip"||(rt[Lt]=(rt[Lt]??0)+1),rt),{})).sort((rt,Lt)=>Lt[1]-rt[1]).map(([rt,Lt])=>w.jsxs("span",{className:"rounded-full border border-ashen-700 bg-ashen-900/50 px-2 py-1",children:[b.players[rt]?.name??"Someone",": ",Lt]},rt))}),w.jsxs("div",{className:"mt-2 text-sm text-ashen-300",children:[Object.values(b.votes??{}).length," vote(s) cast."]})]}),Ut&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Final Plea"}),w.jsxs("p",{className:"mt-2",children:["Accused: ",b.finalAccusedId?b.players[b.finalAccusedId]?.name??"Unknown":""]}),typeof b.finalAccusedVotes=="number"&&w.jsxs("p",{className:"mt-1 text-xs text-ashen-300",children:["Received ",b.finalAccusedVotes," vote",b.finalAccusedVotes===1?"":"s","."]}),w.jsx("p",{className:"mt-1 text-xs text-ashen-300",children:"Cast your vote to save or eliminate."}),Ei&&w.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[w.jsx("button",{onClick:()=>R("save"),className:"rounded-full border border-emerald-500/40 bg-emerald-500/10 px-3 py-1 text-xs text-emerald-200",children:"Save"}),w.jsx("button",{onClick:()=>R("kill"),className:"rounded-full border border-rose-500/40 bg-rose-500/10 px-3 py-1 text-xs text-rose-200",children:"Kill"})]}),w.jsxs("div",{className:"mt-2 text-xs text-ashen-300",children:[Object.values(b.finalVotes??{}).length," vote(s) cast."]})]}),b.status==="results"&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"font-display text-xl text-ashen-100",children:b.winner==="villagers"?"Villagers win!":b.winner==="werewolves"?"Werewolves win!":"The Fool wins!"}),w.jsx("p",{className:"mt-2",children:b.winReason})]}),ya&&w.jsx("div",{className:"rounded-xl border border-ember/40 bg-ember/10 p-3 text-sm text-ashen-100",children:"Waiting for the Hunter's final shot..."}),In&&w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Hunter last shot"}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:jt.filter(rt=>rt.id!==E).map(rt=>w.jsx("button",{onClick:()=>Y(rt.id),className:"rounded-full bg-ember px-3 py-1 text-xs text-slate-950",children:rt.name},rt.id))}),w.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"You were eliminated. Choose one player to take with you."})]})]})]})}),w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 shadow-inky lg:flex lg:flex-1 lg:flex-col lg:min-h-0",children:[w.jsx("h3",{className:"font-display text-xl",children:"Chat"}),w.jsx("div",{ref:Me,className:"mt-2 flex flex-1 flex-col gap-3 overflow-y-auto rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:va?.length?va.map(rt=>w.jsxs("div",{className:"text-sm text-ashen-200",children:[w.jsxs("span",{className:"text-ashen-400",children:[rt.senderName,":"]})," ",rt.message]},rt.id)):w.jsx("p",{className:"text-sm text-ashen-400",children:"No messages yet."})}),_t&&!gn&&w.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"Night chat is for werewolves only."}),li&&w.jsx("p",{className:"mt-2 text-xs text-rose-200",children:"You are silenced for today."}),j&&w.jsx("p",{className:"mt-2 text-xs text-ember",children:j}),w.jsxs("div",{className:"mt-3 flex gap-2",children:[w.jsx("input",{value:i,onChange:rt=>r(rt.target.value),onKeyDown:rt=>{rt.key==="Enter"&&!rt.shiftKey&&(rt.preventDefault(),Qe&&i.trim()&&yn())},placeholder:"Say something...",disabled:!Qe,className:"flex-1 rounded-lg border border-ashen-600 bg-ashen-800/80 px-3 py-2 text-sm text-ashen-100 outline-none focus:border-ember disabled:opacity-50"}),w.jsx("button",{onClick:yn,disabled:!Qe,className:"rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Send"})]})]}),w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-4 lg:flex-none",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Roles in play"}),w.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-100",children:[Object.entries(pt.reduce((rt,Lt)=>(Lt.role&&(rt[Lt.role]=(rt[Lt.role]??0)+1),rt),{})).map(([rt,Lt])=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("span",{className:"capitalize",children:[rt," x",Lt]}),w.jsx("span",{className:"text-ashen-400",children:"Active"})]},rt)),b.status==="lobby"&&w.jsx("p",{className:"text-xs text-ashen-400",children:"Roles appear after the game starts."})]})]})]})]})]})]})}):w.jsx("div",{className:"min-h-screen bg-ashen text-slate-100",children:w.jsxs("div",{className:"mx-auto max-w-3xl px-6 py-20",children:[w.jsx("h2",{className:"font-display text-2xl",children:"Room not found"}),w.jsx("p",{className:"mt-2 text-ashen-200",children:"Create a new room or check the code."}),w.jsx("button",{onClick:()=>s("/"),className:"mt-6 rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950",children:"Back to Lobby"})]})})}function KR(){return w.jsx(OR,{children:w.jsx(IR,{children:w.jsxs(Vb,{children:[w.jsx(yc,{path:"/",element:w.jsx(jR,{})}),w.jsx(yc,{path:"/room/:code",element:w.jsx(YR,{})}),w.jsx(yc,{path:"*",element:w.jsx(Nb,{to:"/",replace:!0})})]})})})}IT.createRoot(document.getElementById("app")).render(w.jsx(ST.StrictMode,{children:w.jsx(eA,{children:w.jsx(KR,{})})}));
