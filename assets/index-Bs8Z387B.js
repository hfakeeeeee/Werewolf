(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function D0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var id={exports:{}},ro={};var iv;function vT(){if(iv)return ro;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return ro.Fragment=e,ro.jsx=i,ro.jsxs=i,ro}var av;function _T(){return av||(av=1,id.exports=vT()),id.exports}var w=_T(),ad={exports:{}},Dt={};var rv;function ET(){if(rv)return Dt;rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function rt(I,J,ct){this.props=I,this.context=J,this.refs=Y,this.updater=ct||W}rt.prototype.isReactComponent={},rt.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},rt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function it(){}it.prototype=rt.prototype;function ut(I,J,ct){this.props=I,this.context=J,this.refs=Y,this.updater=ct||W}var mt=ut.prototype=new it;mt.constructor=ut,G(mt,rt.prototype),mt.isPureReactComponent=!0;var wt=Array.isArray;function Ct(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(I,J,ct){var lt=ct.ref;return{$$typeof:r,type:I,key:J,ref:lt!==void 0?lt:null,props:ct}}function M(I,J){return R(I.type,J,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function U(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ct){return J[ct]})}var C=/\/+/g;function ie(I,J){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):J.toString(36)}function Wt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ct,Ct):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Q(I,J,ct,lt,K){var at=typeof I;(at==="undefined"||at==="boolean")&&(I=null);var $=!1;if(I===null)$=!0;else switch(at){case"bigint":case"string":case"number":$=!0;break;case"object":switch(I.$$typeof){case r:case e:$=!0;break;case E:return $=I._init,Q($(I._payload),J,ct,lt,K)}}if($)return K=K(I),$=lt===""?"."+ie(I,0):lt,wt(K)?(ct="",$!=null&&(ct=$.replace(C,"$&/")+"/"),Q(K,J,ct,"",function(Zt){return Zt})):K!=null&&(V(K)&&(K=M(K,ct+(K.key==null||I&&I.key===K.key?"":(""+K.key).replace(C,"$&/")+"/")+$)),J.push(K)),1;$=0;var Et=lt===""?".":lt+":";if(wt(I))for(var yt=0;yt<I.length;yt++)lt=I[yt],at=Et+ie(lt,yt),$+=Q(lt,J,ct,at,K);else if(yt=j(I),typeof yt=="function")for(I=yt.call(I),yt=0;!(lt=I.next()).done;)lt=lt.value,at=Et+ie(lt,yt++),$+=Q(lt,J,ct,at,K);else if(at==="object"){if(typeof I.then=="function")return Q(Wt(I),J,ct,lt,K);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return $}function st(I,J,ct){if(I==null)return I;var lt=[],K=0;return Q(I,lt,"","",function(at){return J.call(ct,at,K++)}),lt}function pt(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(ct){(I._status===0||I._status===-1)&&(I._status=1,I._result=ct)},function(ct){(I._status===0||I._status===-1)&&(I._status=2,I._result=ct)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var Mt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ht={map:st,forEach:function(I,J,ct){st(I,function(){J.apply(this,arguments)},ct)},count:function(I){var J=0;return st(I,function(){J++}),J},toArray:function(I){return st(I,function(J){return J})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Dt.Activity=b,Dt.Children=Ht,Dt.Component=rt,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=ut,Dt.StrictMode=s,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Dt.cache=function(I){return function(){return I.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(I,J,ct){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var lt=G({},I.props),K=I.key;if(J!=null)for(at in J.key!==void 0&&(K=""+J.key),J)!x.call(J,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&J.ref===void 0||(lt[at]=J[at]);var at=arguments.length-2;if(at===1)lt.children=ct;else if(1<at){for(var $=Array(at),Et=0;Et<at;Et++)$[Et]=arguments[Et+2];lt.children=$}return R(I.type,K,lt)},Dt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Dt.createElement=function(I,J,ct){var lt,K={},at=null;if(J!=null)for(lt in J.key!==void 0&&(at=""+J.key),J)x.call(J,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(K[lt]=J[lt]);var $=arguments.length-2;if($===1)K.children=ct;else if(1<$){for(var Et=Array($),yt=0;yt<$;yt++)Et[yt]=arguments[yt+2];K.children=Et}if(I&&I.defaultProps)for(lt in $=I.defaultProps,$)K[lt]===void 0&&(K[lt]=$[lt]);return R(I,at,K)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(I){return{$$typeof:g,render:I}},Dt.isValidElement=V,Dt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:pt}},Dt.memo=function(I,J){return{$$typeof:y,type:I,compare:J===void 0?null:J}},Dt.startTransition=function(I){var J=D.T,ct={};D.T=ct;try{var lt=I(),K=D.S;K!==null&&K(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ct,Mt)}catch(at){Mt(at)}finally{J!==null&&ct.types!==null&&(J.types=ct.types),D.T=J}},Dt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Dt.use=function(I){return D.H.use(I)},Dt.useActionState=function(I,J,ct){return D.H.useActionState(I,J,ct)},Dt.useCallback=function(I,J){return D.H.useCallback(I,J)},Dt.useContext=function(I){return D.H.useContext(I)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(I,J){return D.H.useDeferredValue(I,J)},Dt.useEffect=function(I,J){return D.H.useEffect(I,J)},Dt.useEffectEvent=function(I){return D.H.useEffectEvent(I)},Dt.useId=function(){return D.H.useId()},Dt.useImperativeHandle=function(I,J,ct){return D.H.useImperativeHandle(I,J,ct)},Dt.useInsertionEffect=function(I,J){return D.H.useInsertionEffect(I,J)},Dt.useLayoutEffect=function(I,J){return D.H.useLayoutEffect(I,J)},Dt.useMemo=function(I,J){return D.H.useMemo(I,J)},Dt.useOptimistic=function(I,J){return D.H.useOptimistic(I,J)},Dt.useReducer=function(I,J,ct){return D.H.useReducer(I,J,ct)},Dt.useRef=function(I){return D.H.useRef(I)},Dt.useState=function(I){return D.H.useState(I)},Dt.useSyncExternalStore=function(I,J,ct){return D.H.useSyncExternalStore(I,J,ct)},Dt.useTransition=function(){return D.H.useTransition()},Dt.version="19.2.4",Dt}var sv;function $d(){return sv||(sv=1,ad.exports=ET()),ad.exports}var H=$d();const TT=D0(H);var rd={exports:{}},so={},sd={exports:{}},ld={};var lv;function bT(){return lv||(lv=1,(function(r){function e(Q,st){var pt=Q.length;Q.push(st);t:for(;0<pt;){var Mt=pt-1>>>1,Ht=Q[Mt];if(0<o(Ht,st))Q[Mt]=st,Q[pt]=Ht,pt=Mt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var st=Q[0],pt=Q.pop();if(pt!==st){Q[0]=pt;t:for(var Mt=0,Ht=Q.length,I=Ht>>>1;Mt<I;){var J=2*(Mt+1)-1,ct=Q[J],lt=J+1,K=Q[lt];if(0>o(ct,pt))lt<Ht&&0>o(K,ct)?(Q[Mt]=K,Q[lt]=pt,Mt=lt):(Q[Mt]=ct,Q[J]=pt,Mt=J);else if(lt<Ht&&0>o(K,pt))Q[Mt]=K,Q[lt]=pt,Mt=lt;else break t}}return st}function o(Q,st){var pt=Q.sortIndex-st.sortIndex;return pt!==0?pt:Q.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var m=[],y=[],E=1,b=null,S=3,j=!1,W=!1,G=!1,Y=!1,rt=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function mt(Q){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Q)s(y),st.sortIndex=st.expirationTime,e(m,st);else break;st=i(y)}}function wt(Q){if(G=!1,mt(Q),!W)if(i(m)!==null)W=!0,Ct||(Ct=!0,U());else{var st=i(y);st!==null&&Wt(wt,st.startTime-Q)}}var Ct=!1,D=-1,x=5,R=-1;function M(){return Y?!0:!(r.unstable_now()-R<x)}function V(){if(Y=!1,Ct){var Q=r.unstable_now();R=Q;var st=!0;try{t:{W=!1,G&&(G=!1,it(D),D=-1),j=!0;var pt=S;try{e:{for(mt(Q),b=i(m);b!==null&&!(b.expirationTime>Q&&M());){var Mt=b.callback;if(typeof Mt=="function"){b.callback=null,S=b.priorityLevel;var Ht=Mt(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ht=="function"){b.callback=Ht,mt(Q),st=!0;break e}b===i(m)&&s(m),mt(Q)}else s(m);b=i(m)}if(b!==null)st=!0;else{var I=i(y);I!==null&&Wt(wt,I.startTime-Q),st=!1}}break t}finally{b=null,S=pt,j=!1}st=void 0}}finally{st?U():Ct=!1}}}var U;if(typeof ut=="function")U=function(){ut(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=V,U=function(){ie.postMessage(null)}}else U=function(){rt(V,0)};function Wt(Q,st){D=rt(function(){Q(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var pt=S;S=st;try{return Q()}finally{S=pt}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pt=S;S=Q;try{return st()}finally{S=pt}},r.unstable_scheduleCallback=function(Q,st,pt){var Mt=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Mt+pt:Mt):pt=Mt,Q){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=pt+Ht,Q={id:E++,callback:st,priorityLevel:Q,startTime:pt,expirationTime:Ht,sortIndex:-1},pt>Mt?(Q.sortIndex=pt,e(y,Q),i(m)===null&&Q===i(y)&&(G?(it(D),D=-1):G=!0,Wt(wt,pt-Mt))):(Q.sortIndex=Ht,e(m,Q),W||j||(W=!0,Ct||(Ct=!0,U()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var st=S;return function(){var pt=S;S=st;try{return Q.apply(this,arguments)}finally{S=pt}}}})(ld)),ld}var ov;function AT(){return ov||(ov=1,sd.exports=bT()),sd.exports}var od={exports:{}},un={};var uv;function ST(){if(uv)return un;uv=1;var r=$d();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(m,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(m,y,null,E)},un.flushSync=function(m){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=y,s.p=E,s.d.f()}},un.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},un.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},un.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:j}):E==="script"&&s.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},un.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);s.d.L(m,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(m,y){if(typeof m=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},un.requestFormReset=function(m){s.d.r(m)},un.unstable_batchedUpdates=function(m,y){return m(y)},un.useFormState=function(m,y,E){return d.H.useFormState(m,y,E)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.2.4",un}var cv;function wT(){if(cv)return od.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),od.exports=ST(),od.exports}var hv;function xT(){if(hv)return so;hv=1;var r=AT(),e=$d(),i=wT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case rt:return"Profiler";case Y:return"StrictMode";case wt:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ut:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Wt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Mt=[],Ht=-1;function I(t){return{current:t}}function J(t){0>Ht||(t.current=Mt[Ht],Mt[Ht]=null,Ht--)}function ct(t,n){Ht++,Mt[Ht]=t.current,t.current=n}var lt=I(null),K=I(null),at=I(null),$=I(null);function Et(t,n){switch(ct(at,n),ct(K,t),ct(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xy(n),t=Ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(lt),ct(lt,t)}function yt(){J(lt),J(K),J(at)}function Zt(t){t.memoizedState!==null&&ct($,t);var n=lt.current,a=Ry(n,t.type);n!==a&&(ct(K,t),ct(lt,a))}function ce(t){K.current===t&&(J(lt),J(K)),$.current===t&&(J($),eo._currentValue=pt)}var Gt,ge;function we(t){if(Gt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Gt=n&&n[1]||"",ge=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+t+ge}var dn=!1;function zn(t,n){if(!t||dn)return"";dn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var k=F}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(F){k=F}t.call(tt.prototype)}}else{try{throw Error()}catch(F){k=F}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&k&&typeof F.stack=="string")return[F.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var N=v.split(`
`),B=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{dn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?we(a):""}function di(t,n){switch(t.tag){case 26:case 27:case 5:return we(t.type);case 16:return we("Lazy");case 13:return t.child!==n&&n!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return zn(t.type,!1);case 11:return zn(t.type.render,!1);case 1:return zn(t.type,!0);case 31:return we("Activity");default:return""}}function Ke(t){try{var n="",a=null;do n+=di(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Kt=Object.prototype.hasOwnProperty,ue=r.unstable_scheduleCallback,Pn=r.unstable_cancelCallback,mn=r.unstable_shouldYield,or=r.unstable_requestPaint,Xe=r.unstable_now,qi=r.unstable_getCurrentPriorityLevel,ft=r.unstable_ImmediatePriority,Te=r.unstable_UserBlockingPriority,Tt=r.unstable_NormalPriority,ma=r.unstable_LowPriority,Qr=r.unstable_IdlePriority,rl=r.log,Yr=r.unstable_setDisableYieldValue,xn=null,Ie=null;function ye(t){if(typeof rl=="function"&&Yr(t),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(xn,t)}catch{}}var be=Math.clz32?Math.clz32:Bo,Po=Math.log,Kr=Math.LN2;function Bo(t){return t>>>=0,t===0?32:31-(Po(t)/Kr|0)|0}var mi=256,ur=262144,Oe=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=pi(l):(v&=T,v!==0?h=pi(v):a||(a=T&~t,a!==0&&(h=pi(a))))):(T=l&~f,T!==0?h=pi(T):v!==0?h=pi(v):a||(a=l&~t,a!==0&&(h=pi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function sh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var t=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),t}function yi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lh(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-be(a),tt=1<<X;T[X]=0,N[X]=-1;var k=B[X];if(k!==null)for(B[X]=null,X=0;X<k.length;X++){var F=k[X];F!==null&&(F.lane&=-536870913)}a&=~tt}l!==0&&hr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function hr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function sl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-be(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function ll(t,n){var a=n&-n;return a=(a&42)!==0?1:fr(a),(a&(t.suspendedLanes|n))!==0?0:a}function fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ho(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function ei(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var ni=Math.random().toString(36).slice(2),Me="__reactFiber$"+ni,$e="__reactProps$"+ni,vi="__reactContainer$"+ni,Xr="__reactEvents$"+ni,oh="__reactListeners$"+ni,qo="__reactHandles$"+ni,Fo="__reactResources$"+ni,_i="__reactMarker$"+ni;function $r(t){delete t[Me],delete t[$e],delete t[Xr],delete t[oh],delete t[qo]}function Ei(t){var n=t[Me];if(n)return n;for(var a=t.parentNode;a;){if(n=a[vi]||a[Me]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[Me])return a;t=My(t)}return n}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[Me]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ti(t){var n=t[Fo];return n||(n=t[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function je(t){t[_i]=!0}var ol=new Set,ul={};function bi(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(ul[t]=n,t=0;t<n.length;t++)ol.add(n[t])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function Go(t){return Kt.call(fl,t)?!0:Kt.call(hl,t)?!1:cl.test(t)?fl[t]=!0:(hl[t]=!0,!1)}function Zr(t,n,a){if(Go(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Le(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function te(t){if(!t._valueTracker){var n=pa(t)?"checked":"value";t._valueTracker=dl(t,n,""+t[n])}}function dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=pa(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mr=/[\n"\\]/g;function yn(t){return t.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Jr(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?ml(t,v,Ze(n)):a!=null?ml(t,v,Ze(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function Qo(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(t);return}a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),te(t)}function ml(t,n,a){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ga(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Yo(t,n,a){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ze(a):""}function ya(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),te(t)}function vn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ko.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function gl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&pl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&pl(t,f,n[f])}function Wr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),va=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ts(t){return va.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var yl=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _a=null,wi=null;function pr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var a=t[$e]||null;t:switch(t=n.stateNode,n.type){case"input":if(Jr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[$e]||null;if(!h)throw Error(s(90));Jr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&dr(l)}break t;case"textarea":Yo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ga(t,!!a.multiple,n,!1)}}}var es=!1;function Ea(t,n,a){if(es)return t(n,a);es=!0;try{var l=t(n);return l}finally{if(es=!1,(_a!==null||wi!==null)&&(Hu(),_a&&(n=_a,t=wi,wi=_a=null,pr(n),t)))for(n=0;n<t.length;n++)pr(t[n])}}function ai(t,n){var a=t.stateNode;if(a===null)return null;var l=a[$e]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Hn)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){gr=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{gr=!1}var xi=null,vl=null,yr=null;function _l(){if(yr)return yr;var t,n=vl,a=n.length,l,h="value"in xi?xi.value:xi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return yr=h.slice(t,1<l?1-l:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function ri(){return!1}function tn(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ri,this.isPropagationStopped=ri,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=tn(Qi),Ta=b({},Qi,{view:0,detail:0}),El=tn(Ta),ba,ns,Ci,is=b({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(ba=t.screenX-Ci.screenX,ns=t.screenY-Ci.screenY):ns=ba=0,Ci=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:ns}}),Tl=tn(is),_r=b({},is,{dataTransfer:0}),$o=tn(_r),Zo=b({},Ta,{relatedTarget:0}),Er=tn(Zo),bl=b({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=tn(bl),as=b({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wo=tn(as),tu=b({},Qi,{data:0}),Di=tn(tu),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=iu[t])?!!n[t]:!1}function Aa(){return au}var pn=b({},Ta,{key:function(t){if(t.key){var n=eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ru=tn(pn),su=b({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=tn(su),u=b({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),p=tn(u),_=b({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(_),z=b({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=tn(z),ot=b({},Qi,{newState:0,oldState:0}),Vt=tn(ot),Ce=[9,13,27,32],Xt=Hn&&"CompositionEvent"in window,ve=null;Hn&&"documentMode"in document&&(ve=document.documentMode);var qn=Hn&&"TextEvent"in window&&!ve,Ni=Hn&&(!Xt||ve&&8<ve&&11>=ve),si=" ",li=!1;function Tr(t,n){switch(t){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function HE(t,n){switch(t){case"compositionend":return rs(n);case"keypress":return n.which!==32?null:(li=!0,si);case"textInput":return t=n.data,t===si&&li?null:t;default:return null}}function qE(t,n){if(ss)return t==="compositionend"||!Xt&&Tr(t,n)?(t=_l(),yr=vl=xi=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var FE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!FE[t.type]:n==="textarea"}function zm(t,n,a,l){_a?wi?wi.push(l):wi=[l]:_a=l,n=Xu(n,"onChange"),0<n.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Al=null,Sl=null;function GE(t){Ey(t,0)}function lu(t){var n=Rn(t);if(dr(n))return t}function Pm(t,n){if(t==="change")return n}var Bm=!1;if(Hn){var uh;if(Hn){var ch="oninput"in document;if(!ch){var km=document.createElement("div");km.setAttribute("oninput","return;"),ch=typeof km.oninput=="function"}uh=ch}else uh=!1;Bm=uh&&(!document.documentMode||9<document.documentMode)}function Hm(){Al&&(Al.detachEvent("onpropertychange",qm),Sl=Al=null)}function qm(t){if(t.propertyName==="value"&&lu(Sl)){var n=[];zm(n,Sl,t,kn(t)),Ea(GE,n)}}function QE(t,n,a){t==="focusin"?(Hm(),Al=n,Sl=a,Al.attachEvent("onpropertychange",qm)):t==="focusout"&&Hm()}function YE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(Sl)}function KE(t,n){if(t==="click")return lu(n)}function XE(t,n){if(t==="input"||t==="change")return lu(n)}function $E(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:$E;function wl(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Kt.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function Fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,n){var a=Fm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fm(a)}}function Qm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Si(t.document)}return n}function hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ZE=Hn&&"documentMode"in document&&11>=document.documentMode,ls=null,fh=null,xl=null,dh=!1;function Km(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dh||ls==null||ls!==Si(l)||(l=ls,"selectionStart"in l&&hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&wl(xl,l)||(xl=l,l=Xu(fh,"onSelect"),0<l.length&&(n=new Ri("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ls)))}function br(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var os={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},mh={},Xm={};Hn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Ar(t){if(mh[t])return mh[t];if(!os[t])return t;var n=os[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return mh[t]=n[a];return t}var $m=Ar("animationend"),Zm=Ar("animationiteration"),Jm=Ar("animationstart"),JE=Ar("transitionrun"),WE=Ar("transitionstart"),t1=Ar("transitioncancel"),Wm=Ar("transitionend"),tp=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function oi(t,n){tp.set(t,n),bi(n,[t])}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],us=0,gh=0;function uu(){for(var t=us,n=gh=us=0;n<t;){var a=Fn[n];Fn[n++]=null;var l=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&ep(a,h,f)}}function cu(t,n,a,l){Fn[us++]=t,Fn[us++]=n,Fn[us++]=a,Fn[us++]=l,gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yh(t,n,a,l){return cu(t,n,a,l),hu(t)}function Sr(t,n){return cu(t,null,null,n),hu(t)}function ep(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-be(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function hu(t){if(50<Kl)throw Kl=0,Rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var cs={};function e1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,a,l){return new e1(t,n,a,l)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,n){var a=t.alternate;return a===null?(a=Nn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function np(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fu(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")vh(t)&&(v=1);else if(typeof t=="string")v=sT(t,a,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=Nn(31,a,n,h),t.elementType=R,t.lanes=f,t;case G:return wr(a.children,h,f,n);case Y:v=8,h|=24;break;case rt:return t=Nn(12,a,n,h|2),t.elementType=rt,t.lanes=f,t;case wt:return t=Nn(13,a,n,h),t.elementType=wt,t.lanes=f,t;case Ct:return t=Nn(19,a,n,h),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:v=10;break t;case it:v=9;break t;case mt:v=11;break t;case D:v=14;break t;case x:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Nn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function wr(t,n,a,l){return t=Nn(7,t,l,n),t.lanes=a,t}function _h(t,n,a){return t=Nn(6,t,null,n),t.lanes=a,t}function ip(t){var n=Nn(18,null,null,0);return n.stateNode=t,n}function Eh(t,n,a){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ap=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var a=ap.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ke(n)},ap.set(t,n),n)}return{value:t,source:n,stack:Ke(n)}}var hs=[],fs=0,du=null,Rl=0,Qn=[],Yn=0,Sa=null,Vi=1,Ii="";function Xi(t,n){hs[fs++]=Rl,hs[fs++]=du,du=t,Rl=n}function rp(t,n,a){Qn[Yn++]=Vi,Qn[Yn++]=Ii,Qn[Yn++]=Sa,Sa=t;var l=Vi;t=Ii;var h=32-be(l)-1;l&=~(1<<h),a+=1;var f=32-be(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-be(n)+h|a<<h|l,Ii=f+t}else Vi=1<<f|a<<h|l,Ii=t}function Th(t){t.return!==null&&(Xi(t,1),rp(t,1,0))}function bh(t){for(;t===du;)du=hs[--fs],hs[fs]=null,Rl=hs[--fs],hs[fs]=null;for(;t===Sa;)Sa=Qn[--Yn],Qn[Yn]=null,Ii=Qn[--Yn],Qn[Yn]=null,Vi=Qn[--Yn],Qn[Yn]=null}function sp(t,n){Qn[Yn++]=Vi,Qn[Yn++]=Ii,Qn[Yn++]=Sa,Vi=n.id,Ii=n.overflow,Sa=t}var en=null,he=null,kt=!1,wa=null,Kn=!1,Ah=Error(s(519));function xa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Gn(n,t)),Ah}function lp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Me]=t,n[$e]=l,a){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(a=0;a<$l.length;a++)Lt($l[a],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),Qo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),ya(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Sy(n.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),l.onScroll!=null&&Lt("scroll",n),l.onScrollEnd!=null&&Lt("scrollend",n),l.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||xa(t,!0)}function op(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:en=en.return}}function ds(t){if(t!==en)return!1;if(!kt)return op(t),kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&he&&xa(t),op(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));he=Oy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));he=Oy(t)}else n===27?(n=he,Ba(t.type)?(t=Yf,Yf=null,he=t):he=n):he=en?$n(t.stateNode.nextSibling):null;return!0}function xr(){he=en=null,kt=!1}function Sh(){var t=wa;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),wa=null),t}function Cl(t){wa===null?wa=[t]:wa.push(t)}var wh=I(null),Rr=null,$i=null;function Ra(t,n,a){ct(wh,n._currentValue),n._currentValue=a}function Zi(t){t._currentValue=wh.current,J(wh)}function xh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Rh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),xh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),xh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ms(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===$.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(eo):t=[eo])}h=h.return}t!==null&&Rh(n,t,a,l),n.flags|=262144}function mu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cr(t){Rr=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return up(Rr,t)}function pu(t,n){return Rr===null&&Cr(t),up(t,n)}function up(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $i=$i.next=n;return a}var n1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},i1=r.unstable_scheduleCallback,a1=r.unstable_NormalPriority,Ue={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new n1,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&i1(a1,function(){t.controller.abort()})}var Nl=null,Dh=0,ps=0,gs=null;function r1(t,n){if(Nl===null){var a=Nl=[];Dh=0,ps=Of(),gs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dh++,n.then(cp,cp),n}function cp(){if(--Dh===0&&Nl!==null){gs!==null&&(gs.status="fulfilled");var t=Nl;Nl=null,ps=0,gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function s1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var hp=Q.S;Q.S=function(t,n){Kg=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(t,n),hp!==null&&hp(t,n)};var Dr=I(null);function Nh(){var t=Dr.current;return t!==null?t:oe.pooledCache}function gu(t,n){n===null?ct(Dr,Dr.current):ct(Dr,n.pool)}function fp(){var t=Nh();return t===null?null:{parent:Ue._currentValue,pool:t}}var ys=Error(s(460)),Vh=Error(s(474)),yu=Error(s(542)),vu={then:function(){}};function dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ii,ii),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t;default:if(typeof n.status=="string")n.then(ii,ii);else{if(t=oe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t}throw Vr=n,ys}}function Nr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vr=a,ys):a}}var Vr=null;function pp(){if(Vr===null)throw Error(s(459));var t=Vr;return Vr=null,t}function gp(t){if(t===ys||t===yu)throw Error(s(483))}var vs=null,Vl=0;function _u(t){var n=Vl;return Vl+=1,vs===null&&(vs=[]),mp(vs,t,n)}function Il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Eu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yp(t){function n(L,O){if(t){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ki(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,P,Z){return O===null||O.tag!==6?(O=_h(P,L.mode,Z),O.return=L,O):(O=h(O,P),O.return=L,O)}function N(L,O,P,Z){var _t=P.type;return _t===G?X(L,O,P.props.children,Z,P.key):O!==null&&(O.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&Nr(_t)===O.type)?(O=h(O,P.props),Il(O,P),O.return=L,O):(O=fu(P.type,P.key,P.props,null,L.mode,Z),Il(O,P),O.return=L,O)}function B(L,O,P,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Eh(P,L.mode,Z),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function X(L,O,P,Z,_t){return O===null||O.tag!==7?(O=wr(P,L.mode,Z,_t),O.return=L,O):(O=h(O,P),O.return=L,O)}function tt(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=_h(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return P=fu(O.type,O.key,O.props,null,L.mode,P),Il(P,O),P.return=L,P;case W:return O=Eh(O,L.mode,P),O.return=L,O;case x:return O=Nr(O),tt(L,O,P)}if(Wt(O)||U(O))return O=wr(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return tt(L,_u(O),P);if(O.$$typeof===ut)return tt(L,pu(L,O),P);Eu(L,O)}return null}function k(L,O,P,Z){var _t=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _t!==null?null:T(L,O,""+P,Z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===_t?N(L,O,P,Z):null;case W:return P.key===_t?B(L,O,P,Z):null;case x:return P=Nr(P),k(L,O,P,Z)}if(Wt(P)||U(P))return _t!==null?null:X(L,O,P,Z,null);if(typeof P.then=="function")return k(L,O,_u(P),Z);if(P.$$typeof===ut)return k(L,O,pu(L,P),Z);Eu(L,P)}return null}function F(L,O,P,Z,_t){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(P)||null,T(O,L,""+Z,_t);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return L=L.get(Z.key===null?P:Z.key)||null,N(O,L,Z,_t);case W:return L=L.get(Z.key===null?P:Z.key)||null,B(O,L,Z,_t);case x:return Z=Nr(Z),F(L,O,P,Z,_t)}if(Wt(Z)||U(Z))return L=L.get(P)||null,X(O,L,Z,_t,null);if(typeof Z.then=="function")return F(L,O,P,_u(Z),_t);if(Z.$$typeof===ut)return F(L,O,P,pu(O,Z),_t);Eu(O,Z)}return null}function dt(L,O,P,Z){for(var _t=null,Qt=null,gt=O,Ot=O=0,zt=null;gt!==null&&Ot<P.length;Ot++){gt.index>Ot?(zt=gt,gt=null):zt=gt.sibling;var Yt=k(L,gt,P[Ot],Z);if(Yt===null){gt===null&&(gt=zt);break}t&&gt&&Yt.alternate===null&&n(L,gt),O=f(Yt,O,Ot),Qt===null?_t=Yt:Qt.sibling=Yt,Qt=Yt,gt=zt}if(Ot===P.length)return a(L,gt),kt&&Xi(L,Ot),_t;if(gt===null){for(;Ot<P.length;Ot++)gt=tt(L,P[Ot],Z),gt!==null&&(O=f(gt,O,Ot),Qt===null?_t=gt:Qt.sibling=gt,Qt=gt);return kt&&Xi(L,Ot),_t}for(gt=l(gt);Ot<P.length;Ot++)zt=F(gt,L,Ot,P[Ot],Z),zt!==null&&(t&&zt.alternate!==null&&gt.delete(zt.key===null?Ot:zt.key),O=f(zt,O,Ot),Qt===null?_t=zt:Qt.sibling=zt,Qt=zt);return t&&gt.forEach(function(Ga){return n(L,Ga)}),kt&&Xi(L,Ot),_t}function At(L,O,P,Z){if(P==null)throw Error(s(151));for(var _t=null,Qt=null,gt=O,Ot=O=0,zt=null,Yt=P.next();gt!==null&&!Yt.done;Ot++,Yt=P.next()){gt.index>Ot?(zt=gt,gt=null):zt=gt.sibling;var Ga=k(L,gt,Yt.value,Z);if(Ga===null){gt===null&&(gt=zt);break}t&&gt&&Ga.alternate===null&&n(L,gt),O=f(Ga,O,Ot),Qt===null?_t=Ga:Qt.sibling=Ga,Qt=Ga,gt=zt}if(Yt.done)return a(L,gt),kt&&Xi(L,Ot),_t;if(gt===null){for(;!Yt.done;Ot++,Yt=P.next())Yt=tt(L,Yt.value,Z),Yt!==null&&(O=f(Yt,O,Ot),Qt===null?_t=Yt:Qt.sibling=Yt,Qt=Yt);return kt&&Xi(L,Ot),_t}for(gt=l(gt);!Yt.done;Ot++,Yt=P.next())Yt=F(gt,L,Ot,Yt.value,Z),Yt!==null&&(t&&Yt.alternate!==null&&gt.delete(Yt.key===null?Ot:Yt.key),O=f(Yt,O,Ot),Qt===null?_t=Yt:Qt.sibling=Yt,Qt=Yt);return t&&gt.forEach(function(yT){return n(L,yT)}),kt&&Xi(L,Ot),_t}function le(L,O,P,Z){if(typeof P=="object"&&P!==null&&P.type===G&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var _t=P.key;O!==null;){if(O.key===_t){if(_t=P.type,_t===G){if(O.tag===7){a(L,O.sibling),Z=h(O,P.props.children),Z.return=L,L=Z;break t}}else if(O.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&Nr(_t)===O.type){a(L,O.sibling),Z=h(O,P.props),Il(Z,P),Z.return=L,L=Z;break t}a(L,O);break}else n(L,O);O=O.sibling}P.type===G?(Z=wr(P.props.children,L.mode,Z,P.key),Z.return=L,L=Z):(Z=fu(P.type,P.key,P.props,null,L.mode,Z),Il(Z,P),Z.return=L,L=Z)}return v(L);case W:t:{for(_t=P.key;O!==null;){if(O.key===_t)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(L,O.sibling),Z=h(O,P.children||[]),Z.return=L,L=Z;break t}else{a(L,O);break}else n(L,O);O=O.sibling}Z=Eh(P,L.mode,Z),Z.return=L,L=Z}return v(L);case x:return P=Nr(P),le(L,O,P,Z)}if(Wt(P))return dt(L,O,P,Z);if(U(P)){if(_t=U(P),typeof _t!="function")throw Error(s(150));return P=_t.call(P),At(L,O,P,Z)}if(typeof P.then=="function")return le(L,O,_u(P),Z);if(P.$$typeof===ut)return le(L,O,pu(L,P),Z);Eu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(L,O.sibling),Z=h(O,P),Z.return=L,L=Z):(a(L,O),Z=_h(P,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,O)}return function(L,O,P,Z){try{Vl=0;var _t=le(L,O,P,Z);return vs=null,_t}catch(gt){if(gt===ys||gt===yu)throw gt;var Qt=Nn(29,gt,null,L.mode);return Qt.lanes=Z,Qt.return=L,Qt}}}var Ir=yp(!0),vp=yp(!1),Ca=!1;function Ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Na(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=hu(t),ep(t,null,a),n}return cu(t,l,n,a),hu(t)}function Ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,sl(t,a)}}function Mh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var jh=!1;function Ml(){if(jh){var t=gs;if(t!==null)throw t}}function jl(t,n,a,l){jh=!1;var h=t.updateQueue;Ca=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,B=N.next;N.next=null,v===null?f=B:v.next=B,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=N))}if(f!==null){var tt=h.baseState;v=0,X=B=N=null,T=f;do{var k=T.lane&-536870913,F=k!==T.lane;if(F?(Ut&k)===k:(l&k)===k){k!==0&&k===ps&&(jh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=t,At=T;k=n;var le=a;switch(At.tag){case 1:if(dt=At.payload,typeof dt=="function"){tt=dt.call(le,tt,k);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=At.payload,k=typeof dt=="function"?dt.call(le,tt,k):dt,k==null)break t;tt=b({},tt,k);break t;case 2:Ca=!0}}k=T.callback,k!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[k]:F.push(k))}else F={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=F,N=tt):X=X.next=F,v|=k;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(N=tt),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),ja|=v,t.lanes=v,t.memoizedState=tt}}function _p(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_p(a[t],n)}var _s=I(null),Tu=I(0);function Tp(t,n){t=sa,ct(Tu,t),ct(_s,n),sa=t|n.baseLanes}function Lh(){ct(Tu,sa),ct(_s,_s.current)}function Uh(){sa=Tu.current,J(_s),J(Tu)}var Vn=I(null),Xn=null;function Va(t){var n=t.alternate;ct(De,De.current&1),ct(Vn,t),Xn===null&&(n===null||_s.current!==null||n.memoizedState!==null)&&(Xn=t)}function zh(t){ct(De,De.current),ct(Vn,t),Xn===null&&(Xn=t)}function bp(t){t.tag===22?(ct(De,De.current),ct(Vn,t),Xn===null&&(Xn=t)):Ia()}function Ia(){ct(De,De.current),ct(Vn,Vn.current)}function In(t){J(Vn),Xn===t&&(Xn=null),J(De)}var De=I(0);function bu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gf(a)||Qf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,It=null,re=null,ze=null,Au=!1,Es=!1,Or=!1,Su=0,Ll=0,Ts=null,l1=0;function xe(){throw Error(s(321))}function Ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Dn(t[a],n[a]))return!1;return!0}function Bh(t,n,a,l,h,f){return Ji=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?rg:ef,Or=!1,f=a(l,h),Or=!1,Es&&(f=Sp(n,a,l,h)),Ap(t),f}function Ap(t){Q.H=Pl;var n=re!==null&&re.next!==null;if(Ji=0,ze=re=It=null,Au=!1,Ll=0,Ts=null,n)throw Error(s(300));t===null||Pe||(t=t.dependencies,t!==null&&mu(t)&&(Pe=!0))}function Sp(t,n,a,l){It=t;var h=0;do{if(Es&&(Ts=null),Ll=0,Es=!1,25<=h)throw Error(s(301));if(h+=1,ze=re=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=sg,f=n(a,l)}while(Es);return f}function o1(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Ul(n):n,t=t.useState()[0],(re!==null?re.memoizedState:null)!==t&&(It.flags|=1024),n}function kh(){var t=Su!==0;return Su=0,t}function Hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function qh(t){if(Au){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Au=!1}Ji=0,ze=re=It=null,Es=!1,Ll=Su=0,Ts=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?It.memoizedState=ze=t:ze=ze.next=t,ze}function Ne(){if(re===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var n=ze===null?It.memoizedState:ze.next;if(n!==null)ze=n,re=t;else{if(t===null)throw It.alternate===null?Error(s(467)):Error(s(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ze===null?It.memoizedState=ze=t:ze=ze.next=t}return ze}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var n=Ll;return Ll+=1,Ts===null&&(Ts=[]),t=mp(Ts,t,n),n=It,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?rg:ef),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===ut)return nn(t)}throw Error(s(438,String(t)))}function Fh(t){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=wu(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Wi(t,n){return typeof n=="function"?n(t):n}function Ru(t){var n=Ne();return Gh(n,re,t)}function Gh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,N=null,B=n,X=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(Ut&tt)===tt:(Ji&tt)===tt){var k=B.revertLane;if(k===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===ps&&(X=!0);else if((Ji&k)===k){B=B.next,k===ps&&(X=!0);continue}else tt={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=tt,v=f):N=N.next=tt,It.lanes|=k,ja|=k;tt=B.action,Or&&a(f,tt),f=B.hasEagerState?B.eagerState:a(f,tt)}else k={lane:tt,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=k,v=f):N=N.next=k,It.lanes|=tt,ja|=tt;B=B.next}while(B!==null&&B!==n);if(N===null?v=f:N.next=T,!Dn(f,t.memoizedState)&&(Pe=!0,X&&(a=gs,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qh(t){var n=Ne(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Dn(f,n.memoizedState)||(Pe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function wp(t,n,a){var l=It,h=Ne(),f=kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!Dn((re||h).memoizedState,a);if(v&&(h.memoizedState=a,Pe=!0),h=h.queue,Xh(Cp.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,bs(9,{destroy:void 0},Rp.bind(null,l,h,a,n),null),oe===null)throw Error(s(349));f||(Ji&127)!==0||xp(l,n,a)}return a}function xp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=wu(),It.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rp(t,n,a,l){n.value=a,n.getSnapshot=l,Dp(n)&&Np(t)}function Cp(t,n,a){return a(function(){Dp(n)&&Np(t)})}function Dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Dn(t,a)}catch{return!0}}function Np(t){var n=Sr(t,2);n!==null&&An(n,t,2)}function Yh(t){var n=gn();if(typeof t=="function"){var a=t;if(t=a(),Or){ye(!0);try{a()}finally{ye(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},n}function Vp(t,n,a,l){return t.baseState=a,Gh(t,re,typeof l=="function"?l:Wi)}function u1(t,n,a,l,h){if(Nu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Ip(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ip(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Q.T,v={};Q.T=v;try{var T=a(h,l),N=Q.S;N!==null&&N(v,T),Op(t,n,T)}catch(B){Kh(t,n,B)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=a(h,l),Op(t,n,f)}catch(B){Kh(t,n,B)}}function Op(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mp(t,n,l)},function(l){return Kh(t,n,l)}):Mp(t,n,a)}function Mp(t,n,a){n.status="fulfilled",n.value=a,jp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ip(t,a)))}function Kh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,jp(n),n=n.next;while(n!==l)}t.action=null}function jp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lp(t,n){return n}function Up(t,n){if(kt){var a=oe.formState;if(a!==null){t:{var l=It;if(kt){if(he){e:{for(var h=he,f=Kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=$n(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=$n(h.nextSibling),l=h.data==="F!";break t}}xa(l)}l=!1}l&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=l,a=ng.bind(null,It,l),l.dispatch=a,l=Yh(!1),f=tf.bind(null,It,!1,l.queue),l=gn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=u1.bind(null,It,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function zp(t){var n=Ne();return Pp(n,re,t)}function Pp(t,n,a){if(n=Gh(t,n,Lp)[0],t=Ru(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ul(n)}catch(v){throw v===ys?yu:v}else l=n;n=Ne();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(It.flags|=2048,bs(9,{destroy:void 0},c1.bind(null,h,a),null)),[l,f,t]}function c1(t,n){t.action=n}function Bp(t){var n=Ne(),a=re;if(a!==null)return Pp(n,a,t);Ne(),n=n.memoizedState,a=Ne();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function bs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=wu(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function kp(){return Ne().memoizedState}function Cu(t,n,a,l){var h=gn();It.flags|=t,h.memoizedState=bs(1|n,{destroy:void 0},a,l===void 0?null:l)}function Du(t,n,a,l){var h=Ne();l=l===void 0?null:l;var f=h.memoizedState.inst;re!==null&&l!==null&&Ph(l,re.memoizedState.deps)?h.memoizedState=bs(n,f,a,l):(It.flags|=t,h.memoizedState=bs(1|n,f,a,l))}function Hp(t,n){Cu(8390656,8,t,n)}function Xh(t,n){Du(2048,8,t,n)}function h1(t){It.flags|=4;var n=It.updateQueue;if(n===null)n=wu(),It.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function qp(t){var n=Ne().memoizedState;return h1({ref:n,nextImpl:t}),function(){if(($t&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Fp(t,n){return Du(4,2,t,n)}function Gp(t,n){return Du(4,4,t,n)}function Qp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yp(t,n,a){a=a!=null?a.concat([t]):null,Du(4,4,Qp.bind(null,n,t),a)}function $h(){}function Kp(t,n){var a=Ne();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xp(t,n){var a=Ne();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ph(n,l[1]))return l[0];if(l=t(),Or){ye(!0);try{t()}finally{ye(!1)}}return a.memoizedState=[l,n],l}function Zh(t,n,a){return a===void 0||(Ji&1073741824)!==0&&(Ut&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$g(),It.lanes|=t,ja|=t,a)}function $p(t,n,a,l){return Dn(a,n)?a:_s.current!==null?(t=Zh(t,a,l),Dn(t,n)||(Pe=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Ut&261930)===0?(Pe=!0,t.memoizedState=a):(t=$g(),It.lanes|=t,ja|=t,n)}function Zp(t,n,a,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var v=Q.T,T={};Q.T=T,tf(t,!1,n,a);try{var N=h(),B=Q.S;if(B!==null&&B(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=s1(N,l);zl(t,n,X,jn(t))}else zl(t,n,l,jn(t))}catch(tt){zl(t,n,{then:function(){},status:"rejected",reason:tt},jn())}finally{st.p=f,v!==null&&T.types!==null&&(v.types=T.types),Q.T=v}}function f1(){}function Jh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Jp(t).queue;Zp(t,h,n,pt,a===null?f1:function(){return Wp(t),a(l)})}function Jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wp(t){var n=Jp(t);n.next===null&&(n=t.alternate.memoizedState),zl(t,n.next.queue,{},jn())}function Wh(){return nn(eo)}function tg(){return Ne().memoizedState}function eg(){return Ne().memoizedState}function d1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jn();t=Da(a);var l=Na(n,t,a);l!==null&&(An(l,n,a),Ol(l,n,a)),n={cache:Ch()},t.payload=n;return}n=n.return}}function m1(t,n,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nu(t)?ig(n,a):(a=yh(t,n,a,l),a!==null&&(An(a,t,l),ag(a,n,l)))}function ng(t,n,a){var l=jn();zl(t,n,a,l)}function zl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nu(t))ig(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,v))return cu(t,n,h,0),oe===null&&uu(),!1}catch{}if(a=yh(t,n,h,l),a!==null)return An(a,t,l),ag(a,n,l),!0}return!1}function tf(t,n,a,l){if(l={lane:2,revertLane:Of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nu(t)){if(n)throw Error(s(479))}else n=yh(t,a,l,2),n!==null&&An(n,t,2)}function Nu(t){var n=t.alternate;return t===It||n!==null&&n===It}function ig(t,n){Es=Au=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ag(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,sl(t,a)}}var Pl={readContext:nn,use:xu,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Pl.useEffectEvent=xe;var rg={readContext:nn,use:xu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:Hp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Cu(4194308,4,Qp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Cu(4194308,4,t,n)},useInsertionEffect:function(t,n){Cu(4,2,t,n)},useMemo:function(t,n){var a=gn();n=n===void 0?null:n;var l=t();if(Or){ye(!0);try{t()}finally{ye(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=gn();if(a!==void 0){var h=a(n);if(Or){ye(!0);try{a(n)}finally{ye(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=m1.bind(null,It,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Yh(t);var n=t.queue,a=ng.bind(null,It,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(t,n){var a=gn();return Zh(a,t,n)},useTransition:function(){var t=Yh(!1);return t=Zp.bind(null,It,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=It,h=gn();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),oe===null)throw Error(s(349));(Ut&127)!==0||xp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Hp(Cp.bind(null,l,f,t),[t]),l.flags|=2048,bs(9,{destroy:void 0},Rp.bind(null,l,f,a,n),null),a},useId:function(){var t=gn(),n=oe.identifierPrefix;if(kt){var a=Ii,l=Vi;a=(l&~(1<<32-be(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Su++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=l1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Wh,useFormState:Up,useActionState:Up,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=tf.bind(null,It,!0,a),a.dispatch=n,[t,n]},useMemoCache:Fh,useCacheRefresh:function(){return gn().memoizedState=d1.bind(null,It)},useEffectEvent:function(t){var n=gn(),a={impl:t};return n.memoizedState=a,function(){if(($t&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ef={readContext:nn,use:xu,useCallback:Kp,useContext:nn,useEffect:Xh,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Ru,useRef:kp,useState:function(){return Ru(Wi)},useDebugValue:$h,useDeferredValue:function(t,n){var a=Ne();return $p(a,re.memoizedState,t,n)},useTransition:function(){var t=Ru(Wi)[0],n=Ne().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:wp,useId:tg,useHostTransitionStatus:Wh,useFormState:zp,useActionState:zp,useOptimistic:function(t,n){var a=Ne();return Vp(a,re,t,n)},useMemoCache:Fh,useCacheRefresh:eg};ef.useEffectEvent=qp;var sg={readContext:nn,use:xu,useCallback:Kp,useContext:nn,useEffect:Xh,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Qh,useRef:kp,useState:function(){return Qh(Wi)},useDebugValue:$h,useDeferredValue:function(t,n){var a=Ne();return re===null?Zh(a,t,n):$p(a,re.memoizedState,t,n)},useTransition:function(){var t=Qh(Wi)[0],n=Ne().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:wp,useId:tg,useHostTransitionStatus:Wh,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=Ne();return re!==null?Vp(a,re,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:eg};sg.useEffectEvent=qp;function nf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var af={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=jn(),h=Da(l);h.payload=n,a!=null&&(h.callback=a),n=Na(t,h,l),n!==null&&(An(n,t,l),Ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=jn(),h=Da(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Na(t,h,l),n!==null&&(An(n,t,l),Ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jn(),l=Da(a);l.tag=2,n!=null&&(l.callback=n),n=Na(t,l,a),n!==null&&(An(n,t,a),Ol(n,t,a))}};function lg(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!wl(a,l)||!wl(h,f):!0}function og(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&af.enqueueReplaceState(n,n.state,null)}function Mr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ug(t){ou(t)}function cg(t){console.error(t)}function hg(t){ou(t)}function Vu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(t,n,a){return a=Da(a),a.tag=3,a.payload={element:null},a.callback=function(){Vu(t,n)},a}function dg(t){return t=Da(t),t.tag=3,t}function mg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){fg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fg(n,a,l),typeof h!="function"&&(La===null?La=new Set([this]):La.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function p1(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ms(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?qu():a.alternate===null&&Re===0&&(Re=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Nf(t,l,h)),!1;case 22:return a.flags|=65536,l===vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Nf(t,l,h)),!1}throw Error(s(435,a.tag))}return Nf(t,l,h),qu(),!1}if(kt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ah&&(t=Error(s(422),{cause:l}),Cl(Gn(t,a)))):(l!==Ah&&(n=Error(s(423),{cause:l}),Cl(Gn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,a),h=rf(t.stateNode,l,h),Mh(t,h),Re!==4&&(Re=2)),!1;var f=Error(s(520),{cause:l});if(f=Gn(f,a),Yl===null?Yl=[f]:Yl.push(f),Re!==4&&(Re=2),n===null)return!0;l=Gn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rf(a.stateNode,l,t),Mh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(La===null||!La.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dg(h),mg(h,t,a,l),Mh(a,h),!1}a=a.return}while(a!==null);return!1}var sf=Error(s(461)),Pe=!1;function an(t,n,a,l){n.child=t===null?vp(n,null,a,l):Ir(n,t.child,a,l)}function pg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Cr(n),l=Bh(t,n,a,v,f,h),T=kh(),t!==null&&!Pe?(Hh(t,n,h),ta(t,n,h)):(kt&&T&&Th(n),n.flags|=1,an(t,n,l,h),n.child)}function gg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yg(t,n,f,l,h)):(t=fu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(v,l)&&t.ref===n.ref)return ta(t,n,h)}return n.flags|=1,t=Ki(f,l),t.ref=n.ref,t.return=n,n.child=t}function yg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(wl(f,l)&&t.ref===n.ref)if(Pe=!1,n.pendingProps=l=f,mf(t,h))(t.flags&131072)!==0&&(Pe=!0);else return n.lanes=t.lanes,ta(t,n,h)}return lf(t,n,a,l,h)}function vg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return _g(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&gu(n,f!==null?f.cachePool:null),f!==null?Tp(n,f):Lh(),bp(n);else return l=n.lanes=536870912,_g(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(gu(n,f.cachePool),Tp(n,f),Ia(),n.memoizedState=null):(t!==null&&gu(n,null),Lh(),Ia());return an(t,n,h,a),n.child}function Bl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _g(t,n,a,l,h){var f=Nh();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&gu(n,null),Lh(),bp(n),t!==null&&ms(t,n,l,!0),n.childLanes=h,null}function Iu(t,n){return n=Mu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Eg(t,n,a){return Ir(n,t.child,null,a),t=Iu(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function g1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(kt){if(l.mode==="hidden")return t=Iu(n,l),n.lanes=536870912,Bl(null,t);if(zh(n),(t=he)?(t=Iy(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Sa!==null?{id:Vi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,en=n,he=null)):t=null,t===null)throw xa(n);return n.lanes=536870912,null}return Iu(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(zh(n),h)if(n.flags&256)n.flags&=-257,n=Eg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Pe||ms(t,n,a,!1),h=(a&t.childLanes)!==0,Pe||h){if(l=oe,l!==null&&(v=ll(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Sr(t,v),An(l,t,v),sf;qu(),n=Eg(t,n,a)}else t=f.treeContext,he=$n(v.nextSibling),en=n,kt=!0,wa=null,Kn=!1,t!==null&&sp(n,t),n=Iu(n,l),n.flags|=4096;return n}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function lf(t,n,a,l,h){return Cr(n),a=Bh(t,n,a,l,void 0,h),l=kh(),t!==null&&!Pe?(Hh(t,n,h),ta(t,n,h)):(kt&&l&&Th(n),n.flags|=1,an(t,n,a,h),n.child)}function Tg(t,n,a,l,h,f){return Cr(n),n.updateQueue=null,a=Sp(n,l,a,h),Ap(t),l=kh(),t!==null&&!Pe?(Hh(t,n,f),ta(t,n,f)):(kt&&l&&Th(n),n.flags|=1,an(t,n,a,f),n.child)}function bg(t,n,a,l,h){if(Cr(n),n.stateNode===null){var f=cs,v=a.contextType;typeof v=="object"&&v!==null&&(f=nn(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ih(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?nn(v):cs,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nf(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&af.enqueueReplaceState(f,f.state,null),jl(n,l,f,h),Ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=Mr(a,T);f.props=N;var B=f.context,X=a.contextType;v=cs,typeof X=="object"&&X!==null&&(v=nn(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==v)&&og(n,f,l,v),Ca=!1;var k=n.memoizedState;f.state=k,jl(n,l,f,h),Ml(),B=n.memoizedState,T||k!==B||Ca?(typeof tt=="function"&&(nf(n,a,tt,l),B=n.memoizedState),(N=Ca||lg(n,a,N,l,k,B,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Oh(t,n),v=n.memoizedProps,X=Mr(a,v),f.props=X,tt=n.pendingProps,k=f.context,B=a.contextType,N=cs,typeof B=="object"&&B!==null&&(N=nn(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==tt||k!==N)&&og(n,f,l,N),Ca=!1,k=n.memoizedState,f.state=k,jl(n,l,f,h),Ml();var F=n.memoizedState;v!==tt||k!==F||Ca||t!==null&&t.dependencies!==null&&mu(t.dependencies)?(typeof T=="function"&&(nf(n,a,T,l),F=n.memoizedState),(X=Ca||lg(n,a,X,l,k,F,N)||t!==null&&t.dependencies!==null&&mu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ir(n,t.child,null,h),n.child=Ir(n,null,a,h)):an(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ta(t,n,h),t}function Ag(t,n,a,l){return xr(),n.flags|=256,an(t,n,a,l),n.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(t){return{baseLanes:t,cachePool:fp()}}function cf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Mn),t}function Sg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(h?Va(n):Ia(),(t=he)?(t=Iy(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Sa!==null?{id:Vi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,en=n,he=null)):t=null,t===null)throw xa(n);return Qf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ia(),h=n.mode,T=Mu({mode:"hidden",children:T},h),l=wr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=uf(a),l.childLanes=cf(t,v,a),n.memoizedState=of,Bl(null,l)):(Va(n),hf(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(Va(n),n.flags&=-257,n=ff(t,n,a)):n.memoizedState!==null?(Ia(),n.child=t.child,n.flags|=128,n=null):(Ia(),T=l.fallback,h=n.mode,l=Mu({mode:"visible",children:l.children},h),T=wr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ir(n,t.child,null,a),l=n.child,l.memoizedState=uf(a),l.childLanes=cf(t,v,a),n.memoizedState=of,n=Bl(null,l));else if(Va(n),Qf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Cl({value:l,source:null,stack:null}),n=ff(t,n,a)}else if(Pe||ms(t,n,a,!1),v=(a&t.childLanes)!==0,Pe||v){if(v=oe,v!==null&&(l=ll(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Sr(t,l),An(v,t,l),sf;Gf(T)||qu(),n=ff(t,n,a)}else Gf(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,he=$n(T.nextSibling),en=n,kt=!0,wa=null,Kn=!1,t!==null&&sp(n,t),n=hf(n,l.children),n.flags|=4096);return n}return h?(Ia(),T=l.fallback,h=n.mode,N=t.child,B=N.sibling,l=Ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?T=Ki(B,T):(T=wr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Bl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=uf(a):(h=T.cachePool,h!==null?(N=Ue._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=fp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=cf(t,v,a),n.memoizedState=of,Bl(t.child,l)):(Va(n),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function hf(t,n){return n=Mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mu(t,n){return t=Nn(22,t,null,n),t.lanes=0,t}function ff(t,n,a){return Ir(n,t.child,null,a),t=hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xh(t.return,n,a)}function df(t,n,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function xg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=De.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,ct(De,v),an(t,n,l,a),l=kt?Rl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,a,n);else if(t.tag===19)wg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&bu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),df(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}df(n,!0,a,null,f,l);break;case"together":df(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ta(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ja|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ms(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ki(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&mu(t)))}function y1(t,n,a){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),Ra(n,Ue,t.memoizedState.cache),xr();break;case 27:case 5:Zt(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:Ra(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Va(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sg(t,n,a):(Va(n),t=ta(t,n,a),t!==null?t.sibling:null);Va(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ms(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return xg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ct(De,De.current),l)break;return null;case 22:return n.lanes=0,vg(t,n,a,n.pendingProps);case 24:Ra(n,Ue,t.memoizedState.cache)}return ta(t,n,a)}function Rg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pe=!0;else{if(!mf(t,a)&&(n.flags&128)===0)return Pe=!1,y1(t,n,a);Pe=(t.flags&131072)!==0}else Pe=!1,kt&&(n.flags&1048576)!==0&&rp(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Nr(n.elementType),n.type=t,typeof t=="function")vh(t)?(l=Mr(t,l),n.tag=1,n=bg(null,n,t,l,a)):(n.tag=0,n=lf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===mt){n.tag=11,n=pg(null,n,t,l,a);break t}else if(h===D){n.tag=14,n=gg(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return lf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Mr(l,n.pendingProps),bg(t,n,l,h,a);case 3:t:{if(Et(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Oh(t,n),jl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Ra(n,Ue,l),l!==f.cache&&Rh(n,[Ue],a,!0),Ml(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ag(t,n,l,a);break t}else if(l!==h){h=Gn(Error(s(424)),n),Cl(h),n=Ag(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,he=$n(t.firstChild),en=n,kt=!0,wa=null,Kn=!0,a=vp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xr(),l===h){n=ta(t,n,a);break t}an(t,n,l,a)}n=n.child}return n;case 26:return Ou(t,n),t===null?(a=zy(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,l=$u(at.current).createElement(a),l[Me]=n,l[$e]=t,rn(l,a,t),je(l),n.stateNode=l):n.memoizedState=zy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Zt(n),t===null&&kt&&(l=n.stateNode=jy(n.type,n.pendingProps,at.current),en=n,Kn=!0,h=he,Ba(n.type)?(Yf=h,he=$n(l.firstChild)):he=h),an(t,n,n.pendingProps.children,a),Ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((h=l=he)&&(l=Y1(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,en=n,he=$n(l.firstChild),Kn=!1,h=!0):h=!1),h||xa(n)),Zt(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Hf(h,f)?l=null:v!==null&&Hf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(t,n,o1,null,null,a),eo._currentValue=h),Ou(t,n),an(t,n,l,a),n.child;case 6:return t===null&&kt&&((t=a=he)&&(a=K1(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,en=n,he=null,t=!0):t=!1),t||xa(n)),null;case 13:return Sg(t,n,a);case 4:return Et(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ir(n,null,l,a):an(t,n,l,a),n.child;case 11:return pg(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ra(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Cr(n),h=nn(h),l=l(h),n.flags|=1,an(t,n,l,a),n.child;case 14:return gg(t,n,n.type,n.pendingProps,a);case 15:return yg(t,n,n.type,n.pendingProps,a);case 19:return xg(t,n,a);case 31:return g1(t,n,a);case 22:return vg(t,n,a,n.pendingProps);case 24:return Cr(n),l=nn(Ue),t===null?(h=Nh(),h===null&&(h=oe,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Ih(n),Ra(n,Ue,h)):((t.lanes&a)!==0&&(Oh(t,n),jl(n,null,null,a),Ml()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ra(n,Ue,l)):(l=f.cache,Ra(n,Ue,l),l!==h.cache&&Rh(n,[Ue],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ea(t){t.flags|=4}function pf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ty())t.flags|=8192;else throw Vr=vu,Vh}else t.flags&=-16777217}function Cg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qy(n))if(ty())t.flags|=8192;else throw Vr=vu,Vh}function ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ko():536870912,t.lanes|=n,xs|=n)}function kl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function v1(t,n,a){var l=n.pendingProps;switch(bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Zi(Ue),yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ds(n)?ea(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sh())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ea(n),f!==null?(fe(n),Cg(n,f)):(fe(n),pf(n,h,null,l,a))):f?f!==t.memoizedState?(ea(n),fe(n),Cg(n,f)):(fe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ea(n),fe(n),pf(n,h,t,l,a)),null;case 27:if(ce(n),a=at.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ea(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return fe(n),null}t=lt.current,ds(n)?lp(n):(t=jy(h,l,a),n.stateNode=t,ea(n))}return fe(n),null;case 5:if(ce(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ea(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return fe(n),null}if(f=lt.current,ds(n))lp(n);else{var v=$u(at.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[Me]=n,f[$e]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;t:switch(rn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ea(n)}}return fe(n),pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ea(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=at.current,ds(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Me]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sy(t.nodeValue,a)),t||xa(n,!0)}else t=$u(t).createTextNode(l),t[Me]=n,n.stateNode=t}return fe(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ds(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Me]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),t=!1}else a=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(s(558))}return fe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ds(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Me]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ju(n,n.updateQueue),fe(n),null);case 4:return yt(),t===null&&Uf(n.stateNode.containerInfo),fe(n),null;case 10:return Zi(n.type),fe(n),null;case 19:if(J(De),l=n.memoizedState,l===null)return fe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)kl(l,!1);else{if(Re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=bu(t),f!==null){for(n.flags|=128,kl(l,!1),t=f.updateQueue,n.updateQueue=t,ju(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)np(a,t),a=a.sibling;return ct(De,De.current&1|2),kt&&Xi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Xe()>Bu&&(n.flags|=128,h=!0,kl(l,!1),n.lanes=4194304)}else{if(!h)if(t=bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ju(n,t),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return fe(n),null}else 2*Xe()-l.renderingStartTime>Bu&&a!==536870912&&(n.flags|=128,h=!0,kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,a=De.current,ct(De,h?a&1|2:a&1),kt&&Xi(n,l.treeForkCount),t):(fe(n),null);case 22:case 23:return In(n),Uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),a=n.updateQueue,a!==null&&ju(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&J(Dr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(Ue),fe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function _1(t,n){switch(bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Zi(Ue),yt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ce(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(s(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(De),null;case 4:return yt(),null;case 10:return Zi(n.type),null;case 22:case 23:return In(n),Uh(),t!==null&&J(Dr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Zi(Ue),null;case 25:return null;default:return null}}function Dg(t,n){switch(bh(n),n.tag){case 3:Zi(Ue),yt();break;case 26:case 27:case 5:ce(n);break;case 4:yt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:J(De);break;case 10:Zi(n.type);break;case 22:case 23:In(n),Uh(),t!==null&&J(Dr);break;case 24:Zi(Ue)}}function Hl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){ne(n,n.return,T)}}function Oa(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var N=a,B=T;try{B()}catch(X){ne(h,N,X)}}}l=l.next}while(l!==f)}}catch(X){ne(n,n.return,X)}}function Ng(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(l){ne(t,t.return,l)}}}function Vg(t,n,a){a.props=Mr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ne(t,n,l)}}function ql(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ne(t,n,h)}}function Oi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ne(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(t,n,h)}else a.current=null}function Ig(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ne(t,t.return,h)}}function gf(t,n,a){try{var l=t.stateNode;k1(l,t.type,a,n),l[$e]=n}catch(h){ne(t,t.return,h)}}function Og(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function yf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ii));else if(l!==4&&(l===27&&Ba(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,a),t=t.sibling;t!==null;)vf(t,n,a),t=t.sibling}function Lu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lu(t,n,a),t=t.sibling;t!==null;)Lu(t,n,a),t=t.sibling}function Mg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,l,a),n[Me]=t,n[$e]=a}catch(f){ne(t,t.return,f)}}var na=!1,Be=!1,_f=!1,jg=typeof WeakSet=="function"?WeakSet:Set,Je=null;function E1(t,n){if(t=t.containerInfo,Bf=ic,t=Ym(t),hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,N=-1,B=0,X=0,tt=t,k=null;e:for(;;){for(var F;tt!==a||h!==0&&tt.nodeType!==3||(T=v+h),tt!==f||l!==0&&tt.nodeType!==3||(N=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(F=tt.firstChild)!==null;)k=tt,tt=F;for(;;){if(tt===t)break e;if(k===a&&++B===h&&(T=v),k===f&&++X===l&&(N=v),(F=tt.nextSibling)!==null)break;tt=k,k=tt.parentNode}tt=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(kf={focusedElem:t,selectionRange:a},ic=!1,Je=n;Je!==null;)if(n=Je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Je=t;else for(;Je!==null;){switch(n=Je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var dt=Mr(a.type,h);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){ne(a,a.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Je=t;break}Je=n.return}}function Lg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:aa(t,a),l&4&&Hl(5,a);break;case 1:if(aa(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){ne(a,a.return,v)}else{var h=Mr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}l&64&&Ng(a),l&512&&ql(a,a.return);break;case 3:if(aa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(t,n)}catch(v){ne(a,a.return,v)}}break;case 27:n===null&&l&4&&Mg(a);case 26:case 5:aa(t,a),n===null&&l&4&&Ig(a),l&512&&ql(a,a.return);break;case 12:aa(t,a);break;case 31:aa(t,a),l&4&&Pg(t,a);break;case 13:aa(t,a),l&4&&Bg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=D1.bind(null,a),X1(t,a))));break;case 22:if(l=a.memoizedState!==null||na,!l){n=n!==null&&n.memoizedState!==null||Be,h=na;var f=Be;na=l,(Be=n)&&!f?ra(t,a,(a.subtreeFlags&8772)!==0):aa(t,a),na=h,Be=f}break;case 30:break;default:aa(t,a)}}function Ug(t){var n=t.alternate;n!==null&&(t.alternate=null,Ug(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&$r(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _e=null,_n=!1;function ia(t,n,a){for(a=a.child;a!==null;)zg(t,n,a),a=a.sibling}function zg(t,n,a){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Be||Oi(a,n),ia(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Be||Oi(a,n);var l=_e,h=_n;Ba(a.type)&&(_e=a.stateNode,_n=!1),ia(t,n,a),Jl(a.stateNode),_e=l,_n=h;break;case 5:Be||Oi(a,n);case 6:if(l=_e,h=_n,_e=null,ia(t,n,a),_e=l,_n=h,_e!==null)if(_n)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(f){ne(a,n,f)}else try{_e.removeChild(a.stateNode)}catch(f){ne(a,n,f)}break;case 18:_e!==null&&(_n?(t=_e,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ms(t)):Ny(_e,a.stateNode));break;case 4:l=_e,h=_n,_e=a.stateNode.containerInfo,_n=!0,ia(t,n,a),_e=l,_n=h;break;case 0:case 11:case 14:case 15:Oa(2,a,n),Be||Oa(4,a,n),ia(t,n,a);break;case 1:Be||(Oi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vg(a,n,l)),ia(t,n,a);break;case 21:ia(t,n,a);break;case 22:Be=(l=Be)||a.memoizedState!==null,ia(t,n,a),Be=l;break;default:ia(t,n,a)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ms(t)}catch(a){ne(n,n.return,a)}}}function Bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ms(t)}catch(a){ne(n,n.return,a)}}function T1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(s(435,t.tag))}}function Uu(t,n){var a=T1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=N1.bind(null,t,l);l.then(h,h)}})}function En(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ba(T.type)){_e=T.stateNode,_n=!1;break t}break;case 5:_e=T.stateNode,_n=!1;break t;case 3:case 4:_e=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(_e===null)throw Error(s(160));zg(f,v,h),_e=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var ui=null;function kg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),l&4&&(Oa(3,t,t.return),Hl(3,t),Oa(5,t,t.return));break;case 1:En(n,t),Tn(t),l&512&&(Be||a===null||Oi(a,a.return)),l&64&&na&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ui;if(En(n,t),Tn(t),l&512&&(Be||a===null||Oi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,l,a),f[Me]=t,je(f),l=f;break t;case"link":var v=ky("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),rn(f,l,a),h.head.appendChild(f);break;case"meta":if(v=ky("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),rn(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Me]=t,je(f),l=f}t.stateNode=l}else Hy(h,t.type,t.stateNode);else t.stateNode=By(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hy(h,t.type,t.stateNode):By(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(n,t),Tn(t),l&512&&(Be||a===null||Oi(a,a.return)),a!==null&&l&4&&gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(n,t),Tn(t),l&512&&(Be||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(dt){ne(t,t.return,dt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_f=!0);break;case 6:if(En(n,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(dt){ne(t,t.return,dt)}}break;case 3:if(Wu=null,h=ui,ui=Zu(n.containerInfo),En(n,t),ui=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ms(n.containerInfo)}catch(dt){ne(t,t.return,dt)}_f&&(_f=!1,Hg(t));break;case 4:l=ui,ui=Zu(t.stateNode.containerInfo),En(n,t),Tn(t),ui=l;break;case 12:En(n,t),Tn(t);break;case 31:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uu(t,l)));break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pu=Xe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uu(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=na,X=Be;if(na=B||h,Be=X||N,En(n,t),Be=X,na=B,Tn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||na||Be||jr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var tt=N.memoizedProps.style,k=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(dt){ne(N,N.return,dt)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){ne(N,N.return,dt)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?Vy(F,!0):Vy(N.stateNode,!1)}catch(dt){ne(N,N.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uu(t,a))));break;case 19:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uu(t,l)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Og(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=yf(t);Lu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var T=yf(t);Lu(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,B=yf(t);vf(t,B,N);break;default:throw Error(s(161))}}catch(X){ne(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function aa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lg(t,n.alternate,n),n=n.sibling}function jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Oa(4,n,n.return),jr(n);break;case 1:Oi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vg(n,n.return,a),jr(n);break;case 27:Jl(n.stateNode);case 26:case 5:Oi(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}t=t.sibling}}function ra(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ra(h,f,a),Hl(4,f);break;case 1:if(ra(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ne(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)_p(N[h],T)}catch(B){ne(l,l.return,B)}}a&&v&64&&Ng(f),ql(f,f.return);break;case 27:Mg(f);case 26:case 5:ra(h,f,a),a&&l===null&&v&4&&Ig(f),ql(f,f.return);break;case 12:ra(h,f,a);break;case 31:ra(h,f,a),a&&v&4&&Pg(h,f);break;case 13:ra(h,f,a),a&&v&4&&Bg(h,f);break;case 22:f.memoizedState===null&&ra(h,f,a),ql(f,f.return);break;case 30:break;default:ra(h,f,a)}n=n.sibling}}function Ef(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dl(a))}function Tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t))}function ci(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(t,n,a,l),n=n.sibling}function qg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n,a,l),h&2048&&Hl(9,n);break;case 1:ci(t,n,a,l);break;case 3:ci(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){ci(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ne(n,n.return,N)}}else ci(t,n,a,l);break;case 31:ci(t,n,a,l);break;case 13:ci(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ci(t,n,a,l):Fl(t,n):f._visibility&2?ci(t,n,a,l):(f._visibility|=2,As(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ef(v,n);break;case 24:ci(t,n,a,l),h&2048&&Tf(n.alternate,n);break;default:ci(t,n,a,l)}}function As(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,T=a,N=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:As(f,v,T,N,h),Hl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?As(f,v,T,N,h):Fl(f,v):(X._visibility|=2,As(f,v,T,N,h)),h&&B&2048&&Ef(v.alternate,v);break;case 24:As(f,v,T,N,h),h&&B&2048&&Tf(v.alternate,v);break;default:As(f,v,T,N,h)}n=n.sibling}}function Fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Fl(a,l),h&2048&&Ef(l.alternate,l);break;case 24:Fl(a,l),h&2048&&Tf(l.alternate,l);break;default:Fl(a,l)}n=n.sibling}}var Gl=8192;function Ss(t,n,a){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)Fg(t,n,a),t=t.sibling}function Fg(t,n,a){switch(t.tag){case 26:Ss(t,n,a),t.flags&Gl&&t.memoizedState!==null&&lT(a,ui,t.memoizedState,t.memoizedProps);break;case 5:Ss(t,n,a);break;case 3:case 4:var l=ui;ui=Zu(t.stateNode.containerInfo),Ss(t,n,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,Ss(t,n,a),Gl=l):Ss(t,n,a));break;default:Ss(t,n,a)}}function Gg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,Yg(l,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 0:case 11:case 15:Ql(t),t.flags&2048&&Oa(9,t,t.return);break;case 3:Ql(t);break;case 12:Ql(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,zu(t)):Ql(t);break;default:Ql(t)}}function zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,Yg(l,t)}Gg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Oa(8,n,n.return),zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,zu(n));break;default:zu(n)}t=t.sibling}}function Yg(t,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Oa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else t:for(a=t;Je!==null;){l=Je;var h=l.sibling,f=l.return;if(Ug(l),l===a){Je=null;break t}if(h!==null){h.return=f,Je=h;break t}Je=f}}}var b1={getCacheForType:function(t){var n=nn(Ue),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return nn(Ue).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,jt=null,Ut=0,ee=0,On=null,Ma=!1,ws=!1,bf=!1,sa=0,Re=0,ja=0,Lr=0,Af=0,Mn=0,xs=0,Yl=null,bn=null,Sf=!1,Pu=0,Kg=0,Bu=1/0,ku=null,La=null,Ge=0,Ua=null,Rs=null,la=0,wf=0,xf=null,Xg=null,Kl=0,Rf=null;function jn(){return($t&2)!==0&&Ut!==0?Ut&-Ut:Q.T!==null?Of():Ho()}function $g(){if(Mn===0)if((Ut&536870912)===0||kt){var t=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),Mn=t}else Mn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Mn}function An(t,n,a){(t===oe&&(ee===2||ee===9)||t.cancelPendingCommit!==null)&&(Cs(t,0),za(t,Ut,Mn,!1)),cr(t,a),(($t&2)===0||t!==oe)&&(t===oe&&(($t&2)===0&&(Lr|=a),Re===4&&za(t,Ut,Mn,!1)),Mi(t))}function Zg(t,n,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ti(t,n),h=l?x1(t,n):Df(t,n,!0),f=l;do{if(h===0){ws&&!l&&za(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!S1(a)){h=Df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Yl;var N=T.current.memoizedState.isDehydrated;if(N&&(Cs(T,v).flags|=256),v=Df(T,v,!1),v!==2){if(bf&&!N){T.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Cs(t,0),za(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:za(l,n,Mn,!Ma);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Pu+300-Xe(),10<h)){if(za(l,n,Mn,!Ma),gi(l,0,!0)!==0)break t;la=n,l.timeoutHandle=Cy(Jg.bind(null,l,a,bn,ku,Sf,n,Mn,Lr,xs,Ma,f,"Throttled",-0,0),h);break t}Jg(l,a,bn,ku,Sf,n,Mn,Lr,xs,Ma,f,null,-0,0)}}break}while(!0);Mi(t)}function Jg(t,n,a,l,h,f,v,T,N,B,X,tt,k,F){if(t.timeoutHandle=-1,tt=n.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Fg(n,f,tt);var dt=(f&62914560)===f?Pu-Xe():(f&4194048)===f?Kg-Xe():0;if(dt=oT(tt,dt),dt!==null){la=f,t.cancelPendingCommit=dt(sy.bind(null,t,n,f,a,l,h,v,T,N,X,tt,null,k,F)),za(t,f,v,!B);return}}sy(t,n,f,a,l,h,v,T,N)}function S1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function za(t,n,a,l){n&=~Af,n&=~Lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-be(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&hr(t,a,n)}function Hu(){return($t&6)===0?(Xl(0),!1):!0}function Cf(){if(jt!==null){if(ee===0)var t=jt.return;else t=jt,$i=Rr=null,qh(t),vs=null,Vl=0,t=jt;for(;t!==null;)Dg(t.alternate,t),t=t.return;jt=null}}function Cs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,F1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),la=0,Cf(),oe=t,jt=a=Ki(t.current,null),Ut=n,ee=0,On=null,Ma=!1,ws=ti(t,n),bf=!1,xs=Mn=Af=Lr=ja=Re=0,bn=Yl=null,Sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-be(l),f=1<<h;n|=t[h],l&=~f}return sa=n,uu(),a}function Wg(t,n){It=null,Q.H=Pl,n===ys||n===yu?(n=pp(),ee=3):n===Vh?(n=pp(),ee=4):ee=n===sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,jt===null&&(Re=1,Vu(t,Gn(n,t.current)))}function ty(){var t=Vn.current;return t===null?!0:(Ut&4194048)===Ut?Xn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?t===Xn:!1}function ey(){var t=Q.H;return Q.H=Pl,t===null?Pl:t}function ny(){var t=Q.A;return Q.A=b1,t}function qu(){Re=4,Ma||(Ut&4194048)!==Ut&&Vn.current!==null||(ws=!0),(ja&134217727)===0&&(Lr&134217727)===0||oe===null||za(oe,Ut,Mn,!1)}function Df(t,n,a){var l=$t;$t|=2;var h=ey(),f=ny();(oe!==t||Ut!==n)&&(ku=null,Cs(t,n)),n=!1;var v=Re;t:do try{if(ee!==0&&jt!==null){var T=jt,N=On;switch(ee){case 8:Cf(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var B=ee;if(ee=0,On=null,Ds(t,T,N,B),a&&ws){v=0;break t}break;default:B=ee,ee=0,On=null,Ds(t,T,N,B)}}w1(),v=Re;break}catch(X){Wg(t,X)}while(!0);return n&&t.shellSuspendCounter++,$i=Rr=null,$t=l,Q.H=h,Q.A=f,jt===null&&(oe=null,Ut=0,uu()),v}function w1(){for(;jt!==null;)iy(jt)}function x1(t,n){var a=$t;$t|=2;var l=ey(),h=ny();oe!==t||Ut!==n?(ku=null,Bu=Xe()+500,Cs(t,n)):ws=ti(t,n);t:do try{if(ee!==0&&jt!==null){n=jt;var f=On;e:switch(ee){case 1:ee=0,On=null,Ds(t,n,f,1);break;case 2:case 9:if(dp(f)){ee=0,On=null,ay(n);break}n=function(){ee!==2&&ee!==9||oe!==t||(ee=7),Mi(t)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:dp(f)?(ee=0,On=null,ay(n)):(ee=0,On=null,Ds(t,n,f,7));break;case 5:var v=null;switch(jt.tag){case 26:v=jt.memoizedState;case 5:case 27:var T=jt;if(v?qy(v):T.stateNode.complete){ee=0,On=null;var N=T.sibling;if(N!==null)jt=N;else{var B=T.return;B!==null?(jt=B,Fu(B)):jt=null}break e}}ee=0,On=null,Ds(t,n,f,5);break;case 6:ee=0,On=null,Ds(t,n,f,6);break;case 8:Cf(),Re=6;break t;default:throw Error(s(462))}}R1();break}catch(X){Wg(t,X)}while(!0);return $i=Rr=null,Q.H=l,Q.A=h,$t=a,jt!==null?0:(oe=null,Ut=0,uu(),Re)}function R1(){for(;jt!==null&&!mn();)iy(jt)}function iy(t){var n=Rg(t.alternate,t,sa);t.memoizedProps=t.pendingProps,n===null?Fu(t):jt=n}function ay(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Tg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Tg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:qh(n);default:Dg(a,n),n=jt=np(n,sa),n=Rg(a,n,sa)}t.memoizedProps=t.pendingProps,n===null?Fu(t):jt=n}function Ds(t,n,a,l){$i=Rr=null,qh(n),vs=null,Vl=0;var h=n.return;try{if(p1(t,h,n,a,Ut)){Re=1,Vu(t,Gn(a,t.current)),jt=null;return}}catch(f){if(h!==null)throw jt=h,f;Re=1,Vu(t,Gn(a,t.current)),jt=null;return}n.flags&32768?(kt||l===1?t=!0:ws||(Ut&536870912)!==0?t=!1:(Ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ry(n,t)):Fu(n)}function Fu(t){var n=t;do{if((n.flags&32768)!==0){ry(n,Ma);return}t=n.return;var a=v1(n.alternate,n,sa);if(a!==null){jt=a;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=t}while(n!==null);Re===0&&(Re=5)}function ry(t,n){do{var a=_1(t.alternate,t);if(a!==null){a.flags&=32767,jt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){jt=t;return}jt=t=a}while(t!==null);Re=6,jt=null}function sy(t,n,a,l,h,f,v,T,N){t.cancelPendingCommit=null;do Gu();while(Ge!==0);if(($t&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=gh,lh(t,a,f,v,T,N),t===oe&&(jt=oe=null,Ut=0),Rs=n,Ua=t,la=a,wf=f,xf=h,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,V1(Tt,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=st.p,st.p=2,v=$t,$t|=4;try{E1(t,n,a)}finally{$t=v,st.p=h,Q.T=l}}Ge=1,ly(),oy(),uy()}}function ly(){if(Ge===1){Ge=0;var t=Ua,n=Rs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=st.p;st.p=2;var h=$t;$t|=4;try{kg(n,t);var f=kf,v=Ym(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qm(T.ownerDocument.documentElement,T)){if(N!==null&&hh(T)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var tt=T.ownerDocument||document,k=tt&&tt.defaultView||window;if(k.getSelection){var F=k.getSelection(),dt=T.textContent.length,At=Math.min(N.start,dt),le=N.end===void 0?At:Math.min(N.end,dt);!F.extend&&At>le&&(v=le,le=At,At=v);var L=Gm(T,At),O=Gm(T,le);if(L&&O&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=tt.createRange();P.setStart(L.node,L.offset),F.removeAllRanges(),At>le?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(tt=[],F=T;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var Z=tt[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ic=!!Bf,kf=Bf=null}finally{$t=h,st.p=l,Q.T=a}}t.current=n,Ge=2}}function oy(){if(Ge===2){Ge=0;var t=Ua,n=Rs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=st.p;st.p=2;var h=$t;$t|=4;try{Lg(t,n.alternate,n)}finally{$t=h,st.p=l,Q.T=a}}Ge=3}}function uy(){if(Ge===4||Ge===3){Ge=0,or();var t=Ua,n=Rs,a=la,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,Rs=Ua=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(La=null),Fi(a),n=n.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=st.p,st.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,st.p=h}}(la&3)!==0&&Gu(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Rf?Kl++:(Kl=0,Rf=t):Kl=0,Xl(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Dl(n)))}function Gu(){return ly(),oy(),uy(),hy()}function hy(){if(Ge!==5)return!1;var t=Ua,n=wf;wf=0;var a=Fi(la),l=Q.T,h=st.p;try{st.p=32>a?32:a,Q.T=null,a=xf,xf=null;var f=Ua,v=la;if(Ge=0,Rs=Ua=null,la=0,($t&6)!==0)throw Error(s(331));var T=$t;if($t|=4,Qg(f.current),qg(f,f.current,v,a),$t=T,Xl(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{st.p=h,Q.T=l,cy(t,n)}}function fy(t,n,a){n=Gn(a,n),n=rf(t.stateNode,n,2),t=Na(t,n,2),t!==null&&(cr(t,2),Mi(t))}function ne(t,n,a){if(t.tag===3)fy(t,t,a);else for(;n!==null;){if(n.tag===3){fy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(La===null||!La.has(l))){t=Gn(a,t),a=dg(2),l=Na(n,a,2),l!==null&&(mg(a,l,n,t),cr(l,2),Mi(l));break}}n=n.return}}function Nf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new A1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(bf=!0,h.add(a),t=C1.bind(null,t,n,a),n.then(t,t))}function C1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,oe===t&&(Ut&a)===a&&(Re===4||Re===3&&(Ut&62914560)===Ut&&300>Xe()-Pu?($t&2)===0&&Cs(t,0):Af|=a,xs===Ut&&(xs=0)),Mi(t)}function dy(t,n){n===0&&(n=ko()),t=Sr(t,n),t!==null&&(cr(t,n),Mi(t))}function D1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dy(t,a)}function N1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),dy(t,a)}function V1(t,n){return ue(t,n)}var Qu=null,Ns=null,Vf=!1,Yu=!1,If=!1,Pa=0;function Mi(t){t!==Ns&&t.next===null&&(Ns===null?Qu=Ns=t:Ns=Ns.next=t),Yu=!0,Vf||(Vf=!0,O1())}function Xl(t,n){if(!If&&Yu){If=!0;do for(var a=!1,l=Qu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-be(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,yy(l,f))}else f=Ut,f=gi(l,l===oe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(a=!0,yy(l,f));l=l.next}while(a);If=!1}}function I1(){my()}function my(){Yu=Vf=!1;var t=0;Pa!==0&&q1()&&(t=Pa);for(var n=Xe(),a=null,l=Qu;l!==null;){var h=l.next,f=py(l,n);f===0?(l.next=null,a===null?Qu=h:a.next=h,h===null&&(Ns=a)):(a=l,(t!==0||(f&3)!==0)&&(Yu=!0)),l=h}Ge!==0&&Ge!==5||Xl(t),Pa!==0&&(Pa=0)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-be(f),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&l)!==0)&&(h[v]=sh(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=oe,a=Ut,a=gi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ee===2||ee===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ti(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Pn(l),Fi(a)){case 2:case 8:a=Te;break;case 32:a=Tt;break;case 268435456:a=Qr;break;default:a=Tt}return l=gy.bind(null,t),a=ue(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Pn(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gu()&&t.callbackNode!==a)return null;var l=Ut;return l=gi(t,t===oe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zg(t,l,n),py(t,Xe()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function yy(t,n){if(Gu())return null;Zg(t,n,!0)}function O1(){G1(function(){($t&6)!==0?ue(ft,I1):my()})}function Of(){if(Pa===0){var t=ps;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Pa=t}return Pa}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ts(""+t)}function _y(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function M1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=vy((h[$e]||null).action),v=l.submitter;v&&(n=(n=v[$e]||null)?vy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Ri("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pa!==0){var N=v?_y(h,v):new FormData(h);Jh(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=v?_y(h,v):new FormData(h),Jh(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Mf=0;Mf<ph.length;Mf++){var jf=ph[Mf],j1=jf.toLowerCase(),L1=jf[0].toUpperCase()+jf.slice(1);oi(j1,"on"+L1)}oi($m,"onAnimationEnd"),oi(Zm,"onAnimationIteration"),oi(Jm,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(JE,"onTransitionRun"),oi(WE,"onTransitionStart"),oi(t1,"onTransitionCancel"),oi(Wm,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,B=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(X){ou(X)}h.currentTarget=null,f=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,B=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(X){ou(X)}h.currentTarget=null,f=N}}}}function Lt(t,n){var a=n[Xr];a===void 0&&(a=n[Xr]=new Set);var l=t+"__bubble";a.has(l)||(Ty(n,t,2,!1),a.add(l))}function Lf(t,n,a){var l=0;n&&(l|=4),Ty(a,t,l,n)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Uf(t){if(!t[Ku]){t[Ku]=!0,ol.forEach(function(a){a!=="selectionchange"&&(U1.has(a)||Lf(a,!1,t),Lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ku]||(n[Ku]=!0,Lf("selectionchange",!1,n))}}function Ty(t,n,a,l){switch($y(n)){case 2:var h=hT;break;case 8:h=fT;break;default:h=Jf}a=h.bind(null,n,a,t),h=void 0,!gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function zf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Ea(function(){var B=f,X=kn(a),tt=[];t:{var k=tp.get(t);if(k!==void 0){var F=Ri,dt=t;switch(t){case"keypress":if(vr(a)===0)break t;case"keydown":case"keyup":F=ru;break;case"focusin":dt="focus",F=Er;break;case"focusout":dt="blur",F=Er;break;case"beforeblur":case"afterblur":F=Er;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case $m:case Zm:case Jm:F=Jo;break;case Wm:F=A;break;case"scroll":case"scrollend":F=El;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Yi;break;case"toggle":case"beforetoggle":F=Vt}var At=(n&4)!==0,le=!At&&(t==="scroll"||t==="scrollend"),L=At?k!==null?k+"Capture":null:k;At=[];for(var O=B,P;O!==null;){var Z=O;if(P=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||P===null||L===null||(Z=ai(O,L),Z!=null&&At.push(Zl(O,Z,P))),le)break;O=O.return}0<At.length&&(k=new F(k,dt,null,a,X),tt.push({event:k,listeners:At}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",k&&a!==yl&&(dt=a.relatedTarget||a.fromElement)&&(Ei(dt)||dt[vi]))break t;if((F||k)&&(k=X.window===X?X:(k=X.ownerDocument)?k.defaultView||k.parentWindow:window,F?(dt=a.relatedTarget||a.toElement,F=B,dt=dt?Ei(dt):null,dt!==null&&(le=c(dt),At=dt.tag,dt!==le||At!==5&&At!==27&&At!==6)&&(dt=null)):(F=null,dt=B),F!==dt)){if(At=Tl,Z="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(At=Yi,Z="onPointerLeave",L="onPointerEnter",O="pointer"),le=F==null?k:Rn(F),P=dt==null?k:Rn(dt),k=new At(Z,O+"leave",F,a,X),k.target=le,k.relatedTarget=P,Z=null,Ei(X)===B&&(At=new At(L,O+"enter",dt,a,X),At.target=P,At.relatedTarget=le,Z=At),le=Z,F&&dt)e:{for(At=z1,L=F,O=dt,P=0,Z=L;Z;Z=At(Z))P++;Z=0;for(var _t=O;_t;_t=At(_t))Z++;for(;0<P-Z;)L=At(L),P--;for(;0<Z-P;)O=At(O),Z--;for(;P--;){if(L===O||O!==null&&L===O.alternate){At=L;break e}L=At(L),O=At(O)}At=null}else At=null;F!==null&&by(tt,k,F,At,!1),dt!==null&&le!==null&&by(tt,le,dt,At,!0)}}t:{if(k=B?Rn(B):window,F=k.nodeName&&k.nodeName.toLowerCase(),F==="select"||F==="input"&&k.type==="file")var Qt=Pm;else if(Um(k))if(Bm)Qt=XE;else{Qt=YE;var gt=QE}else F=k.nodeName,!F||F.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Wr(B.elementType)&&(Qt=Pm):Qt=KE;if(Qt&&(Qt=Qt(t,B))){zm(tt,Qt,a,X);break t}gt&&gt(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&ml(k,"number",k.value)}switch(gt=B?Rn(B):window,t){case"focusin":(Um(gt)||gt.contentEditable==="true")&&(ls=gt,fh=B,xl=null);break;case"focusout":xl=fh=ls=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Km(tt,a,X);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Km(tt,a,X)}var Ot;if(Xt)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else ss?Tr(t,a)&&(zt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(Ni&&a.locale!=="ko"&&(ss||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ss&&(Ot=_l()):(xi=X,vl="value"in xi?xi.value:xi.textContent,ss=!0)),gt=Xu(B,zt),0<gt.length&&(zt=new Di(zt,t,null,a,X),tt.push({event:zt,listeners:gt}),Ot?zt.data=Ot:(Ot=rs(a),Ot!==null&&(zt.data=Ot)))),(Ot=qn?HE(t,a):qE(t,a))&&(zt=Xu(B,"onBeforeInput"),0<zt.length&&(gt=new Di("onBeforeInput","beforeinput",null,a,X),tt.push({event:gt,listeners:zt}),gt.data=Ot)),M1(tt,t,B,a,X)}Ey(tt,n)})}function Zl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Xu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ai(t,a),h!=null&&l.unshift(Zl(t,h,f)),h=ai(t,n),h!=null&&l.push(Zl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function z1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,B=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||B===null||(N=B,h?(B=ai(a,f),B!=null&&v.unshift(Zl(a,B,N))):h||(B=ai(a,f),B!=null&&v.push(Zl(a,B,N)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var P1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(P1,`
`).replace(B1,"")}function Sy(t,n){return n=Ay(n),Ay(t)===n}function se(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,l);break;case"style":gl(t,l,f);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ts(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&se(t,n,"name",h.name,h,null),se(t,n,"formEncType",h.formEncType,h,null),se(t,n,"formMethod",h.formMethod,h,null),se(t,n,"formTarget",h.formTarget,h,null)):(se(t,n,"encType",h.encType,h,null),se(t,n,"method",h.method,h,null),se(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ts(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ts(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),Zr(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xo.get(a)||a,Zr(t,a,l))}}function Pf(t,n,a,l,h,f){switch(a){case"style":gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[$e]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Zr(t,a,l)}}}function rn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:se(t,n,f,v,a,null)}}h&&se(t,n,"srcSet",a.srcSet,a,null),l&&se(t,n,"src",a.src,a,null);return;case"input":Lt("invalid",t);var T=f=v=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:se(t,n,l,X,a,null)}}Qo(t,f,T,N,B,v,h,!1);return;case"select":Lt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:se(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?ga(t,!!l,n,!1):a!=null&&ga(t,!!l,a,!0);return;case"textarea":Lt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:se(t,n,v,T,a,null)}ya(t,l,h,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":se(t,n,N,l,a,null));return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)Lt($l[l],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:se(t,n,B,l,a,null)}return;default:if(Wr(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Pf(t,n,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&se(t,n,T,l,a,null))}function k1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,N=null,B=null,X=null;for(F in a){var tt=a[F];if(a.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(F)||se(t,n,F,null,l,tt)}}for(var k in l){var F=l[k];if(tt=a[k],l.hasOwnProperty(k)&&(F!=null||tt!=null))switch(k){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==tt&&se(t,n,k,F,l,tt)}}Jr(t,v,T,N,B,X,f,h);return;case"select":F=v=T=k=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||se(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":k=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==N&&se(t,n,h,f,l,N)}n=T,a=v,l=F,k!=null?ga(t,!!a,k,!1):!!l!=!!a&&(n!=null?ga(t,!!a,n,!0):ga(t,!!a,a?[]:"",!1));return;case"textarea":F=k=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:se(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":k=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&se(t,n,v,h,l,f)}Yo(t,k,F);return;case"option":for(var dt in a)k=a[dt],a.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&(dt==="selected"?t.selected=!1:se(t,n,dt,null,l,k));for(N in l)k=l[N],F=a[N],l.hasOwnProperty(N)&&k!==F&&(k!=null||F!=null)&&(N==="selected"?t.selected=k&&typeof k!="function"&&typeof k!="symbol":se(t,n,N,k,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)k=a[At],a.hasOwnProperty(At)&&k!=null&&!l.hasOwnProperty(At)&&se(t,n,At,null,l,k);for(B in l)if(k=l[B],F=a[B],l.hasOwnProperty(B)&&k!==F&&(k!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:se(t,n,B,k,l,F)}return;default:if(Wr(n)){for(var le in a)k=a[le],a.hasOwnProperty(le)&&k!==void 0&&!l.hasOwnProperty(le)&&Pf(t,n,le,void 0,l,k);for(X in l)k=l[X],F=a[X],!l.hasOwnProperty(X)||k===F||k===void 0&&F===void 0||Pf(t,n,X,k,l,F);return}}for(var L in a)k=a[L],a.hasOwnProperty(L)&&k!=null&&!l.hasOwnProperty(L)&&se(t,n,L,null,l,k);for(tt in l)k=l[tt],F=a[tt],!l.hasOwnProperty(tt)||k===F||k==null&&F==null||se(t,n,tt,k,l,F)}function wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&wy(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>T)break;var X=N.transferSize,tt=N.initiatorType;X&&wy(tt)&&(N=N.responseEnd,v+=X*(N<T?1:(T-B)/(N-B)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bf=null,kf=null;function $u(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function q1(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(t){return Dy.resolve(null).then(t).catch(Q1)}:Cy;function Q1(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function Ny(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ms(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Jl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Jl(t.ownerDocument.body);a=h}while(a);Ms(n)}function Vy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),$r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Y1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function K1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function Iy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$?"||t.data==="$~"}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function X1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Yf=null;function Oy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return $n(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function My(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function jy(t,n,a){switch(n=$u(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);$r(t)}var Zn=new Map,Ly=new Set;function Zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oa=st.d;st.d={f:$1,r:Z1,D:J1,C:W1,L:tT,m:eT,X:iT,S:nT,M:aT};function $1(){var t=oa.f(),n=Hu();return t||n}function Z1(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?Wp(n):oa.r(t)}var Vs=typeof document>"u"?null:document;function Uy(t,n,a){var l=Vs;if(l&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),rn(n,"link",t),je(n),l.head.appendChild(n)))}}function J1(t){oa.D(t),Uy("dns-prefetch",t,null)}function W1(t,n){oa.C(t,n),Uy("preconnect",t,n)}function tT(t,n,a){oa.L(t,n,a);var l=Vs;if(l&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=Is(t);break;case"script":f=Os(t)}Zn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Zn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Wl(f))||n==="script"&&l.querySelector(to(f))||(n=l.createElement("link"),rn(n,"link",t),je(n),l.head.appendChild(n)))}}function eT(t,n){oa.m(t,n);var a=Vs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Os(t)}if(!Zn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Zn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(to(f)))return}l=a.createElement("link"),rn(l,"link",t),je(l),a.head.appendChild(l)}}}function nT(t,n,a){oa.S(t,n,a);var l=Vs;if(l&&t){var h=Ti(l).hoistableStyles,f=Is(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Wl(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Zn.get(f))&&Kf(t,a);var N=v=l.createElement("link");je(N),rn(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ju(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function iT(t,n){oa.X(t,n);var a=Vs;if(a&&t){var l=Ti(a).hoistableScripts,h=Os(t),f=l.get(h);f||(f=a.querySelector(to(h)),f||(t=b({src:t,async:!0},n),(n=Zn.get(h))&&Xf(t,n),f=a.createElement("script"),je(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function aT(t,n){oa.M(t,n);var a=Vs;if(a&&t){var l=Ti(a).hoistableScripts,h=Os(t),f=l.get(h);f||(f=a.querySelector(to(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&Xf(t,n),f=a.createElement("script"),je(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function zy(t,n,a,l){var h=(h=at.current)?Zu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Is(a.href),a=Ti(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Is(a.href);var f=Ti(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Wl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),f||rT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Os(a),a=Ti(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Is(t){return'href="'+yn(t)+'"'}function Wl(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function rT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),rn(n,"link",a),je(n),t.head.appendChild(n))}function Os(t){return'[src="'+yn(t)+'"]'}function to(t){return"script[async]"+t}function By(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return n.instance=l,je(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),je(l),rn(l,"style",h),Ju(l,a.precedence,t),n.instance=l;case"stylesheet":h=Is(a.href);var f=t.querySelector(Wl(h));if(f)return n.state.loading|=4,n.instance=f,je(f),f;l=Py(a),(h=Zn.get(h))&&Kf(l,h),f=(t.ownerDocument||t).createElement("link"),je(f);var v=f;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),rn(f,"link",l),n.state.loading|=4,Ju(f,a.precedence,t),n.instance=f;case"script":return f=Os(a.src),(h=t.querySelector(to(f)))?(n.instance=h,je(h),h):(l=a,(h=Zn.get(f))&&(l=b({},a),Xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),je(h),rn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ju(l,a.precedence,t));return n.instance}function Ju(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Wu=null;function ky(t,n,a){if(Wu===null){var l=new Map,h=Wu=new Map;h.set(a,l)}else h=Wu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[Me]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function sT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Is(l.href),f=n.querySelector(Wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=tc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,je(f);return}f=n.ownerDocument||n,l=Py(l),(h=Zn.get(h))&&Kf(l,h),f=f.createElement("link"),je(f);var v=f;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),rn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=tc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var $f=0;function oT(t,n){return t.stylesheets&&t.count===0&&nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&$f===0&&($f=62500*H1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>$f?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,n.forEach(uT,t),ec=null,tc.call(t))}function uT(t,n){if(!(n.state.loading&4)){var a=ec.get(t);if(a)var l=a.get(null);else{a=new Map,ec.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var eo={$$typeof:ut,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function cT(t,n,a,l,h,f,v,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Fy(t,n,a,l,h,f,v,T,N,B,X,tt){return t=new cT(t,n,a,v,N,B,X,tt,T),n=1,f===!0&&(n|=24),f=Nn(3,null,null,n),t.current=f,f.stateNode=t,n=Ch(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Ih(f),t}function Gy(t){return t?(t=cs,t):cs}function Qy(t,n,a,l,h,f){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=Da(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Na(t,l,n),a!==null&&(An(a,t,n),Ol(a,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zf(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13||t.tag===31){var n=Sr(t,67108864);n!==null&&An(n,t,67108864),Zf(t,67108864)}}function Xy(t){if(t.tag===13||t.tag===31){var n=jn();n=fr(n);var a=Sr(t,n);a!==null&&An(a,t,n),Zf(t,n)}}var ic=!0;function hT(t,n,a,l){var h=Q.T;Q.T=null;var f=st.p;try{st.p=2,Jf(t,n,a,l)}finally{st.p=f,Q.T=h}}function fT(t,n,a,l){var h=Q.T;Q.T=null;var f=st.p;try{st.p=8,Jf(t,n,a,l)}finally{st.p=f,Q.T=h}}function Jf(t,n,a,l){if(ic){var h=Wf(l);if(h===null)zf(t,n,l,ac,a),Zy(t,l);else if(mT(h,t,n,a,l))l.stopPropagation();else if(Zy(t,l),n&4&&-1<dT.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=pi(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-be(v);T.entanglements[1]|=N,v&=~N}Mi(f),($t&6)===0&&(Bu=Xe()+500,Xl(0))}}break;case 31:case 13:T=Sr(f,2),T!==null&&An(T,f,2),Hu(),Zf(f,2)}if(f=Wf(l),f===null&&zf(t,n,l,ac,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else zf(t,n,l,null,a)}}function Wf(t){return t=kn(t),td(t)}var ac=null;function td(t){if(ac=null,t=Ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ac=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case ft:return 2;case Te:return 8;case Tt:case ma:return 32;case Qr:return 268435456;default:return 32}default:return 32}}var ed=!1,ka=null,Ha=null,qa=null,no=new Map,io=new Map,Fa=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,n){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function ao(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function mT(t,n,a,l,h){switch(n){case"focusin":return ka=ao(ka,t,n,a,l,h),!0;case"dragenter":return Ha=ao(Ha,t,n,a,l,h),!0;case"mouseover":return qa=ao(qa,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return no.set(f,ao(no.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,io.set(f,ao(io.get(f)||null,t,n,a,l,h)),!0}return!1}function Jy(t){var n=Ei(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ei(t.priority,function(){Xy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,ei(t.priority,function(){Xy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return n=Bn(a),n!==null&&Ky(n),t.blockedOn=a,!1;n.shift()}return!0}function Wy(t,n,a){rc(t)&&a.delete(n)}function pT(){ed=!1,ka!==null&&rc(ka)&&(ka=null),Ha!==null&&rc(Ha)&&(Ha=null),qa!==null&&rc(qa)&&(qa=null),no.forEach(Wy),io.forEach(Wy)}function sc(t,n){t.blockedOn===n&&(t.blockedOn=null,ed||(ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pT)))}var lc=null;function tv(t){lc!==t&&(lc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lc===t&&(lc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(td(l||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(n,3),n-=3,Jh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ms(t){function n(N){return sc(N,t)}ka!==null&&sc(ka,t),Ha!==null&&sc(Ha,t),qa!==null&&sc(qa,t),no.forEach(n),io.forEach(n);for(var a=0;a<Fa.length;a++){var l=Fa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fa.length&&(a=Fa[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&Fa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[$e]||null;if(typeof f=="function")v||tv(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[$e]||null)T=v.formAction;else if(td(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),tv(a)}}}function ev(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function nd(t){this._internalRoot=t}oc.prototype.render=nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=jn();Qy(a,l,t,n,null,null)},oc.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qy(t.current,2,null,t,null,null),Hu(),n[vi]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ho();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Fa.length&&n!==0&&n<Fa[a].priority;a++);Fa.splice(a,0,t),a===0&&Jy(t)}};var nv=e.version;if(nv!=="19.2.4")throw Error(s(527,nv,"19.2.4"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var gT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{xn=uc.inject(gT),Ie=uc}catch{}}return so.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=ug,f=cg,v=hg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Fy(t,1,!1,null,null,a,l,null,h,f,v,ev),t[vi]=n.current,Uf(t),new nd(n)},so.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=ug,v=cg,T=hg,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=Fy(t,1,!0,n,a??null,l,h,N,f,v,T,ev),n.context=Gy(null),a=n.current,l=jn(),l=fr(l),h=Da(l),h.callback=null,Na(a,h,l),a=l,n.current.lanes=a,cr(n,a),Mi(n),t[vi]=n.current,Uf(t),new oc(n)},so.version="19.2.4",so}var fv;function RT(){if(fv)return rd.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=xT(),rd.exports}var CT=RT();const DT=D0(CT);var dv="popstate";function NT(r={}){function e(o,c){let{pathname:d="/",search:g="",hash:m=""}=qr(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),xd("",{pathname:d,search:g,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");g=y===-1?m:m.slice(0,y)}return g+"#"+(typeof c=="string"?c:_o(c))}function s(o,c){Wn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return IT(e,i,s,r)}function Ee(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VT(){return Math.random().toString(36).substring(2,10)}function mv(r,e){return{usr:r.state,key:r.key,idx:e}}function xd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qr(e):e,state:i,key:e&&e.key||s||VT()}}function _o({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function qr(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function IT(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",m=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let Y=E(),rt=Y==null?null:Y-y;y=Y,m&&m({action:g,location:G.location,delta:rt})}function S(Y,rt){g="PUSH";let it=xd(G.location,Y,rt);i&&i(it,Y),y=E()+1;let ut=mv(it,y),mt=G.createHref(it);try{d.pushState(ut,"",mt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(mt)}c&&m&&m({action:g,location:G.location,delta:1})}function j(Y,rt){g="REPLACE";let it=xd(G.location,Y,rt);i&&i(it,Y),y=E();let ut=mv(it,y),mt=G.createHref(it);d.replaceState(ut,"",mt),c&&m&&m({action:g,location:G.location,delta:0})}function W(Y){return OT(Y)}let G={get action(){return g},get location(){return r(o,d)},listen(Y){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,b),m=Y,()=>{o.removeEventListener(dv,b),m=null}},createHref(Y){return e(o,Y)},createURL:W,encodeLocation(Y){let rt=W(Y);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:S,replace:j,go(Y){return d.go(Y)}};return G}function OT(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:_o(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function N0(r,e,i="/"){return MT(r,e,i,!1)}function MT(r,e,i,s){let o=typeof e=="string"?qr(e):e,c=ca(o.pathname||"/",i);if(c==null)return null;let d=V0(r);jT(d);let g=null;for(let m=0;g==null&&m<d.length;++m){let y=QT(c);g=FT(d[m],y,s)}return g}function V0(r,e=[],i=[],s="",o=!1){let c=(d,g,m=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&m)return;Ee(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=ua([s,E.relativePath]),S=i.concat(E);d.children&&d.children.length>0&&(Ee(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),V0(d.children,e,S,b,m)),!(d.path==null&&!d.index)&&e.push({path:b,score:HT(b,d.index),routesMeta:S})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let m of I0(d.path))c(d,g,!0,m)}),e}function I0(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=I0(s.join("/")),g=[];return g.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&g.push(...d),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function jT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:qT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var LT=/^:[\w-]+$/,UT=3,zT=2,PT=1,BT=10,kT=-2,pv=r=>r==="*";function HT(r,e){let i=r.split("/"),s=i.length;return i.some(pv)&&(s+=kT),e&&(s+=zT),i.filter(o=>!pv(o)).reduce((o,c)=>o+(LT.test(c)?UT:c===""?PT:BT),s)}function qT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function FT(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let m=s[g],y=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=wc({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},E),S=m.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=wc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:ua([c,b.pathname]),pathnameBase:$T(ua([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=ua([c,b.pathnameBase]))}return d}function wc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=GT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let W=g[S]||"";d=c.slice(0,c.length-W.length).replace(/(.)\/+$/,"$1")}const j=g[S];return b&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function GT(r,e=!1,i=!0){Wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function QT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ca(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function KT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?qr(r):r,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=gv(i.substring(1),"/"):c=gv(i,e)):c=e,{pathname:c,search:ZT(s),hash:JT(o)}}function gv(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ud(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Zd(r){let e=XT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Jd(r,e,i,s=!1){let o;typeof r=="string"?o=qr(r):(o={...r},Ee(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),Ee(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),Ee(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}g=b>=0?e[b]:"/"}let m=KT(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}var ua=r=>r.join("/").replace(/\/\/+/g,"/"),$T=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,WT=class{constructor(r,e,i,s=!1){this.status=r,this.statusText=e||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function tb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function eb(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function M0(r,e){let i=r;if(typeof i!="string"||!YT.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(O0)try{let c=new URL(window.location.href),d=i.startsWith("//")?new URL(c.protocol+i):new URL(i),g=ca(d.pathname,e);d.origin===c.origin&&g!=null?i=g+d.search+d.hash:o=!0}catch{Wn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j0=["POST","PUT","PATCH","DELETE"];new Set(j0);var nb=["GET",...j0];new Set(nb);var Js=H.createContext(null);Js.displayName="DataRouter";var kc=H.createContext(null);kc.displayName="DataRouterState";var ib=H.createContext(!1),L0=H.createContext({isTransitioning:!1});L0.displayName="ViewTransition";var ab=H.createContext(new Map);ab.displayName="Fetchers";var rb=H.createContext(null);rb.displayName="Await";var Un=H.createContext(null);Un.displayName="Navigation";var No=H.createContext(null);No.displayName="Location";var fi=H.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Wd=H.createContext(null);Wd.displayName="RouteError";var U0="REACT_ROUTER_ERROR",sb="REDIRECT",lb="ROUTE_ERROR_RESPONSE";function ob(r){if(r.startsWith(`${U0}:${sb}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ub(r){if(r.startsWith(`${U0}:${lb}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new WT(e.status,e.statusText,e.data)}catch{}}function cb(r,{relative:e}={}){Ee(Ws(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=H.useContext(Un),{hash:o,pathname:c,search:d}=Vo(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:ua([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Ws(){return H.useContext(No)!=null}function rr(){return Ee(Ws(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(No).location}var z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(r){H.useContext(Un).static||H.useLayoutEffect(r)}function Hc(){let{isDataRoute:r}=H.useContext(fi);return r?Sb():hb()}function hb(){Ee(Ws(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Js),{basename:e,navigator:i}=H.useContext(Un),{matches:s}=H.useContext(fi),{pathname:o}=rr(),c=JSON.stringify(Zd(s)),d=H.useRef(!1);return P0(()=>{d.current=!0}),H.useCallback((m,y={})=>{if(Wn(d.current,z0),!d.current)return;if(typeof m=="number"){i.go(m);return}let E=Jd(m,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ua([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}H.createContext(null);function fb(){let{matches:r}=H.useContext(fi),e=r[r.length-1];return e?e.params:{}}function Vo(r,{relative:e}={}){let{matches:i}=H.useContext(fi),{pathname:s}=rr(),o=JSON.stringify(Zd(i));return H.useMemo(()=>Jd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function db(r,e){return B0(r,e)}function B0(r,e,i,s,o){Ee(Ws(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=H.useContext(Un),{matches:d}=H.useContext(fi),g=d[d.length-1],m=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let it=b&&b.path||"";H0(y,!b||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let S=rr(),j;if(e){let it=typeof e=="string"?qr(e):e;Ee(E==="/"||it.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),j=it}else j=S;let W=j.pathname||"/",G=W;if(E!=="/"){let it=E.replace(/^\//,"").split("/");G="/"+W.replace(/^\//,"").split("/").slice(it.length).join("/")}let Y=N0(r,{pathname:G});Wn(b||Y!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Wn(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=vb(Y&&Y.map(it=>Object.assign({},it,{params:Object.assign({},m,it.params),pathname:ua([E,c.encodeLocation?c.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:ua([E,c.encodeLocation?c.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),d,i,s,o);return e&&rt?H.createElement(No.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},rt):rt}function mb(){let r=Ab(),e=tb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,d)}var pb=H.createElement(mb,null),k0=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=ub(r.digest);i&&(r=i)}let e=r!==void 0?H.createElement(fi.Provider,{value:this.props.routeContext},H.createElement(Wd.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?H.createElement(gb,{error:r},e):e}};k0.contextType=ib;var cd=new WeakMap;function gb({children:r,error:e}){let{basename:i}=H.useContext(Un);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ob(e.digest);if(s){let o=cd.get(e);if(o)throw o;let c=M0(s.location,i);if(O0&&!cd.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw cd.set(e,d),d}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function yb({routeContext:r,match:e,children:i}){let s=H.useContext(Js);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(fi.Provider,{value:r},i)}function vb(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let E=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Ee(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let g=!1,m=-1;if(i)for(let E=0;E<c.length;E++){let b=c[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=E),b.route.id){let{loaderData:S,errors:j}=i,W=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||W){g=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let y=i&&s?(E,b)=>{s(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:eb(i.matches),errorInfo:b})}:void 0;return c.reduceRight((E,b,S)=>{let j,W=!1,G=null,Y=null;i&&(j=d&&b.route.id?d[b.route.id]:void 0,G=b.route.errorElement||pb,g&&(m<0&&S===0?(H0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,Y=null):m===S&&(W=!0,Y=b.route.hydrateFallbackElement||null)));let rt=e.concat(c.slice(0,S+1)),it=()=>{let ut;return j?ut=G:W?ut=Y:b.route.Component?ut=H.createElement(b.route.Component,null):b.route.element?ut=b.route.element:ut=E,H.createElement(yb,{match:b,routeContext:{outlet:E,matches:rt,isDataRoute:i!=null},children:ut})};return i&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?H.createElement(k0,{location:i.location,revalidation:i.revalidation,component:G,error:j,children:it(),routeContext:{outlet:null,matches:rt,isDataRoute:!0},onError:y}):it()},null)}function tm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _b(r){let e=H.useContext(Js);return Ee(e,tm(r)),e}function Eb(r){let e=H.useContext(kc);return Ee(e,tm(r)),e}function Tb(r){let e=H.useContext(fi);return Ee(e,tm(r)),e}function em(r){let e=Tb(r),i=e.matches[e.matches.length-1];return Ee(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function bb(){return em("useRouteId")}function Ab(){let r=H.useContext(Wd),e=Eb("useRouteError"),i=em("useRouteError");return r!==void 0?r:e.errors?.[i]}function Sb(){let{router:r}=_b("useNavigate"),e=em("useNavigate"),i=H.useRef(!1);return P0(()=>{i.current=!0}),H.useCallback(async(o,c={})=>{Wn(i.current,z0),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var yv={};function H0(r,e,i){!e&&!yv[r]&&(yv[r]=!0,Wn(!1,i))}H.memo(wb);function wb({routes:r,future:e,state:i,onError:s}){return B0(r,void 0,i,s,e)}function xb({to:r,replace:e,state:i,relative:s}){Ee(Ws(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Un);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(fi),{pathname:d}=rr(),g=Hc(),m=Jd(r,Zd(c),d,s==="path"),y=JSON.stringify(m);return H.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:s})},[g,y,s,e,i]),null}function gc(r){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rb({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Ee(!Ws(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:g,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[g,o,c,d]);typeof i=="string"&&(i=qr(i));let{pathname:y="/",search:E="",hash:b="",state:S=null,key:j="default"}=i,W=H.useMemo(()=>{let G=ca(y,g);return G==null?null:{location:{pathname:G,search:E,hash:b,state:S,key:j},navigationType:s}},[g,y,E,b,S,j,s]);return Wn(W!=null,`<Router basename="${g}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:H.createElement(Un.Provider,{value:m},H.createElement(No.Provider,{children:e,value:W}))}function Cb({children:r,location:e}){return db(Rd(r),e)}function Rd(r,e=[]){let i=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let c=[...e,o];if(s.type===H.Fragment){i.push.apply(i,Rd(s.props.children,c));return}Ee(s.type===gc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Rd(s.props.children,c)),i.push(d)}),i}var yc="get",vc="application/x-www-form-urlencoded";function qc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Db(r){return qc(r)&&r.tagName.toLowerCase()==="button"}function Nb(r){return qc(r)&&r.tagName.toLowerCase()==="form"}function Vb(r){return qc(r)&&r.tagName.toLowerCase()==="input"}function Ib(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ob(r,e){return r.button===0&&(!e||e==="_self")&&!Ib(r)}var cc=null;function Mb(){if(cc===null)try{new FormData(document.createElement("form"),0),cc=!1}catch{cc=!0}return cc}var jb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(r){return r!=null&&!jb.has(r)?(Wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vc}"`),null):r}function Lb(r,e){let i,s,o,c,d;if(Nb(r)){let g=r.getAttribute("action");s=g?ca(g,e):null,i=r.getAttribute("method")||yc,o=hd(r.getAttribute("enctype"))||vc,c=new FormData(r)}else if(Db(r)||Vb(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(s=m?ca(m,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||yc,o=hd(r.getAttribute("formenctype"))||hd(g.getAttribute("enctype"))||vc,c=new FormData(g,r),!Mb()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(qc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=yc,s=null,o=vc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ub(r,e,i,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ca(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function zb(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Bb(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await zb(c,i);return d.links?d.links():[]}return[]}));return Fb(s.flat(1).filter(Pb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(r,e,i,s,o,c){let d=(m,y)=>i[y]?m.route.id!==i[y].route.id:!0,g=(m,y)=>i[y].pathname!==m.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,y)=>d(m,y)||g(m,y)):c==="data"?e.filter((m,y)=>{let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(d(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kb(r,e,{includeHydrateFallback:i}={}){return Hb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Hb(r){return[...new Set(r)]}function qb(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function Fb(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(qb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function q0(){let r=H.useContext(Js);return nm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Gb(){let r=H.useContext(kc);return nm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var im=H.createContext(void 0);im.displayName="FrameworkContext";function F0(){let r=H.useContext(im);return nm(r,"You must render this element inside a <HydratedRouter> element"),r}function Qb(r,e){let i=H.useContext(im),[s,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,S=H.useRef(null);H.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let G=rt=>{rt.forEach(it=>{d(it.isIntersecting)})},Y=new IntersectionObserver(G,{threshold:.5});return S.current&&Y.observe(S.current),()=>{Y.disconnect()}}},[r]),H.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let j=()=>{o(!0)},W=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,S,{}]:[c,S,{onFocus:lo(g,j),onBlur:lo(m,W),onMouseEnter:lo(y,j),onMouseLeave:lo(E,W),onTouchStart:lo(b,j)}]:[!1,S,{}]}function lo(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function Yb({page:r,...e}){let{router:i}=q0(),s=H.useMemo(()=>N0(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?H.createElement(Xb,{page:r,matches:s,...e}):null}function Kb(r){let{manifest:e,routeModules:i}=F0(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return Bb(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function Xb({page:r,matches:e,...i}){let s=rr(),{future:o,manifest:c,routeModules:d}=F0(),{basename:g}=q0(),{loaderData:m,matches:y}=Gb(),E=H.useMemo(()=>vv(r,e,y,c,s,"data"),[r,e,y,c,s]),b=H.useMemo(()=>vv(r,e,y,c,s,"assets"),[r,e,y,c,s]),S=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,Y=!1;if(e.forEach(it=>{let ut=c.routes[it.route.id];!ut||!ut.hasLoader||(!E.some(mt=>mt.route.id===it.route.id)&&it.route.id in m&&d[it.route.id]?.shouldRevalidate||ut.hasClientLoader?Y=!0:G.add(it.route.id))}),G.size===0)return[];let rt=Ub(r,g,o.unstable_trailingSlashAwareDataRequests,"data");return Y&&G.size>0&&rt.searchParams.set("_routes",e.filter(it=>G.has(it.route.id)).map(it=>it.route.id).join(",")),[rt.pathname+rt.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,s,c,E,e,r,d]),j=H.useMemo(()=>kb(b,c),[b,c]),W=Kb(b);return H.createElement(H.Fragment,null,S.map(G=>H.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...i})),j.map(G=>H.createElement("link",{key:G,rel:"modulepreload",href:G,...i})),W.map(({key:G,link:Y})=>H.createElement("link",{key:G,nonce:i.nonce,...Y,crossOrigin:Y.crossOrigin??i.crossOrigin})))}function $b(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zb&&(window.__reactRouterVersion="7.13.0")}catch{}function Jb({basename:r,children:e,unstable_useTransitions:i,window:s}){let o=H.useRef();o.current==null&&(o.current=NT({window:s,v5Compat:!0}));let c=o.current,[d,g]=H.useState({action:c.action,location:c.location}),m=H.useCallback(y=>{i===!1?g(y):H.startTransition(()=>g(y))},[i]);return H.useLayoutEffect(()=>c.listen(m),[c,m]),H.createElement(Rb,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i})}var G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q0=H.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:m,to:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...j},W){let{basename:G,unstable_useTransitions:Y}=H.useContext(Un),rt=typeof y=="string"&&G0.test(y),it=M0(y,G);y=it.to;let ut=cb(y,{relative:o}),[mt,wt,Ct]=Qb(s,j),D=nA(y,{replace:d,state:g,target:m,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:Y});function x(M){e&&e(M),M.defaultPrevented||D(M)}let R=H.createElement("a",{...j,...Ct,href:it.absoluteURL||ut,onClick:it.isExternal||c?e:x,ref:$b(W,wt),target:m,"data-discover":!rt&&i==="render"?"true":void 0});return mt&&!rt?H.createElement(H.Fragment,null,R,H.createElement(Yb,{page:ut})):R});Q0.displayName="Link";var Wb=H.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:m,...y},E){let b=Vo(d,{relative:y.relative}),S=rr(),j=H.useContext(kc),{navigator:W,basename:G}=H.useContext(Un),Y=j!=null&&lA(b)&&g===!0,rt=W.encodeLocation?W.encodeLocation(b).pathname:b.pathname,it=S.pathname,ut=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(it=it.toLowerCase(),ut=ut?ut.toLowerCase():null,rt=rt.toLowerCase()),ut&&G&&(ut=ca(ut,G)||ut);const mt=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let wt=it===rt||!o&&it.startsWith(rt)&&it.charAt(mt)==="/",Ct=ut!=null&&(ut===rt||!o&&ut.startsWith(rt)&&ut.charAt(rt.length)==="/"),D={isActive:wt,isPending:Ct,isTransitioning:Y},x=wt?e:void 0,R;typeof s=="function"?R=s(D):R=[s,wt?"active":null,Ct?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(D):c;return H.createElement(Q0,{...y,"aria-current":x,className:R,ref:E,style:M,to:d,viewTransition:g},typeof m=="function"?m(D):m)});Wb.displayName="NavLink";var tA=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=yc,action:g,onSubmit:m,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...j},W)=>{let{unstable_useTransitions:G}=H.useContext(Un),Y=rA(),rt=sA(g,{relative:y}),it=d.toLowerCase()==="get"?"get":"post",ut=typeof g=="string"&&G0.test(g),mt=wt=>{if(m&&m(wt),wt.defaultPrevented)return;wt.preventDefault();let Ct=wt.nativeEvent.submitter,D=Ct?.getAttribute("formmethod")||d,x=()=>Y(Ct||wt.currentTarget,{fetcherKey:e,method:D,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S});G&&i!==!1?H.startTransition(()=>x()):x()};return H.createElement("form",{ref:W,method:it,action:rt,onSubmit:s?m:mt,...j,"data-discover":!ut&&r==="render"?"true":void 0})});tA.displayName="Form";function eA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y0(r){let e=H.useContext(Js);return Ee(e,eA(r)),e}function nA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let y=Hc(),E=rr(),b=Vo(r,{relative:c});return H.useCallback(S=>{if(Ob(S,e)){S.preventDefault();let j=i!==void 0?i:_o(E)===_o(b),W=()=>y(r,{replace:j,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g});m?H.startTransition(()=>W()):W()}},[E,y,b,i,s,e,r,o,c,d,g,m])}var iA=0,aA=()=>`__${String(++iA)}__`;function rA(){let{router:r}=Y0("useSubmit"),{basename:e}=H.useContext(Un),i=bb(),s=r.fetch,o=r.navigate;return H.useCallback(async(c,d={})=>{let{action:g,method:m,encType:y,formData:E,body:b}=Lb(c,e);if(d.navigate===!1){let S=d.fetcherKey||aA();await s(S,i,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:b,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:b,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,i])}function sA(r,{relative:e}={}){let{basename:i}=H.useContext(Un),s=H.useContext(fi);Ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Vo(r||".",{relative:e})},d=rr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),m=g.getAll("index");if(m.some(E=>E==="")){g.delete("index"),m.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ua([i,c.pathname])),_o(c)}function lA(r,{relative:e}={}){let i=H.useContext(L0);Ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Y0("useViewTransitionState"),o=Vo(r,{relative:e});if(!i.isTransitioning)return!1;let c=ca(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=ca(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wc(o.pathname,d)!=null||wc(o.pathname,c)!=null}const oA=()=>{};var _v={};const K0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},uA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,m=o+2<r.length,y=m?r[o+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let S=(g&15)<<2|y>>6,j=y&63;m||(j=64,d||(S=64)),s.push(i[E],i[b],i[S],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(K0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):uA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||b==null)throw new cA;const S=c<<2|g>>4;if(s.push(S),y!==64){const j=g<<4&240|y>>2;if(s.push(j),b!==64){const W=y<<6&192|b;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(r){const e=K0(r);return X0.encodeByteArray(e,!0)},xc=function(r){return hA(r).replace(/\./g,"")},fA=function(r){try{return X0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mA=()=>dA().__FIREBASE_DEFAULTS__,pA=()=>{if(typeof process>"u"||typeof _v>"u")return;const r=_v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fA(r[1]);return e&&JSON.parse(e)},am=()=>{try{return oA()||mA()||pA()||gA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yA=r=>am()?.emulatorHosts?.[r],vA=r=>{const e=yA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},$0=()=>am()?.config;class _A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function rm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EA(r){return(await fetch(r,{credentials:"include"})).ok}function TA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const mo={};function bA(){const r={prod:[],emulator:[]};for(const e of Object.keys(mo))mo[e]?r.emulator.push(e):r.prod.push(e);return r}function AA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Ev=!1;function SA(r,e){if(typeof window>"u"||typeof document>"u"||!rm(window.location.host)||mo[r]===e||mo[r]||Ev)return;mo[r]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=bA().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Ev=!0,d()},S}function E(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=AA(s),j=i("text"),W=document.getElementById(j)||document.createElement("span"),G=i("learnmore"),Y=document.getElementById(G)||document.createElement("a"),rt=i("preprendIcon"),it=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ut=S.element;g(ut),E(Y,G);const mt=y();m(it,rt),ut.append(it,W,Y,mt),document.body.appendChild(ut)}c?(W.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function wA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xA(){const r=am()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RA(){return!xA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function DA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const NA="FirebaseError";class tl extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=NA,Object.setPrototypeOf(this,tl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z0.prototype.create)}}class Z0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?VA(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new tl(o,g,s)}}function VA(r,e){return r.replace(IA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IA=/\{\$([^}]+)}/g;function Eo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(Tv(c)&&Tv(d)){if(!Eo(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Tv(r){return r!==null&&typeof r=="object"}function Ja(r){return r&&r._delegate?r._delegate:r}class To{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ur="[DEFAULT]";class OA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new _A;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jA(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===Ur?void 0:r}function jA(r){return r.instantiationMode==="EAGER"}class LA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new OA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ft||(Ft={}));const UA={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},zA=Ft.INFO,PA={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},BA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=PA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J0{constructor(e){this.name=e,this._logLevel=zA,this._logHandler=BA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const kA=(r,e)=>e.some(i=>r instanceof i);let bv,Av;function HA(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,Cd=new WeakMap,t_=new WeakMap,fd=new WeakMap,sm=new WeakMap;function FA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ka(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&W0.set(i,r)}).catch(()=>{}),sm.set(e,r),e}function GA(r){if(Cd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Cd.set(r,e)}let Dd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Cd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||t_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ka(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QA(r){Dd=r(Dd)}function YA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(dd(this),e,...i);return t_.set(s,e.sort?e.sort():[e]),Ka(s)}:qA().includes(r)?function(...e){return r.apply(dd(this),e),Ka(W0.get(this))}:function(...e){return Ka(r.apply(dd(this),e))}}function KA(r){return typeof r=="function"?YA(r):(r instanceof IDBTransaction&&GA(r),kA(r,HA())?new Proxy(r,Dd):r)}function Ka(r){if(r instanceof IDBRequest)return FA(r);if(fd.has(r))return fd.get(r);const e=KA(r);return e!==r&&(fd.set(r,e),sm.set(e,r)),e}const dd=r=>sm.get(r);function XA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=Ka(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Ka(d.result),m.oldVersion,m.newVersion,Ka(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),g.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const $A=["get","getKey","getAll","getAllKeys","count"],ZA=["put","add","delete","clear"],md=new Map;function Sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=ZA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$A.includes(i)))return;const c=async function(d,...g){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&m.done]))[0]};return md.set(e,c),c}QA(r=>({...r,get:(e,i,s)=>Sv(e,i)||r.get(e,i,s),has:(e,i)=>!!Sv(e,i)||r.has(e,i)}));class JA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function WA(r){return r.getComponent()?.type==="VERSION"}const Nd="@firebase/app",wv="0.14.8";const ha=new J0("@firebase/app"),tS="@firebase/app-compat",eS="@firebase/analytics-compat",nS="@firebase/analytics",iS="@firebase/app-check-compat",aS="@firebase/app-check",rS="@firebase/auth",sS="@firebase/auth-compat",lS="@firebase/database",oS="@firebase/data-connect",uS="@firebase/database-compat",cS="@firebase/functions",hS="@firebase/functions-compat",fS="@firebase/installations",dS="@firebase/installations-compat",mS="@firebase/messaging",pS="@firebase/messaging-compat",gS="@firebase/performance",yS="@firebase/performance-compat",vS="@firebase/remote-config",_S="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",bS="@firebase/firestore",AS="@firebase/ai",SS="@firebase/firestore-compat",wS="firebase",xS="12.9.0";const Vd="[DEFAULT]",RS={[Nd]:"fire-core",[tS]:"fire-core-compat",[nS]:"fire-analytics",[eS]:"fire-analytics-compat",[aS]:"fire-app-check",[iS]:"fire-app-check-compat",[rS]:"fire-auth",[sS]:"fire-auth-compat",[lS]:"fire-rtdb",[oS]:"fire-data-connect",[uS]:"fire-rtdb-compat",[cS]:"fire-fn",[hS]:"fire-fn-compat",[fS]:"fire-iid",[dS]:"fire-iid-compat",[mS]:"fire-fcm",[pS]:"fire-fcm-compat",[gS]:"fire-perf",[yS]:"fire-perf-compat",[vS]:"fire-rc",[_S]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[bS]:"fire-fst",[SS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[wS]:"fire-js-all"};const Rc=new Map,CS=new Map,Id=new Map;function xv(r,e){try{r.container.addComponent(e)}catch(i){ha.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Cc(r){const e=r.name;if(Id.has(e))return ha.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,r);for(const i of Rc.values())xv(i,r);for(const i of CS.values())xv(i,r);return!0}function DS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function NS(r){return r==null?!1:r.settings!==void 0}const VS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new Z0("app","Firebase",VS);class IS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new To("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}const OS=xS;function e_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Vd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(i||(i=$0()),!i)throw Xa.create("no-options");const c=Rc.get(o);if(c){if(Eo(i,c.options)&&Eo(s,c.config))return c;throw Xa.create("duplicate-app",{appName:o})}const d=new LA(o);for(const m of Id.values())d.addComponent(m);const g=new IS(i,s,d);return Rc.set(o,g),g}function MS(r=Vd){const e=Rc.get(r);if(!e&&r===Vd&&$0())return e_();if(!e)throw Xa.create("no-app",{appName:r});return e}function Bs(r,e,i){let s=RS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ha.warn(d.join(" "));return}Cc(new To(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const jS="firebase-heartbeat-database",LS=1,bo="firebase-heartbeat-store";let pd=null;function n_(){return pd||(pd=XA(jS,LS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(bo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xa.create("idb-open",{originalErrorMessage:r.message})})),pd}async function US(r){try{const i=(await n_()).transaction(bo),s=await i.objectStore(bo).get(i_(r));return await i.done,s}catch(e){if(e instanceof tl)ha.warn(e.message);else{const i=Xa.create("idb-get",{originalErrorMessage:e?.message});ha.warn(i.message)}}}async function Rv(r,e){try{const s=(await n_()).transaction(bo,"readwrite");await s.objectStore(bo).put(e,i_(r)),await s.done}catch(i){if(i instanceof tl)ha.warn(i.message);else{const s=Xa.create("idb-set",{originalErrorMessage:i?.message});ha.warn(s.message)}}}function i_(r){return`${r.name}!${r.options.appId}`}const zS=1024,PS=30;class BS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>PS){const o=qS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ha.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:i,unsentEntries:s}=kS(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ha.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function kS(r,e=zS){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Dv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Dv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class HS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?DA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await US(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Dv(r){return xc(JSON.stringify({version:2,heartbeats:r})).length}function qS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function FS(r){Cc(new To("platform-logger",e=>new JA(e),"PRIVATE")),Cc(new To("heartbeat",e=>new BS(e),"PRIVATE")),Bs(Nd,wv,r),Bs(Nd,wv,"esm2020"),Bs("fire-js","")}FS("");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $a,a_;(function(){var r;function e(D,x){function R(){}R.prototype=x.prototype,D.F=x.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,V,U){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return x.prototype[V].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,x,R){R||(R=0);const M=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)M[V]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=D.g[0],R=D.g[1],V=D.g[2];let U=D.g[3],C;C=x+(U^R&(V^U))+M[0]+3614090360&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(V^x&(R^V))+M[1]+3905402710&4294967295,U=x+(C<<12&4294967295|C>>>20),C=V+(R^U&(x^R))+M[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(x^V&(U^x))+M[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(U^R&(V^U))+M[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(V^x&(R^V))+M[5]+1200080426&4294967295,U=x+(C<<12&4294967295|C>>>20),C=V+(R^U&(x^R))+M[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(x^V&(U^x))+M[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(U^R&(V^U))+M[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(V^x&(R^V))+M[9]+2336552879&4294967295,U=x+(C<<12&4294967295|C>>>20),C=V+(R^U&(x^R))+M[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(x^V&(U^x))+M[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(U^R&(V^U))+M[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(V^x&(R^V))+M[13]+4254626195&4294967295,U=x+(C<<12&4294967295|C>>>20),C=V+(R^U&(x^R))+M[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(x^V&(U^x))+M[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(V^U&(R^V))+M[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(x^R))+M[6]+3225465664&4294967295,U=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(U^x))+M[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(V^U))+M[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^U&(R^V))+M[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(x^R))+M[10]+38016083&4294967295,U=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(U^x))+M[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(V^U))+M[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^U&(R^V))+M[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(x^R))+M[14]+3275163606&4294967295,U=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(U^x))+M[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(V^U))+M[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^U&(R^V))+M[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(x^R))+M[2]+4243563512&4294967295,U=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(U^x))+M[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(V^U))+M[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(R^V^U)+M[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^V)+M[8]+2272392833&4294967295,U=x+(C<<11&4294967295|C>>>21),C=V+(U^x^R)+M[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^x)+M[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^U)+M[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^V)+M[4]+1272893353&4294967295,U=x+(C<<11&4294967295|C>>>21),C=V+(U^x^R)+M[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^x)+M[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^U)+M[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^V)+M[0]+3936430074&4294967295,U=x+(C<<11&4294967295|C>>>21),C=V+(U^x^R)+M[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^x)+M[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^U)+M[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^V)+M[12]+3873151461&4294967295,U=x+(C<<11&4294967295|C>>>21),C=V+(U^x^R)+M[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^x)+M[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(V^(R|~U))+M[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~V))+M[7]+1126891415&4294967295,U=x+(C<<10&4294967295|C>>>22),C=V+(x^(U|~R))+M[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~x))+M[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~U))+M[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~V))+M[3]+2399980690&4294967295,U=x+(C<<10&4294967295|C>>>22),C=V+(x^(U|~R))+M[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~x))+M[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~U))+M[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~V))+M[15]+4264355552&4294967295,U=x+(C<<10&4294967295|C>>>22),C=V+(x^(U|~R))+M[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~x))+M[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~U))+M[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~V))+M[11]+3174756917&4294967295,U=x+(C<<10&4294967295|C>>>22),C=V+(x^(U|~R))+M[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~x))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,x){x===void 0&&(x=D.length);const R=x-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<x;){if(V==0)for(;U<=R;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<x;)if(M[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<x;)if(M[V++]=D[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[x++]=this.g[R]>>>M&255;return D};function c(D,x){var R=g;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=x(D)}function d(D,x){this.h=x;const R=[];let M=!0;for(let V=D.length-1;V>=0;V--){const U=D[V]|0;M&&U==x||(R[V]=U,M=!1)}this.g=R}var g={};function m(D){return-128<=D&&D<128?c(D,function(x){return new d([x|0],x<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return Y(y(-D));const x=[];let R=1;for(let M=0;D>=R;M++)x[M]=D/R|0,R*=4294967296;return new d(x,0)}function E(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return Y(E(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(x,8));let M=b;for(let U=0;U<D.length;U+=8){var V=Math.min(8,D.length-U);const C=parseInt(D.substring(U,U+V),x);V<8?(V=y(Math.pow(x,V)),M=M.j(V).add(y(C))):(M=M.j(R),M=M.add(y(C)))}return M}var b=m(0),S=m(1),j=m(16777216);r=d.prototype,r.m=function(){if(G(this))return-Y(this).m();let D=0,x=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*x,x*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(G(this))return"-"+Y(this).toString(D);const x=y(Math.pow(D,6));var R=this;let M="";for(;;){const V=mt(R,x).g;R=rt(R,V.j(x));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=V,W(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function G(D){return D.h==-1}r.l=function(D){return D=rt(this,D),G(D)?-1:W(D)?0:1};function Y(D){const x=D.g.length,R=[];for(let M=0;M<x;M++)R[M]=~D.g[M];return new d(R,~D.h).add(S)}r.abs=function(){return G(this)?Y(this):this},r.add=function(D){const x=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let V=0;V<=x;V++){let U=M+(this.i(V)&65535)+(D.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=C>>>16,U&=65535,C&=65535,R[V]=C<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function rt(D,x){return D.add(Y(x))}r.j=function(D){if(W(this)||W(D))return b;if(G(this))return G(D)?Y(this).j(Y(D)):Y(Y(this).j(D));if(G(D))return Y(this.j(Y(D)));if(this.l(j)<0&&D.l(j)<0)return y(this.m()*D.m());const x=this.g.length+D.g.length,R=[];for(var M=0;M<2*x;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<D.g.length;V++){const U=this.i(M)>>>16,C=this.i(M)&65535,ie=D.i(V)>>>16,Wt=D.i(V)&65535;R[2*M+2*V]+=C*Wt,it(R,2*M+2*V),R[2*M+2*V+1]+=U*Wt,it(R,2*M+2*V+1),R[2*M+2*V+1]+=C*ie,it(R,2*M+2*V+1),R[2*M+2*V+2]+=U*ie,it(R,2*M+2*V+2)}for(D=0;D<x;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=x;D<2*x;D++)R[D]=0;return new d(R,0)};function it(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function ut(D,x){this.g=D,this.h=x}function mt(D,x){if(W(x))throw Error("division by zero");if(W(D))return new ut(b,b);if(G(D))return x=mt(Y(D),x),new ut(Y(x.g),Y(x.h));if(G(x))return x=mt(D,Y(x)),new ut(Y(x.g),x.h);if(D.g.length>30){if(G(D)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=x;M.l(D)<=0;)R=wt(R),M=wt(M);var V=Ct(R,1),U=Ct(M,1);for(M=Ct(M,2),R=Ct(R,2);!W(M);){var C=U.add(M);C.l(D)<=0&&(V=V.add(R),U=C),M=Ct(M,1),R=Ct(R,1)}return x=rt(D,V.j(x)),new ut(V,x)}for(V=b;D.l(x)>=0;){for(R=Math.max(1,Math.floor(D.m()/x.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(R),C=U.j(x);G(C)||C.l(D)>0;)R-=M,U=y(R),C=U.j(x);W(U)&&(U=S),V=V.add(U),D=rt(D,C)}return new ut(V,D)}r.B=function(D){return mt(this,D).h},r.and=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)&D.i(M);return new d(R,this.h&D.h)},r.or=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)|D.i(M);return new d(R,this.h|D.h)},r.xor=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)^D.i(M);return new d(R,this.h^D.h)};function wt(D){const x=D.g.length+1,R=[];for(let M=0;M<x;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(R,D.h)}function Ct(D,x){const R=x>>5;x%=32;const M=D.g.length-R,V=[];for(let U=0;U<M;U++)V[U]=x>0?D.i(U+R)>>>x|D.i(U+R+1)<<32-x:D.i(U+R);return new d(V,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,a_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,$a=d}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var r_,uo,s_,_c,Od,l_,o_,u_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,p){if(p)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var _=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&_.push([A,p[A]]);return _}});var c=c||{},d=this||self;function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function m(u,p,_){return u.call.apply(u.bind,arguments)}function y(u,p,_){return y=m,y.apply(null,arguments)}function E(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,z,q){for(var ot=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ot[Vt-2]=arguments[Vt];return p.prototype[z].apply(A,ot)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const p=u.length;if(p>0){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function W(u,p){for(let A=1;A<arguments.length;A++){const z=arguments[A];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=u.length||0;const q=z.length||0;u.length=_+q;for(let ot=0;ot<q;ot++)u[_+ot]=z[ot]}else u.push(z)}}class G{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Y(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=D;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class it{constructor(){this.h=this.g=null}add(p,_){const A=ut.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new G(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Ct=!1,D=new it,x=()=>{const u=Promise.resolve(void 0);wt=()=>{u.then(R)}};function R(){for(var u;u=rt();){try{u.h.call(u.g)}catch(_){Y(_)}var p=ut;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ie(u,p){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}b(ie,V),ie.prototype.init=function(u,p){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function st(u,p,_,A,z){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=z,this.key=++Q,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function Ht(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function I(u){const p={};for(const _ in u)p[_]=u[_];return p}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(u,p){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let q=0;q<J.length;q++)_=J[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,p,_,A,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ot=at(u,p,A,z);return ot>-1?(p=u[ot],_||(p.fa=!1)):(p=new st(p,this.src,q,!!A,z),p.fa=_,u.push(p)),p};function K(u,p){const _=p.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,p,void 0),q;(q=z>=0)&&Array.prototype.splice.call(A,z,1),q&&(pt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function at(u,p,_,A){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==A)return z}return-1}var $="closure_lm_"+(Math.random()*1e6|0),Et={};function yt(u,p,_,A,z){if(Array.isArray(p)){for(let q=0;q<p.length;q++)yt(u,p[q],_,A,z);return null}return _=Ke(_),u&&u[Wt]?u.J(p,_,g(A)?!!A.capture:!1,z):Zt(u,p,_,!1,A,z)}function Zt(u,p,_,A,z,q){if(!p)throw Error("Invalid event type");const ot=g(z)?!!z.capture:!!z;let Vt=zn(u);if(Vt||(u[$]=Vt=new lt(u)),_=Vt.add(p,_,A,ot,q),_.proxy)return _;if(A=ce(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)U||(z=ot),z===void 0&&(z=!1),u.addEventListener(p.toString(),A,z);else if(u.attachEvent)u.attachEvent(we(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ce(){function u(_){return p.call(u.src,u.listener,_)}const p=dn;return u}function Gt(u,p,_,A,z){if(Array.isArray(p))for(var q=0;q<p.length;q++)Gt(u,p[q],_,A,z);else A=g(A)?!!A.capture:!!A,_=Ke(_),u&&u[Wt]?(u=u.i,q=String(p).toString(),q in u.g&&(p=u.g[q],_=at(p,_,A,z),_>-1&&(pt(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[q],u.h--)))):u&&(u=zn(u))&&(p=u.g[p.toString()],u=-1,p&&(u=at(p,_,A,z)),(_=u>-1?p[u]:null)&&ge(_))}function ge(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Wt])K(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(we(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=zn(p))?(K(_,u),_.h==0&&(_.src=null,p[$]=null)):pt(u)}}}function we(u){return u in Et?Et[u]:Et[u]="on"+u}function dn(u,p){if(u.da)u=!0;else{p=new ie(p,this);const _=u.listener,A=u.ha||u.src;u.fa&&ge(u),u=_.call(A,p)}return u}function zn(u){return u=u[$],u instanceof lt?u:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ke(u){return typeof u=="function"?u:(u[di]||(u[di]=function(p){return u.handleEvent(p)}),u[di])}function Kt(){M.call(this),this.i=new lt(this),this.M=this,this.G=null}b(Kt,M),Kt.prototype[Wt]=!0,Kt.prototype.removeEventListener=function(u,p,_,A){Gt(this,u,p,_,A)};function ue(u,p){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new V(p,u);else if(p instanceof V)p.target=p.target||u;else{var z=p;p=new V(A,u),ct(p,z)}z=!0;let q,ot;if(_)for(ot=_.length-1;ot>=0;ot--)q=p.g=_[ot],z=Pn(q,A,!0,p)&&z;if(q=p.g=u,z=Pn(q,A,!0,p)&&z,z=Pn(q,A,!1,p)&&z,_)for(ot=0;ot<_.length;ot++)q=p.g=_[ot],z=Pn(q,A,!1,p)&&z}Kt.prototype.N=function(){if(Kt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let A=0;A<_.length;A++)pt(_[A]);delete u.g[p],u.h--}}this.G=null},Kt.prototype.J=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},Kt.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function Pn(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let q=0;q<p.length;++q){const ot=p[q];if(ot&&!ot.da&&ot.capture==_){const Vt=ot.listener,Ce=ot.ha||ot.src;ot.fa&&K(u.i,ot),z=Vt.call(Ce,A)!==!1&&z}}return z&&!A.defaultPrevented}function mn(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function or(u){u.g=mn(()=>{u.g=null,u.i&&(u.i=!1,or(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Xe extends M{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){M.call(this),this.h=u,this.g={}}b(qi,M);var ft=[];function Te(u){Mt(u.g,function(p,_){this.g.hasOwnProperty(_)&&ge(p)},u),u.g={}}qi.prototype.N=function(){qi.Z.N.call(this),Te(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=d.JSON.stringify,ma=d.JSON.parse,Qr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function rl(){}function Yr(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ie(){V.call(this,"d")}b(Ie,V);function ye(){V.call(this,"c")}b(ye,V);var be={},Po=null;function Kr(){return Po=Po||new Kt}be.Ia="serverreachability";function Bo(u){V.call(this,be.Ia,u)}b(Bo,V);function mi(u){const p=Kr();ue(p,new Bo(p))}be.STAT_EVENT="statevent";function ur(u,p){V.call(this,be.STAT_EVENT,u),this.stat=p}b(ur,V);function Oe(u){const p=Kr();ue(p,new ur(p,u))}be.Ja="timingevent";function pi(u,p){V.call(this,be.Ja,u),this.size=p}b(pi,V);function gi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function sh(u,p,_,A,z,q){u.info(function(){if(u.g)if(q){var ot="",Vt=q.split("&");for(let Xt=0;Xt<Vt.length;Xt++){var Ce=Vt[Xt].split("=");if(Ce.length>1){const ve=Ce[0];Ce=Ce[1];const qn=ve.split("_");ot=qn.length>=2&&qn[1]=="type"?ot+(ve+"="+Ce+"&"):ot+(ve+"=redacted&")}}}else ot=null;else ot=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+_+`
`+ot})}function ko(u,p,_,A,z,q,ot){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+_+`
`+q+" "+ot})}function yi(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+lh(u,_)+(A?" "+A:"")})}function cr(u,p){u.info(function(){return"TIMEOUT: "+p})}ti.prototype.info=function(){};function lh(u,p){if(!u.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return Tt(q)}catch{return p}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function fr(){}b(fr,rl),fr.prototype.g=function(){return new XMLHttpRequest},ll=new fr;function Fi(u){return encodeURIComponent(String(u))}function Ho(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function ei(u,p,_,A){this.j=u,this.i=p,this.l=_,this.S=A||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Me={},$e={};function vi(u,p,_){u.M=1,u.A=dr(Le(p)),u.u=_,u.R=!0,Xr(u,null)}function Xr(u,p){u.F=Date.now(),_i(u),u.B=Le(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Wr(_.i,"t",A),u.C=0,_=u.j.L,u.h=new ni,u.g=iu(u.j,_?p:null,!u.u),u.P>0&&(u.O=new Xe(y(u.Y,u,u.g),u.P)),p=u.V,_=u.g,A=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(ft[0]=z.toString()),z=ft);for(let q=0;q<z.length;q++){const ot=yt(_,z[q],A||p.handleEvent,!1,p.h||p);if(!ot)break;p.g[ot.key]=ot}p=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),mi(),sh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const p=this.O;p&&ri(u)==3?p.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)t:{const Vt=ri(this.g),Ce=this.g.ya(),Xt=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Vt!=4||Ce==7||(Ce==8||Xt<=0?mi(3):mi(2)),Ei(this);var p=this.g.ca();this.X=p;var _=oh(this);if(this.o=p==200,ko(this.i,this.v,this.B,this.l,this.S,Vt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(u=q)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Oe(12),Rn(this),Bn(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<_.length;)if(ve=Fo(this,_),ve==$e){Vt==4&&(this.m=4,Oe(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Me){this.m=4,Oe(15),yi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,ve,null),Ti(this,ve);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||_.length!=0||this.h.h||(this.m=1,Oe(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,_,"[Invalid Chunked Response]"),Rn(this),Bn(this);else if(_.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),bl(ot),ot.P=!0,Oe(11))}}else yi(this.i,this.l,_,null),Ti(this,_);Vt==4&&Rn(this),this.o&&!this.K&&(Vt==4?Wo(this.j,this):(this.o=!1,_i(this)))}else Qi(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),Rn(this),Bn(this)}}}catch{}};function oh(u){if(!qo(u))return u.g.la();const p=tn(u.g);if(p==="")return"";let _="";const A=p.length,z=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,_+=u.h.i.decode(p[q],{stream:!(z&&q==A-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function qo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Fo(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?$e:(_=Number(p.substring(_,A)),isNaN(_)?Me:(A+=1,A+_>p.length?$e:(p=p.slice(A,A+_),u.C=A+_,p)))}ei.prototype.cancel=function(){this.K=!0,Rn(this)};function _i(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(y(u.aa,u),p)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cr(this.i,this.B),this.M!=2&&(mi(),Oe(17)),Rn(this),this.m=2,Bn(this)):$r(this,this.T-u)};function Bn(u){u.j.I==0||u.K||Wo(u.j,u)}function Rn(u){Ei(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Te(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Ti(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||Ai(_.h,u))){if(!u.L&&Ai(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)as(_),ba(_);else break t;Er(_),Oe(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=gi(y(_.Va,_),6e3));bi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Di(_,11)}else if((u.L||_.g==u)&&as(_),!C(p))for(z=_.Ba.g.parse(p),p=0;p<z.length;p++){let Xt=z[p];const ve=Xt[0];if(!(ve<=_.K))if(_.K=ve,Xt=Xt[1],_.I==2)if(Xt[0]=="c"){_.M=Xt[1],_.ba=Xt[2];const qn=Xt[3];qn!=null&&(_.ka=qn,_.j.info("VER="+_.ka));const Ni=Xt[4];Ni!=null&&(_.za=Ni,_.j.info("SVER="+_.za));const si=Xt[5];si!=null&&typeof si=="number"&&si>0&&(A=1.5*si,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const li=u.g;if(li){const Tr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var q=A.h;q.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(cl(q,q.h),q.h=null))}if(A.G){const rs=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;rs&&(A.wa=rs,te(A.J,A.G,rs))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var ot=u;if(A.na=nu(A,A.L?A.ba:null,A.W),ot.L){hl(A.h,ot);var Vt=ot,Ce=A.O;Ce&&(Vt.H=Ce),Vt.D&&(Ei(Vt),_i(Vt)),A.g=ot}else Zo(A);_.i.length>0&&Ci(_)}else Xt[0]!="stop"&&Xt[0]!="close"||Di(_,7);else _.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Di(_,7):El(_):Xt[0]!="noop"&&_.l&&_.l.qa(Xt),_.A=0)}}mi(4)}catch{}}var je=class{constructor(u,p){this.g=u,this.map=p}};function ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ai(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function cl(u,p){u.g?u.g.add(p):u.h=p}function hl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ol.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return j(u.i)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let z,q=null;A>=0?(z=u[_].substring(0,A),q=u[_].substring(A+1)):z=u[_],p(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Cn?(this.l=u.l,Ze(this,u.j),this.o=u.o,this.g=u.g,pa(this,u.u),this.h=u.h,dl(this,Xo(u.i)),this.m=u.m):u&&(p=String(u).match(Go))?(this.l=!1,Ze(this,p[1]||"",!0),this.o=Si(p[2]||""),this.g=Si(p[3]||"",!0),pa(this,p[4]),this.h=Si(p[5]||"",!0),dl(this,p[6]||"",!0),this.m=Si(p[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}Cn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(mr(p,Jr,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(mr(p,Jr,!0),"@"),u.push(Fi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(mr(_,_.charAt(0)=="/"?ml:Qo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",mr(_,Yo)),u.join("")},Cn.prototype.resolve=function(u){const p=Le(this);let _=!!u.j;_?Ze(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var A=u.h;if(_)pa(p,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=p.h.lastIndexOf("/");z!=-1&&(A=p.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let ot=0;ot<z.length;){const Vt=z[ot++];Vt=="."?A&&ot==z.length&&q.push(""):Vt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ot==z.length&&q.push("")):(q.push(Vt),A=!0)}A=q.join("/")}else A=z}return _?p.h=A:_=u.i.toString()!=="",_?dl(p,Xo(u.i)):_=!!u.m,_&&(p.m=u.m),p};function Le(u){return new Cn(u)}function Ze(u,p,_){u.j=_?Si(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function pa(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function dl(u,p,_){p instanceof ya?(u.i=p,ts(u.i,u.l)):(_||(p=mr(p,ga)),u.i=new ya(p,u.l))}function te(u,p,_){u.i.set(p,_)}function dr(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,yn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jr=/[#\/\?@]/g,Qo=/[#\?:]/g,ml=/[#\?]/g,ga=/[#\?@]/g,Yo=/#/g;function ya(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=ya.prototype,r.add=function(u,p){vn(this),this.i=null,u=va(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Ko(u,p){vn(u),p=va(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function pl(u,p){return vn(u),p=va(u,p),u.g.has(p)}r.forEach=function(u,p){vn(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(p,z,A,this)},this)},this)};function gl(u,p){vn(u);let _=[];if(typeof p=="string")pl(u,p)&&(_=_.concat(u.g.get(va(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}r.set=function(u,p){return vn(this),this.i=null,u=va(this,u),pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=gl(this,u),u.length>0?String(u[0]):p):p};function Wr(u,p,_){Ko(u,p),_.length>0&&(u.i=null,u.g.set(va(u,p),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var _=p[A];const z=Fi(_);_=gl(this,_);for(let q=0;q<_.length;q++){let ot=z;_[q]!==""&&(ot+="="+Fi(_[q])),u.push(ot)}}return this.i=u.join("&")};function Xo(u){const p=new ya;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function va(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function ts(u,p){p&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,A){const z=A.toLowerCase();A!=z&&(Ko(this,A),Wr(this,z,_))},u)),u.j=p}function ii(u,p){const _=new ti;if(d.Image){const A=new Image;A.onload=E(kn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=E(kn,_,"TestLoadImage: error",!1,p,A),A.onabort=E(kn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(kn,_,"TestLoadImage: timeout",!1,p,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function yl(u,p){const _=new ti,A=new AbortController,z=setTimeout(()=>{A.abort(),kn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?kn(_,"TestPingServer: ok",!0,p):kn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),kn(_,"TestPingServer: error",!1,p)})}function kn(u,p,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function _a(){this.g=new Qr}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(wi,rl),wi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,p){Kt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(pr,Kt),r=pr.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,ai(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;es(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function es(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ea(this):ai(this),this.readyState==3&&es(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ea(this))},r.Na=function(u){this.g&&(this.response=u,Ea(this))},r.ga=function(){this.g&&Ea(this)};function Ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ai(u)}r.setRequestHeader=function(u,p){this.A.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let p="";return Mt(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function gr(u,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Hn(_),typeof u=="string"?_!=null&&Fi(_):te(u,p,_))}function ae(u){Kt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ae,Kt);var xi=/^https?$/i,vl=["POST","PUT"];r=ae.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){yr(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(vl,p,void 0)>=0)||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ot]of _)this.g.setRequestHeader(q,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){yr(this,q)}};function yr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,_l(u),Gi(u)}function _l(u){u.A||(u.A=!0,ue(u,"complete"),ue(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ue(this,"complete"),ue(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),ae.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(ue(u,"readystatechange"),ri(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=q===0){let ot=String(u.D).match(Go)[1]||null;!ot&&d.self&&d.self.location&&(ot=d.self.location.protocol.slice(0,-1)),A=!xi.test(ot?ot.toLowerCase():"")}_=A}if(_)ue(u,"complete"),ue(u,"success");else{u.o=6;try{var z=ri(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",_l(u)}}finally{Gi(u)}}}}function Gi(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||ue(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ma(p)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const p={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var _=Ho(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[z]||[];p[z]=q,q.push(_)}Ht(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Ta(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(u&&u.concurrentRequestLimit),this.Ba=new _a,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ta.prototype,r.ka=8,r.I=1,r.connect=function(u,p,_,A){Oe(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=nu(this,null,this.W),Ci(this)};function El(u){if(ns(u),u.I==3){var p=u.V++,_=Le(u.J);if(te(_,"SID",u.M),te(_,"RID",p),te(_,"TYPE","terminate"),_r(u,_),p=new ei(u,u.j,p),p.M=2,p.A=dr(Le(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.A,_=!0),_||(p.g=iu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_i(p)}eu(u)}function ba(u){u.g&&(bl(u),u.g.cancel(),u.g=null)}function ns(u){ba(u),u.v&&(d.clearTimeout(u.v),u.v=null),as(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!ul(u.h)&&!u.m){u.m=!0;var p=u.Ea;wt||x(),Ct||(wt(),Ct=!0),D.add(p,u),u.D=0}}function is(u,p){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(y(u.Ea,u,p),tu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new ei(this,this.j,u);let q=this.o;if(this.U&&(q?(q=I(q),ct(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=$o(this,z,p),_=Le(this.J),te(_,"RID",u),te(_,"CVER",22),this.G&&te(_,"X-HTTP-Session-Id",this.G),_r(this,_),q&&(this.R?p="headers="+Fi(Hn(q))+"&"+p:this.u&&gr(_,this.u,q)),cl(this.h,z),this.Ra&&te(_,"TYPE","init"),this.S?(te(_,"$req",p),te(_,"SID","null"),z.U=!0,vi(z,_,null)):vi(z,_,p),this.I=2}}else this.I==3&&(u?Tl(this,u):this.i.length==0||ul(this.h)||Tl(this))};function Tl(u,p){var _;p?_=p.l:_=u.V++;const A=Le(u.J);te(A,"SID",u.M),te(A,"RID",_),te(A,"AID",u.K),_r(u,A),u.u&&u.o&&gr(A,u.u,u.o),_=new ei(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=$o(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),cl(u.h,_),vi(_,A,p)}function _r(u,p){u.H&&Mt(u.H,function(_,A){te(p,A,_)}),u.l&&Mt({},function(_,A){te(p,A,_)})}function $o(u,p,_){_=Math.min(u.i.length,_);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let Vt=-1;for(;;){const Ce=["count="+_];Vt==-1?_>0?(Vt=z[0].g,Ce.push("ofs="+Vt)):Vt=0:Ce.push("ofs="+Vt);let Xt=!0;for(let ve=0;ve<_;ve++){var q=z[ve].g;const qn=z[ve].map;if(q-=Vt,q<0)Vt=Math.max(0,z[ve].g-100),Xt=!1;else try{q="req"+q+"_"||"";try{var ot=qn instanceof Map?qn:Object.entries(qn);for(const[Ni,si]of ot){let li=si;g(si)&&(li=Tt(si)),Ce.push(q+Ni+"="+encodeURIComponent(li))}}catch(Ni){throw Ce.push(q+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(qn)}}if(Xt){ot=Ce.join("&");break t}}ot=void 0}return u=u.i.splice(0,_),p.G=u,ot}function Zo(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;wt||x(),Ct||(wt(),Ct=!0),D.add(p,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(y(u.Da,u),tu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),ba(this),Jo(this))};function bl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Jo(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Le(u.na);te(p,"RID","rpc"),te(p,"SID",u.M),te(p,"AID",u.K),te(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(p,"TO",u.ia),te(p,"TYPE","xmlhttp"),_r(u,p),u.u&&u.o&&gr(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=dr(Le(p)),_.u=null,_.R=!0,Xr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ba(this),Er(this),Oe(19))};function as(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Wo(u,p){var _=null;if(u.g==p){as(u),bl(u),u.g=null;var A=2}else if(Ai(u.h,p))_=p.G,hl(u.h,p),A=1;else return;if(u.I!=0){if(p.o)if(A==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var z=u.D;A=Kr(),ue(A,new pi(A,_)),Ci(u)}else Zo(u);else if(z=p.m,z==3||z==0&&p.X>0||!(A==1&&is(u,p)||A==2&&Er(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),z){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function tu(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function Di(u,p){if(u.j.info("Error code "+p),p==2){var _=y(u.bb,u),A=u.Ua;const z=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ze(A,"https"),dr(A),z?ii(A.toString(),_):yl(A.toString(),_)}else Oe(2);u.I=0,u.l&&u.l.pa(p),eu(u),ns(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function eu(u){if(u.I=0,u.ja=[],u.l){const p=fl(u.h);(p.length!=0||u.i.length!=0)&&(W(u.ja,p),W(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function nu(u,p,_){var A=_ instanceof Cn?Le(_):new Cn(_);if(A.g!="")p&&(A.g=p+"."+A.g),pa(A,A.u);else{var z=d.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const q=new Cn(null);A&&Ze(q,A),p&&(q.g=p),z&&pa(q,z),_&&(q.h=_),A=q}return _=u.G,p=u.wa,_&&p&&te(A,_,p),te(A,"VER",u.ka),_r(u,A),A}function iu(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new ae(new wi({ab:_})):new ae(u.ma),p.Fa(u.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}r=au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Aa(){}Aa.prototype.g=function(u,p){return new pn(u,p)};function pn(u,p){Kt.call(this),this.g=new Ta(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!C(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yi(this)}b(pn,Kt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){El(this.g)},pn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Tt(u),u=_);p.i.push(new je(p.Ya++,u)),p.I==3&&Ci(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,pn.Z.N.call(this)};function ru(u){Ie.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(ru,Ie);function su(){ye.call(this),this.status=1}b(su,ye);function Yi(u){this.g=u}b(Yi,au),Yi.prototype.ra=function(){ue(this.g,"a")},Yi.prototype.qa=function(u){ue(this.g,new ru(u))},Yi.prototype.pa=function(u){ue(this.g,new su)},Yi.prototype.oa=function(){ue(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,u_=function(){return new Aa},o_=function(){return Kr()},l_=be,Od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,_c=hr,sl.COMPLETE="complete",s_=sl,Yr.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Kt.prototype.listen=Kt.prototype.J,uo=Yr,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,r_=ae}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let el="12.9.0";function GS(r){el=r}const Br=new J0("@firebase/firestore");function Ls(){return Br.logLevel}function ht(r,...e){if(Br.logLevel<=Ft.DEBUG){const i=e.map(lm);Br.debug(`Firestore (${el}): ${r}`,...i)}}function fa(r,...e){if(Br.logLevel<=Ft.ERROR){const i=e.map(lm);Br.error(`Firestore (${el}): ${r}`,...i)}}function kr(r,...e){if(Br.logLevel<=Ft.WARN){const i=e.map(lm);Br.warn(`Firestore (${el}): ${r}`,...i)}}function lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function St(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,c_(r,s,i)}function c_(r,e,i){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw fa(s),new Error(s)}function Jt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||c_(e,o,s)}function Nt(r,e){return r}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends tl{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Za{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class h_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class YS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class KS{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Jt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,i(m)):Promise.resolve();let c=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Za,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Za)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string",31837,{l:s}),new h_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class XS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $S{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new XS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,NS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Jt(this.o===void 0,3512);const s=c=>{c.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Pt(r,e){return r<e?-1:r>e?1:0}function Md(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return gd(o)===gd(c)?Pt(o,c):gd(o)?1:-1}return Pt(r.length,e.length)}const WS=55296,t2=57343;function gd(r){const e=r.charCodeAt(0);return e>=WS&&e<=t2}function Gs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const Iv="__name__";class ji{constructor(e,i,s){i===void 0?i=0:i>e.length&&St(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&St(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ji.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pt(e.length,i.length)}static compareSegments(e,i){const s=ji.isNumericId(e),o=ji.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ji.extractNumericId(e).compare(ji.extractNumericId(i)):Md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $a.fromString(e.substring(4,e.length-2))}}class Ae extends ji{construct(e,i,s){return new Ae(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new vt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Ae(i)}static emptyPath(){return new Ae([])}}const e2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ji{construct(e,i,s){return new ln(e,i,s)}static isValidIdentifier(e){return e2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new ln([Iv])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new vt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new vt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new vt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new vt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(Ae.fromString(e))}static fromName(e){return new bt(Ae.fromString(e).popFirst(5))}static empty(){return new bt(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new Ae(e.slice()))}}function n2(r,e,i){if(!i)throw new vt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function i2(r,e,i,s){if(e===!0&&s===!0)throw new vt(nt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Ov(r){if(!bt.isDocumentKey(r))throw new vt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function um(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function Li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new vt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=um(r);throw new vt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function qe(r,e){const i={typeString:r};return e&&(i.value=e),i}function Io(r,e){if(!f_(r))throw new vt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new vt(nt.INVALID_ARGUMENT,i);return!0}const Mv=-62135596800,jv=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(e){return pe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*jv);return new pe(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new vt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Mv)throw new vt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Io(e,pe._jsonSchema))return new pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:qe("string",pe._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new pe(0,0))}static max(){return new Rt(new pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ao=-1;function a2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new pe(i+1,0):new pe(i,s));return new Wa(o,bt.empty(),e)}function r2(r){return new Wa(r.readTime,r.key,Ao)}class Wa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Wa(Rt.min(),bt.empty(),Ao)}static max(){return new Wa(Rt.max(),bt.empty(),Ao)}}function s2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=bt.comparator(r.documentKey,e.documentKey),i!==0?i:Pt(r.largestBatchId,e.largestBatchId))}const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nl(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==l2)throw r;ht("LocalStore","Unexpectedly lost primary lease")}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):et.reject(i)}static resolve(e){return new et(((i,s)=>{i(e)}))}static reject(e){return new et(((i,s)=>{s(e)}))}static waitFor(e){return new et(((i,s)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(m=>s(m)))})),d=!0,c===o&&i()}))}static or(e){let i=et.resolve(!1);for(const s of e)i=i.next((o=>o?et.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new et(((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let m=0;m<c;m++){const y=m;i(e[y]).next((E=>{d[y]=E,++g,g===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new et(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function u2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function il(r){return r.name==="IndexedDbTransactionError"}class Fc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fc.ce=-1;const cm=-1;function Gc(r){return r==null}function Dc(r){return r===0&&1/r==-1/0}function c2(r){return typeof r=="number"&&Number.isInteger(r)&&!Dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const d_="";function h2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Lv(e)),e=f2(r.get(i),e);return Lv(e)}function f2(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case d_:i+="";break;default:i+=c}}return i}function Lv(r){return r+d_+""}function Uv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function sr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function m_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Se{constructor(e,i){this.comparator=e,this.root=i||sn.EMPTY}insert(e,i){return new Se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new sn(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new sn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ye(this.comparator);return i.data=e,i}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new Ye(ln.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class p_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new p_("Invalid base64 string: "+c):c}})(e);return new on(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new on(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(r){if(Jt(!!r,39018),typeof r=="string"){let e=0;const i=d2.exec(r);if(Jt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ve(r.seconds),nanos:Ve(r.nanos)}}function Ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function er(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}const g_="server_timestamp",y_="__type__",v_="__previous_value__",__="__local_write_time__";function hm(r){return(r?.mapValue?.fields||{})[y_]?.stringValue===g_}function Qc(r){const e=r.mapValue.fields[v_];return hm(e)?Qc(e):e}function So(r){const e=tr(r.mapValue.fields[__].timestampValue);return new pe(e.seconds,e.nanos)}class m2{constructor(e,i,s,o,c,d,g,m,y,E,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=b}}const Nc="(default)";class wo{constructor(e,i){this.projectId=e,this.database=i||Nc}static empty(){return new wo("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof wo&&e.projectId===this.projectId&&e.database===this.database}}function p2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new vt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(r.options.projectId,e)}const E_="__type__",g2="__max__",dc={mapValue:{}},T_="__vector__",Vc="value";function nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hm(r)?4:v2(r)?9007199254740991:y2(r)?10:11:St(28295,{value:r})}function ki(r,e){if(r===e)return!0;const i=nr(r);if(i!==nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return So(r).isEqual(So(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=tr(o.timestampValue),g=tr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return er(o.bytesValue).isEqual(er(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ve(o.geoPointValue.latitude)===Ve(c.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ve(o.integerValue)===Ve(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ve(o.doubleValue),g=Ve(c.doubleValue);return d===g?Dc(d)===Dc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Gs(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Uv(d)!==Uv(g))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(g[m]===void 0||!ki(d[m],g[m])))return!1;return!0})(r,e);default:return St(52216,{left:r})}}function xo(r,e){return(r.values||[]).find((i=>ki(i,e)))!==void 0}function Qs(r,e){if(r===e)return 0;const i=nr(r),s=nr(e);if(i!==s)return Pt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ve(c.integerValue||c.doubleValue),m=Ve(d.integerValue||d.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(r,e);case 3:return Pv(r.timestampValue,e.timestampValue);case 4:return Pv(So(r),So(e));case 5:return Md(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=er(c),m=er(d);return g.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),m=d.split("/");for(let y=0;y<g.length&&y<m.length;y++){const E=Pt(g[y],m[y]);if(E!==0)return E}return Pt(g.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Pt(Ve(c.latitude),Ve(d.latitude));return g!==0?g:Pt(Ve(c.longitude),Ve(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Bv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},m=d.fields||{},y=g[Vc]?.arrayValue,E=m[Vc]?.arrayValue,b=Pt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:Bv(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===dc.mapValue&&d===dc.mapValue)return 0;if(c===dc.mapValue)return 1;if(d===dc.mapValue)return-1;const g=c.fields||{},m=Object.keys(g),y=d.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let b=0;b<m.length&&b<E.length;++b){const S=Md(m[b],E[b]);if(S!==0)return S;const j=Qs(g[m[b]],y[E[b]]);if(j!==0)return j}return Pt(m.length,E.length)})(r.mapValue,e.mapValue);default:throw St(23264,{he:i})}}function Pv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pt(r,e);const i=tr(r),s=tr(e),o=Pt(i.seconds,s.seconds);return o!==0?o:Pt(i.nanos,s.nanos)}function Bv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Qs(i[o],s[o]);if(c)return c}return Pt(i.length,s.length)}function Ys(r){return jd(r)}function jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=tr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return bt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=jd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${jd(i.fields[d])}`;return o+"}"})(r.mapValue):St(61005,{value:r})}function Ec(r){switch(nr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qc(r);return e?16+Ec(e):16;case 5:return 2*r.stringValue.length;case 6:return er(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Ec(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return sr(s.fields,((c,d)=>{o+=c.length+Ec(d)})),o})(r.mapValue);default:throw St(13486,{value:r})}}function Ld(r){return!!r&&"integerValue"in r}function fm(r){return!!r&&"arrayValue"in r}function kv(r){return!!r&&"nullValue"in r}function Hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function y2(r){return(r?.mapValue?.fields||{})[E_]?.stringValue===T_}function po(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return sr(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=po(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=po(r.arrayValue.values[i]);return e}return{...r}}function v2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(i)}setAll(e){let i=ln.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const m=this.getFieldsMap(i);this.applyChanges(m,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=po(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){sr(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new wn(po(this.value))}}function b_(r){const e=[];return sr(r.fields,((i,s)=>{const o=new ln([i]);if(Tc(s)){const c=b_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Ln(e)}class fn{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new fn(e,0,Rt.min(),Rt.min(),Rt.min(),wn.empty(),0)}static newFoundDocument(e,i,s,o){return new fn(e,1,i,Rt.min(),s,o,0)}static newNoDocument(e,i){return new fn(e,2,i,Rt.min(),Rt.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,Rt.min(),Rt.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ic{constructor(e,i){this.position=e,this.inclusive=i}}function qv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=bt.comparator(bt.fromName(d.referenceValue),i.key):s=Qs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],e.position[i]))return!1;return!0}class Oc{constructor(e,i="asc"){this.field=e,this.dir=i}}function _2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class A_{}class Qe extends A_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new T2(e,i,s):i==="array-contains"?new S2(e,s):i==="in"?new w2(e,s):i==="not-in"?new x2(e,s):i==="array-contains-any"?new R2(e,s):new Qe(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new b2(e,s):new A2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qs(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Qs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends A_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return S_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S_(r){return r.op==="and"}function w_(r){return E2(r)&&S_(r)}function E2(r){for(const e of r.filters)if(e instanceof Hi)return!1;return!0}function Ud(r){if(r instanceof Qe)return r.field.canonicalString()+r.op.toString()+Ys(r.value);if(w_(r))return r.filters.map((e=>Ud(e))).join(",");{const e=r.filters.map((i=>Ud(i))).join(",");return`${r.op}(${e})`}}function x_(r,e){return r instanceof Qe?(function(s,o){return o instanceof Qe&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof Hi?(function(s,o){return o instanceof Hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&x_(d,o.filters[g])),!0):!1})(r,e):void St(19439)}function R_(r){return r instanceof Qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ys(i.value)}`})(r):r instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(R_).join(" ,")+"}"})(r):"Filter"}class T2 extends Qe{constructor(e,i,s){super(e,i,s),this.key=bt.fromName(s.referenceValue)}matches(e){const i=bt.comparator(e.key,this.key);return this.matchesComparison(i)}}class b2 extends Qe{constructor(e,i){super(e,"in",i),this.keys=C_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class A2 extends Qe{constructor(e,i){super(e,"not-in",i),this.keys=C_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function C_(r,e){return(e.arrayValue?.values||[]).map((i=>bt.fromName(i.referenceValue)))}class S2 extends Qe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return fm(i)&&xo(i.arrayValue,this.value)}}class w2 extends Qe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&xo(this.value.arrayValue,i)}}class x2 extends Qe{constructor(e,i){super(e,"not-in",i)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xo(this.value.arrayValue,i)}}class R2 extends Qe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>xo(this.value.arrayValue,s)))}}class C2{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Gv(r,e=null,i=[],s=[],o=null,c=null,d=null){return new C2(r,e,i,s,o,c,d)}function dm(r){const e=Nt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ud(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ys(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ys(s))).join(",")),e.Te=i}return e.Te}function mm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!_2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!x_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fv(r.startAt,e.startAt)&&Fv(r.endAt,e.endAt)}function zd(r){return bt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Yc{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function D2(r,e,i,s,o,c,d,g){return new Yc(r,e,i,s,o,c,d,g)}function Kc(r){return new Yc(r)}function Qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function N2(r){return bt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function V2(r){return r.collectionGroup!==null}function go(r){const e=Nt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ye(ln.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Oc(c,s))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new Oc(ln.keyField(),s))}return e.Ie}function Ui(r){const e=Nt(r);return e.Ee||(e.Ee=I2(e,go(r))),e.Ee}function I2(r,e){if(r.limitType==="F")return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Oc(o.field,c)}));const i=r.endAt?new Ic(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ic(r.startAt.position,r.startAt.inclusive):null;return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Pd(r,e,i){return new Yc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Xc(r,e){return mm(Ui(r),Ui(e))&&r.limitType===e.limitType}function D_(r){return`${dm(Ui(r))}|lt:${r.limitType}`}function Us(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>R_(o))).join(", ")}]`),Gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ys(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ys(o))).join(",")),`Target(${s})`})(Ui(r))}; limitType=${r.limitType})`}function $c(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):bt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of go(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,m){const y=qv(d,g,m);return d.inclusive?y<=0:y<0})(s.startAt,go(s),o)||s.endAt&&!(function(d,g,m){const y=qv(d,g,m);return d.inclusive?y>=0:y>0})(s.endAt,go(s),o))})(r,e)}function O2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N_(r){return(e,i)=>{let s=!1;for(const o of go(r)){const c=M2(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function M2(r,e,i){const s=r.field.isKeyField()?bt.comparator(e.key,i.key):(function(c,d,g){const m=d.data.field(c),y=g.data.field(c);return m!==null&&y!==null?Qs(m,y):St(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:r.dir})}}class Fr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sr(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return m_(this.inner)}size(){return this.innerSize}}const j2=new Se(bt.comparator);function da(){return j2}const V_=new Se(bt.comparator);function co(...r){let e=V_;for(const i of r)e=e.insert(i.key,i);return e}function I_(r){let e=V_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function zr(){return yo()}function O_(){return yo()}function yo(){return new Fr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const L2=new Se(bt.comparator),U2=new Ye(bt.comparator);function Bt(...r){let e=U2;for(const i of r)e=e.add(i);return e}const z2=new Ye(Pt);function P2(){return z2}function pm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function M_(r){return{integerValue:""+r}}function B2(r,e){return c2(e)?M_(e):pm(r,e)}class Zc{constructor(){this._=void 0}}function k2(r,e,i){return r instanceof Mc?(function(o,c){const d={fields:{[y_]:{stringValue:g_},[__]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&hm(c)&&(c=Qc(c)),c&&(d.fields[v_]=c),{mapValue:d}})(i,e):r instanceof Ks?L_(r,e):r instanceof Ro?U_(r,e):(function(o,c){const d=j_(o,c),g=Yv(d)+Yv(o.Ae);return Ld(d)&&Ld(o.Ae)?M_(g):pm(o.serializer,g)})(r,e)}function H2(r,e,i){return r instanceof Ks?L_(r,e):r instanceof Ro?U_(r,e):i}function j_(r,e){return r instanceof jc?(function(s){return Ld(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Mc extends Zc{}class Ks extends Zc{constructor(e){super(),this.elements=e}}function L_(r,e){const i=z_(e);for(const s of r.elements)i.some((o=>ki(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Ro extends Zc{constructor(e){super(),this.elements=e}}function U_(r,e){let i=z_(e);for(const s of r.elements)i=i.filter((o=>!ki(o,s)));return{arrayValue:{values:i}}}class jc extends Zc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yv(r){return Ve(r.integerValue||r.doubleValue)}function z_(r){return fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class q2{constructor(e,i){this.field=e,this.transform=i}}function F2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ks&&o instanceof Ks||s instanceof Ro&&o instanceof Ro?Gs(s.elements,o.elements,ki):s instanceof jc&&o instanceof jc?ki(s.Ae,o.Ae):s instanceof Mc&&o instanceof Mc})(r.transform,e.transform)}class G2{constructor(e,i){this.version=e,this.transformResults=i}}class zi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jc{}function P_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new k_(r.key,zi.none()):new Oo(r.key,r.data,zi.none());{const i=r.data,s=wn.empty();let o=new Ye(ln.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new lr(r.key,s,new Ln(o.toArray()),zi.none())}}function Q2(r,e,i){r instanceof Oo?(function(o,c,d){const g=o.value.clone(),m=Xv(o.fieldTransforms,c,d.transformResults);g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof lr?(function(o,c,d){if(!bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Xv(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(B_(o)),m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function vo(r,e,i,s){return r instanceof Oo?(function(c,d,g,m){if(!bc(c.precondition,d))return g;const y=c.value.clone(),E=$v(c.fieldTransforms,m,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof lr?(function(c,d,g,m){if(!bc(c.precondition,d))return g;const y=$v(c.fieldTransforms,m,d),E=d.data;return E.setAll(B_(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(c,d,g){return bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function Y2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=j_(s.transform,o||null);c!=null&&(i===null&&(i=wn.empty()),i.set(s.field,c))}return i||null}function Kv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Gs(s,o,((c,d)=>F2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Oo extends Jc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lr extends Jc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function B_(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Xv(r,e,i){const s=new Map;Jt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,H2(d,g,i[o]))}return s}function $v(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,k2(c,d,e))}return s}class k_ extends Jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K2 extends Jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class X2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Q2(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=vo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=vo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=O_();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const m=P_(d,g);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Bt())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,((i,s)=>Kv(i,s)))&&Gs(this.baseMutations,e.baseMutations,((i,s)=>Kv(i,s)))}}class gm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Jt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return L2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new gm(e,i,s,o)}}class $2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Z2{constructor(e,i){this.count=e,this.unchangedNames=i}}var He,qt;function J2(r){switch(r){case nt.OK:return St(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function H_(r){if(r===void 0)return fa("GRPC error has no .code"),nt.UNKNOWN;switch(r){case He.OK:return nt.OK;case He.CANCELLED:return nt.CANCELLED;case He.UNKNOWN:return nt.UNKNOWN;case He.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case He.INTERNAL:return nt.INTERNAL;case He.UNAVAILABLE:return nt.UNAVAILABLE;case He.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case He.NOT_FOUND:return nt.NOT_FOUND;case He.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case He.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case He.ABORTED:return nt.ABORTED;case He.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case He.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case He.DATA_LOSS:return nt.DATA_LOSS;default:return St(39323,{code:r})}}(qt=He||(He={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function W2(){return new TextEncoder}const tw=new $a([4294967295,4294967295],0);function Zv(r){const e=W2().encode(r),i=new a_;return i.update(e),new Uint8Array(i.digest())}function Jv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new $a([i,s],0),new $a([o,c],0)]}class ym{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ho(`Invalid padding: ${i}`);if(s<0)throw new ho(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ho(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$a.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply($a.fromNumber(s)));return o.compare(tw)===1&&(o=new $a([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Zv(e),[s,o]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ym(c,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Zv(e),[s,o]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Mo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Wc(Rt.min(),o,new Se(Pt),da(),Bt())}}class Mo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Mo(s,i,Bt(),Bt(),Bt())}}class Ac{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=o}}class q_{constructor(e,i){this.targetId=e,this.Ce=i}}class F_{constructor(e,i,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Wv{constructor(){this.ve=0,this.Fe=t0(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Bt(),i=Bt(),s=Bt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:c})}})),new Mo(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=t0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ew{constructor(e){this.Ge=e,this.ze=new Map,this.je=da(),this.He=mc(),this.Je=mc(),this.Ze=new Se(Pt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:St(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(zd(c))if(s===0){const d=new bt(c.path);this.et(i,d,fn.newNoDocument(d,Rt.min()))}else Jt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),m=g?this.ct(g,e,d):1;if(m!==0){this.it(i);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=er(s).toUint8Array()}catch(m){if(m instanceof p_)return kr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new ym(d,o,c)}catch(m){return kr(m instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&zd(g.target)){const m=new bt(g.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,fn.newNoDocument(m,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Bt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Wc(e,i,this.Ze,this.je,s);return this.je=da(),this.He=mc(),this.Je=mc(),this.Ze=new Se(Pt),o}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Wv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ye(Pt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ye(Pt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function mc(){return new Se(bt.comparator)}function t0(){return new Se(bt.comparator)}const nw={asc:"ASCENDING",desc:"DESCENDING"},iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aw={and:"AND",or:"OR"};class rw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bd(r,e){return r.useProto3Json||Gc(e)?e:{value:e}}function Lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sw(r,e){return Lc(r,e.toTimestamp())}function Pi(r){return Jt(!!r,49232),Rt.fromTimestamp((function(i){const s=tr(i);return new pe(s.seconds,s.nanos)})(r))}function vm(r,e){return kd(r,e).canonicalString()}function kd(r,e){const i=(function(o){return new Ae(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Q_(r){const e=Ae.fromString(r);return Jt(Z_(e),10190,{key:e.toString()}),e}function Hd(r,e){return vm(r.databaseId,e.path)}function yd(r,e){const i=Q_(e);if(i.get(1)!==r.databaseId.projectId)throw new vt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new vt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new bt(K_(i))}function Y_(r,e){return vm(r.databaseId,e)}function lw(r){const e=Q_(r);return e.length===4?Ae.emptyPath():K_(e)}function qd(r){return new Ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function K_(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function e0(r,e,i){return{name:Hd(r,e),fields:i.value.mapValue.fields}}function ow(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:St(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?nt.UNKNOWN:H_(y.code);return new vt(E,y.message||"")})(d);i=new F_(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yd(r,s.document.name),c=Pi(s.document.updateTime),d=s.document.createTime?Pi(s.document.createTime):Rt.min(),g=new wn({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Ac(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yd(r,s.document),c=s.readTime?Pi(s.readTime):Rt.min(),d=fn.newNoDocument(o,c),g=s.removedTargetIds||[];i=new Ac([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yd(r,s.document),c=s.removedTargetIds||[];i=new Ac([],c,o,null)}else{if(!("filter"in e))return St(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new Z2(o,c),g=s.targetId;i=new q_(g,d)}}return i}function uw(r,e){let i;if(e instanceof Oo)i={update:e0(r,e.key,e.value)};else if(e instanceof k_)i={delete:Hd(r,e.key)};else if(e instanceof lr)i={update:e0(r,e.key,e.data),updateMask:vw(e.fieldMask)};else{if(!(e instanceof K2))return St(16599,{dt:e.type});i={verify:Hd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ks)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw St(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:sw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)})(r,e.precondition)),i}function cw(r,e){return r&&r.length>0?(Jt(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Pi(o.updateTime):Pi(c);return d.isEqual(Rt.min())&&(d=Pi(c)),new G2(d,o.transformResults||[])})(i,e)))):[]}function hw(r,e){return{documents:[Y_(r,e.path)]}}function fw(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Y_(r,o);const c=(function(y){if(y.length!==0)return $_(Hi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:zs(S.field),direction:pw(S.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Bd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function dw(r){let e=lw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Jt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(b){const S=X_(b);return S instanceof Hi&&w_(S)?S.getFilters():[S]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((S=>(function(W){return new Oc(Ps(W.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(S)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let S;return S=typeof b=="object"?b.value:b,Gc(S)?null:S})(i.limit));let m=null;i.startAt&&(m=(function(b){const S=!!b.before,j=b.values||[];return new Ic(j,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const S=!b.before,j=b.values||[];return new Ic(j,S)})(i.endAt)),D2(e,o,d,c,g,"F",m,y)}function mw(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function X_(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ps(i.unaryFilter.field);return Qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ps(i.unaryFilter.field);return Qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(i.unaryFilter.field);return Qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ps(i.unaryFilter.field);return Qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Qe.create(Ps(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((s=>X_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(i.compositeFilter.op))})(r):St(30097,{filter:r})}function pw(r){return nw[r]}function gw(r){return iw[r]}function yw(r){return aw[r]}function zs(r){return{fieldPath:r.canonicalString()}}function Ps(r){return ln.fromServerFormat(r.fieldPath)}function $_(r){return r instanceof Qe?(function(i){if(i.op==="=="){if(Hv(i.value))return{unaryFilter:{field:zs(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:zs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hv(i.value))return{unaryFilter:{field:zs(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:zs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(i.field),op:gw(i.op),value:i.value}}})(r):r instanceof Hi?(function(i){const s=i.getFilters().map((o=>$_(o)));return s.length===1?s[0]:{compositeFilter:{op:yw(i.op),filters:s}}})(r):St(54877,{filter:r})}function vw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Z_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function J_(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ya{constructor(e,i,s,o,c=Rt.min(),d=Rt.min(),g=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _w{constructor(e){this.yt=e}}function Ew(r){const e=dw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pd(e,e.limit,"L"):e}class Tw{constructor(){this.Sn=new bw}addToCollectionParentIndex(e,i){return this.Sn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(Wa.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(Wa.min())}updateCollectionGroup(e,i,s){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class bw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ye(Ae.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ye(Ae.comparator)).toArray()}}const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W_=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(W_,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Xs{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xs(0)}static ar(){return new Xs(-1)}}const i0="LruGarbageCollector",Aw=1048576;function a0([r,e],[i,s]){const o=Pt(r,i);return o===0?Pt(e,s):o}class Sw{constructor(e){this.Pr=e,this.buffer=new Ye(a0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();a0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ww{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ht(i0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){il(i)?ht(i0,"Ignoring IndexedDB error during garbage collection: ",i):await nl(i)}await this.Ar(3e5)}))}}class xw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return et.resolve(Fc.ce);const s=new Sw(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(n0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,o,c,d,g,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,g=Date.now(),this.removeTargets(e,s,i)))).next((b=>(c=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Ls()<=Ft.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(m-g)+`ms
	Removed ${b} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function Rw(r,e){return new xw(r,e)}class Cw{constructor(){this.changes=new Fr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Nw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&vo(s.mutation,o,Ln.empty(),pe.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Bt()){const o=zr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=co();return c.forEach(((g,m)=>{d=d.insert(g,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=zr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Bt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let c=da();const d=yo(),g=(function(){return yo()})();return i.forEach(((m,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof lr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),vo(E.mutation,y,E.mutation.getFieldMask(),pe.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new Dw(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=yo();let o=new Se(((d,g)=>d-g)),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((m=>{const y=i.get(m);if(y===null)return;let E=s.get(m)||Ln.empty();E=g.applyToLocalView(y,E),s.set(m,E);const b=(o.get(g.batchId)||Bt()).add(m);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),y=m.key,E=m.value,b=O_();E.forEach((S=>{if(!c.has(S)){const j=P_(i.get(S),s.get(S));j!==null&&b.set(S,j),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return et.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return N2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):V2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):et.resolve(zr());let g=Ao,m=c;return d.next((y=>et.forEach(y,((E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{m=m.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,m,y,Bt()))).next((E=>({batchId:g,changes:I_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new bt(i)).next((s=>{let o=co();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=co();return this.indexManager.getCollectionParents(e,c).next((g=>et.forEach(g,(m=>{const y=(function(b,S){return new Yc(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((m,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,fn.newInvalidDocument(E)))}));let g=co();return d.forEach(((m,y)=>{const E=c.get(m);E!==void 0&&vo(E.mutation,y,Ln.empty(),pe.now()),$c(i,y)&&(g=g.insert(m,y))})),g}))}}class Vw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return et.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Ew(o.bundledQuery),readTime:Pi(o.readTime)}})(i)),et.resolve()}}class Iw{constructor(){this.overlays=new Se(bt.comparator),this.Lr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const s=zr();return et.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.bt(e,i,c)})),et.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),et.resolve()}getOverlaysForCollection(e,i,s){const o=zr(),c=i.length+1,d=new bt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const m=g.getNext().value,y=m.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new Se(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=zr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=zr(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return et.resolve(g)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new $2(i,s));let c=this.Lr.get(i);c===void 0&&(c=Bt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class Ow{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}class _m{constructor(){this.kr=new Ye(We.Kr),this.qr=new Ye(We.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new We(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new We(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new bt(new Ae([])),s=new We(i,e),o=new We(i,e+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new bt(new Ae([])),s=new We(i,e),o=new We(i,e+1);let c=Bt();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new We(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class We{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return bt.comparator(e.key,i.key)||Pt(e.Hr,i.Hr)}static Ur(e,i){return Pt(e.Hr,i.Hr)||bt.comparator(e.key,i.key)}}class Mw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ye(We.Kr)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new X2(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new We(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(d)}lookupMutationBatch(e,i){return et.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?cm:this.Yn-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new We(i,0),o=new We(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ye(Pt);return i.forEach((o=>{const c=new We(o,0),d=new We(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{s=s.add(g.Hr)}))})),et.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;bt.isDocumentKey(c)||(c=c.child(""));const d=new We(new bt(c),0);let g=new Ye(Pt);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(m.Hr)),!0)}),d),et.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Jt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return et.forEach(i.mutations,(o=>{const c=new We(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new We(i,0),o=this.Jr.firstAfterOrEqual(s);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class jw{constructor(e){this.ti=e,this.docs=(function(){return new Se(bt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(e,i){let s=da();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():fn.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=da();const d=i.path,g=new bt(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||s2(r2(E),s)<=0||(o.has(E.key)||$c(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(e,i,s,o){St(9500)}ni(e,i){return et.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Lw(this)}getSize(e){return et.resolve(this.size)}}class Lw extends Cw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),et.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Uw{constructor(e){this.persistence=e,this.ri=new Fr((i=>dm(i)),mm),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new _m,this.targetCount=0,this.oi=Xs._r()}forEachTarget(e,i){return this.ri.forEach(((s,o)=>i(o))),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),et.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Xs(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.lr(i),et.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),et.waitFor(c).next((()=>o))}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return et.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),et.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),et.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),et.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return et.resolve(s)}containsKey(e,i){return et.resolve(this.si.containsKey(i))}}class tE{constructor(e,i){this._i={},this.overlays={},this.ai=new Fc(0),this.ui=!1,this.ui=!0,this.ci=new Ow,this.referenceDelegate=e(this),this.li=new Uw(this),this.indexManager=new Tw,this.remoteDocumentCache=(function(o){return new jw(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new _w(i),this.Pi=new Vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Iw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new Mw(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ht("MemoryPersistence","Starting transaction:",e);const o=new zw(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return et.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class zw extends o2{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Ri=new _m,this.Ai=null}static Vi(e){return new Em(e)}get di(){if(this.Ai)return this.Ai;throw St(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),et.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),et.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,(s=>{const o=bt.fromPath(s);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Rt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return et.or([()=>et.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Uc{constructor(e,i){this.persistence=e,this.fi=new Fr((s=>h2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Rw(this,i)}static Vi(e,i){return new Uc(e,i)}Ti(){}Ii(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return et.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?et.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(s++,c.removeEntry(d,Rt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),et.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ec(e.data.value)),i}wr(e,i,s){return et.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=o}static Es(e,i){let s=Bt(),o=Bt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Tm(e,i.fromCache,s,o)}}class Pw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return RA()?8:u2(wA())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Pw;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,s,o){return s.documentReadCount<this.Vs?(Ls()<=Ft.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(Ls()<=Ft.DEBUG&&ht("QueryEngine","Query:",Us(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ls()<=Ft.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(i))):et.resolve())}gs(e,i){if(Qv(i))return et.resolve(null);let s=Ui(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Pd(i,null,"F"),s=Ui(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Bt(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.bs(i,g);return this.Ss(i,y,d,m.readTime)?this.gs(e,Pd(i,null,"F")):this.Ds(e,y,i,m)}))))})))))}ps(e,i,s,o){return Qv(i)||o.isEqual(Rt.min())?et.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,o)?et.resolve(null):(Ls()<=Ft.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Us(i)),this.Ds(e,d,i,a2(o,Ao)).next((g=>g)))}))}bs(e,i){let s=new Ye(N_(e));return i.forEach(((o,c)=>{$c(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,s){return Ls()<=Ft.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Us(i)),this.fs.getDocumentsMatchingQuery(e,i,Wa.min(),s)}Ds(e,i,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const bm="LocalStore",kw=3e8;class Hw{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Se(Pt),this.Fs=new Fr((c=>dm(c)),mm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function qw(r,e,i,s){return new Hw(r,e,i,s)}async function eE(r,e){const i=Nt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let m=Bt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return i.localDocuments.getDocuments(s,m).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Fw(r,e){const i=Nt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,y,E){const b=y.batch,S=b.keys();let j=et.resolve();return S.forEach((W=>{j=j.next((()=>E.getEntry(m,W))).next((G=>{const Y=y.docVersions.get(W);Jt(Y!==null,48541),G.version.compareTo(Y)<0&&(b.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(m,b)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let m=Bt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(m=m.add(g.batch.mutations[y].key));return m})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function nE(r){const e=Nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Gw(r,e){const i=Nt(r),s=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;g.push(i.li.removeMatchingKeys(c,E.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,b))));let j=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(on.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(b,j),(function(G,Y,rt){return G.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=kw?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(S,j,E)&&g.push(i.li.updateTargetData(c,j))}));let m=da(),y=Bt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Qw(c,d,e.documentUpdates).next((E=>{m=E.Bs,y=E.Ls}))),!s.isEqual(Rt.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return et.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,y))).next((()=>m))})).then((c=>(i.vs=o,c)))}function Qw(r,e,i){let s=Bt(),o=Bt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=da();return i.forEach(((g,m)=>{const y=c.get(g);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(e.removeEntry(g,m.readTime),d=d.insert(g,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(g,m)):ht(bm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function Yw(r,e){const i=Nt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Kw(r,e){const i=Nt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,e).next((c=>c?(o=c,et.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new Ya(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function Fd(r,e,i){const s=Nt(r),o=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!il(d))throw d;ht(bm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function r0(r,e,i){const s=Nt(r);let o=Rt.min(),c=Bt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,y,E){const b=Nt(m),S=b.Fs.get(E);return S!==void 0?et.resolve(b.vs.get(S)):b.li.getTargetData(y,E)})(s,d,Ui(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,g.targetId).next((m=>{c=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Rt.min(),i?c:Bt()))).next((g=>(Xw(s,O2(e),g),{documents:g,ks:c})))))}function Xw(r,e,i){let s=r.Ms.get(e)||Rt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class s0{constructor(){this.activeTargetIds=P2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $w{constructor(){this.vo=new s0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zw{Mo(e){}shutdown(){}}const l0="ConnectivityMonitor";class o0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(l0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ht(l0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pc=null;function Gd(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}const vd="RestConnection",Jw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ww{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,c){const d=Gd(),g=this.Qo(e,i.toUriEncodedString());ht(vd,`Sending RPC '${e}' ${d}:`,g,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:y}=new URL(g),E=rm(y);return this.zo(e,g,m,s,E).then((b=>(ht(vd,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw kr(vd,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b}))}jo(e,i,s,o,c,d){return this.Wo(e,i,s,o,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const s=Jw[e];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class tx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cn="WebChannelConnection",oo=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ks extends Ww{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ks.c_){const e=o_();oo(e,l_.STAT_EVENT,(i=>{i.stat===Od.PROXY?ht(cn,"STAT_EVENT: detected buffering proxy"):i.stat===Od.NOPROXY&&ht(cn,"STAT_EVENT: detected no buffering proxy")})),ks.c_=!0}}zo(e,i,s,o,c){const d=Gd();return new Promise(((g,m)=>{const y=new r_;y.setWithCredentials(!0),y.listenOnce(s_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _c.NO_ERROR:const b=y.getResponseJson();ht(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case _c.TIMEOUT:ht(cn,`RPC '${e}' ${d} timed out`),m(new vt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const S=y.getStatus();if(ht(cn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const W=j?.error;if(W&&W.status&&W.message){const G=(function(rt){const it=rt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(it)>=0?it:nt.UNKNOWN})(W.status);m(new vt(G,W.message))}else m(new vt(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new vt(nt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(cn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ht(cn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Gd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const y=c.join("");ht(cn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let b=!1,S=!1;const j=new tx({Ho:W=>{S?ht(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(b||(ht(cn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ht(cn,`RPC '${e}' stream ${o} sending:`,W),E.send(W))},Jo:()=>E.close()});return oo(E,uo.EventType.OPEN,(()=>{S||(ht(cn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),oo(E,uo.EventType.CLOSE,(()=>{S||(S=!0,ht(cn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(E))})),oo(E,uo.EventType.ERROR,(W=>{S||(S=!0,kr(cn,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),j.o_(new vt(nt.UNAVAILABLE,"The operation could not be completed")))})),oo(E,uo.EventType.MESSAGE,(W=>{if(!S){const G=W.data[0];Jt(!!G,16349);const Y=G,rt=Y?.error||Y[0]?.error;if(rt){ht(cn,`RPC '${e}' stream ${o} received error:`,rt);const it=rt.status;let ut=(function(Ct){const D=He[Ct];if(D!==void 0)return H_(D)})(it),mt=rt.message;it==="NOT_FOUND"&&mt.includes("database")&&mt.includes("does not exist")&&mt.includes(this.databaseId.database)&&kr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ut===void 0&&(ut=nt.INTERNAL,mt="Unknown error status: "+it+" with message "+rt.message),S=!0,j.o_(new vt(ut,mt)),E.close()}else ht(cn,`RPC '${e}' stream ${o} received:`,G),j.__(G)}})),ks.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return u_()}}function ex(r){return new ks(r)}function _d(){return typeof document<"u"?document:null}function th(r){return new rw(r,!0)}ks.c_=!1;class iE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const u0="PersistentStream";class aE{constructor(e,i,s,o,c,d,g,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(fa(i.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new vt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ht(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ht(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nx extends aE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ow(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Rt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?Pi(d.readTime):Rt.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=qd(this.serializer),i.addTarget=(function(c,d){let g;const m=d.target;if(g=zd(m)?{documents:hw(c,m)}:{query:fw(c,m).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=G_(c,d.resumeToken);const y=Bd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Rt.min())>0){g.readTime=Lc(c,d.snapshotVersion.toTimestamp());const y=Bd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=mw(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=qd(this.serializer),i.removeTarget=e,this.K_(i)}}class ix extends aE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=cw(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=qd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>uw(this.serializer,s)))};this.K_(i)}}class ax{}class rx extends ax{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new vt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,kd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(nt.UNKNOWN,c.toString())}))}jo(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,kd(i,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new vt(nt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function sx(r,e,i,s){return new rx(r,e,i,s)}class lx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fa(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class ox{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Gr(this)&&(ht(Hr,"Restarting streams for network reachability change."),await(async function(m){const y=Nt(m);y.Ea.add(4),await jo(y),y.Va.set("Unknown"),y.Ea.delete(4),await eh(y)})(this))}))})),this.Va=new lx(s,o)}}async function eh(r){if(Gr(r))for(const e of r.Ra)await e(!0)}async function jo(r){for(const e of r.Ra)await e(!1)}function rE(r,e){const i=Nt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xm(i)?wm(i):al(i).O_()&&Sm(i,e))}function Am(r,e){const i=Nt(r),s=al(i);i.Ia.delete(e),s.O_()&&sE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Gr(i)&&i.Va.set("Unknown"))}function Sm(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}al(r).Z_(e)}function sE(r,e){r.da.$e(e),al(r).X_(e)}function wm(r){r.da=new ew({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Va.ua()}function xm(r){return Gr(r)&&!al(r).x_()&&r.Ia.size>0}function Gr(r){return Nt(r).Ea.size===0}function lE(r){r.da=void 0}async function ux(r){r.Va.set("Online")}async function cx(r){r.Ia.forEach(((e,i)=>{Sm(r,e)}))}async function hx(r,e){lE(r),xm(r)?(r.Va.ha(e),wm(r)):r.Va.set("Unknown")}async function fx(r,e,i){if(r.Va.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){ht(Hr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zc(r,s)}else if(e instanceof Ac?r.da.Xe(e):e instanceof q_?r.da.st(e):r.da.tt(e),!i.isEqual(Rt.min()))try{const s=await nE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(m.resumeToken,d))}})),g.targetMismatches.forEach(((m,y)=>{const E=c.Ia.get(m);if(!E)return;c.Ia.set(m,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),sE(c,m);const b=new Ya(E.target,m,y,E.sequenceNumber);Sm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ht(Hr,"Failed to raise snapshot:",s),await zc(r,s)}}async function zc(r,e,i){if(!il(e))throw e;r.Ea.add(1),await jo(r),r.Va.set("Offline"),i||(i=()=>nE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(Hr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await eh(r)}))}function oE(r,e){return e().catch((i=>zc(r,i,e)))}async function nh(r){const e=Nt(r),i=ir(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cm;for(;dx(e);)try{const o=await Yw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,mx(e,o)}catch(o){await zc(e,o)}uE(e)&&cE(e)}function dx(r){return Gr(r)&&r.Ta.length<10}function mx(r,e){r.Ta.push(e);const i=ir(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function uE(r){return Gr(r)&&!ir(r).x_()&&r.Ta.length>0}function cE(r){ir(r).start()}async function px(r){ir(r).ra()}async function gx(r){const e=ir(r);for(const i of r.Ta)e.ea(i.mutations)}async function yx(r,e,i){const s=r.Ta.shift(),o=gm.from(s,e,i);await oE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nh(r)}async function vx(r,e){e&&ir(r).Y_&&await(async function(s,o){if((function(d){return J2(d)&&d!==nt.ABORTED})(o.code)){const c=s.Ta.shift();ir(s).B_(),await oE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await nh(s)}})(r,e),uE(r)&&cE(r)}async function c0(r,e){const i=Nt(r);i.asyncQueue.verifyOperationInProgress(),ht(Hr,"RemoteStore received new credentials");const s=Gr(i);i.Ea.add(3),await jo(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await eh(i)}async function _x(r,e){const i=Nt(r);e?(i.Ea.delete(2),await eh(i)):e||(i.Ea.add(2),await jo(i),i.Va.set("Unknown"))}function al(r){return r.ma||(r.ma=(function(i,s,o){const c=Nt(i);return c.sa(),new nx(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:ux.bind(null,r),Yo:cx.bind(null,r),t_:hx.bind(null,r),J_:fx.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),xm(r)?wm(r):r.Va.set("Unknown")):(await r.ma.stop(),lE(r))}))),r.ma}function ir(r){return r.fa||(r.fa=(function(i,s,o){const c=Nt(i);return c.sa(),new ix(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:px.bind(null,r),t_:vx.bind(null,r),ta:gx.bind(null,r),na:yx.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await nh(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(Hr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Rm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Rm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(r,e){if(fa("AsyncQueue",`${e}: ${r}`),il(r))return new vt(nt.UNAVAILABLE,`${e}: ${r}`);throw r}class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||bt.comparator(i.key,s.key):(i,s)=>bt.comparator(i.key,s.key),this.keyedMap=co(),this.sortedSet=new Se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Hs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class h0{constructor(){this.ga=new Se(bt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):St(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class $s{constructor(e,i,s,o,c,d,g,m,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new $s(e,i,Hs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class Ex{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Tx{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Nt(i),c=o.queries;o.queries=f0(),c.forEach(((d,g)=>{for(const m of g.ba)m.onError(s)}))})(this,new vt(nt.ABORTED,"Firestore shutting down"))}}function f0(){return new Fr((r=>D_(r)),Xc)}async function hE(r,e){const i=Nt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new Ex,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Cm(d,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Dm(i)}async function fE(r,e){const i=Nt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function bx(r,e){const i=Nt(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(s=!0);d.wa=o}}s&&Dm(i)}function Ax(r,e,i){const s=Nt(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(i);s.queries.delete(e)}function Dm(r){r.Ca.forEach((e=>{e.next()}))}var Qd,d0;(d0=Qd||(Qd={})).Ma="default",d0.Cache="cache";class dE{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new $s(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qd.Cache}}class mE{constructor(e){this.key=e}}class pE{constructor(e){this.key=e}}class Sx{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bt(),this.mutatedKeys=Bt(),this.eu=N_(e),this.tu=new Hs(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new h0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const S=o.get(E),j=$c(this.query,b)?b:null,W=!!S&&this.mutatedKeys.has(S.key),G=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Y=!1;S&&j?S.data.isEqual(j.data)?W!==G&&(s.track({type:3,doc:j}),Y=!0):this.su(S,j)||(s.track({type:2,doc:j}),Y=!0,(m&&this.eu(j,m)>0||y&&this.eu(j,y)<0)&&(g=!0)):!S&&j?(s.track({type:0,doc:j}),Y=!0):S&&!j&&(s.track({type:1,doc:S}),Y=!0,(m||y)&&(g=!0)),Y&&(j?(d=d.add(j),c=G?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,b)=>(function(j,W){const G=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:Y})}};return G(j)-G(W)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,d.length!==0||y?{snapshot:new $s(this.query,e.tu,c,d,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new pE(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new mE(s))})),i}cu(e){this.Za=e.ks,this.Ya=Bt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return $s.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Nm="SyncEngine";class wx{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class xx{constructor(e){this.key=e,this.hu=!1}}class Rx{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((g=>D_(g)),Xc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Se(bt.comparator),this.Au=new Map,this.Vu=new _m,this.du={},this.mu=new Map,this.fu=Xs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cx(r,e,i=!0){const s=TE(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await gE(s,e,i,!0),o}async function Dx(r,e){const i=TE(r);await gE(i,e,!0,!1)}async function gE(r,e,i,s){const o=await Kw(r.localStore,Ui(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Nx(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&rE(r.remoteStore,o),g}async function Nx(r,e,i,s,o){r.pu=(b,S,j)=>(async function(G,Y,rt,it){let ut=Y.view.ru(rt);ut.Ss&&(ut=await r0(G.localStore,Y.query,!1).then((({documents:D})=>Y.view.ru(D,ut))));const mt=it&&it.targetChanges.get(Y.targetId),wt=it&&it.targetMismatches.get(Y.targetId)!=null,Ct=Y.view.applyChanges(ut,G.isPrimaryClient,mt,wt);return p0(G,Y.targetId,Ct.au),Ct.snapshot})(r,b,S,j);const c=await r0(r.localStore,e,!0),d=new Sx(e,c.ks),g=d.ru(c.documents),m=Mo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,m);p0(r,i,y.au);const E=new wx(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function Vx(r,e,i){const s=Nt(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Xc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Am(s.remoteStore,o.targetId),Yd(s,o.targetId)})).catch(nl)):(Yd(s,o.targetId),await Fd(s.localStore,o.targetId,!0))}async function Ix(r,e){const i=Nt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Am(i.remoteStore,s.targetId))}async function Ox(r,e,i){const s=Bx(r);try{const o=await(function(d,g){const m=Nt(d),y=pe.now(),E=g.reduce(((j,W)=>j.add(W.key)),Bt());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let W=da(),G=Bt();return m.xs.getEntries(j,E).next((Y=>{W=Y,W.forEach(((rt,it)=>{it.isValidDocument()||(G=G.add(rt))}))})).next((()=>m.localDocuments.getOverlayedDocuments(j,W))).next((Y=>{b=Y;const rt=[];for(const it of g){const ut=Y2(it,b.get(it.key).overlayedDocument);ut!=null&&rt.push(new lr(it.key,ut,b_(ut.value.mapValue),zi.exists(!0)))}return m.mutationQueue.addMutationBatch(j,y,rt,g)})).next((Y=>{S=Y;const rt=Y.applyToLocalDocumentSet(b,G);return m.documentOverlayCache.saveOverlays(j,Y.batchId,rt)}))})).then((()=>({batchId:S.batchId,changes:I_(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,m){let y=d.du[d.currentUser.toKey()];y||(y=new Se(Pt)),y=y.insert(g,m),d.du[d.currentUser.toKey()]=y})(s,o.batchId,i),await Lo(s,o.changes),await nh(s.remoteStore)}catch(o){const c=Cm(o,"Failed to persist write");i.reject(c)}}async function yE(r,e){const i=Nt(r);try{const s=await Gw(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Jt(d.hu,14607):o.removedDocuments.size>0&&(Jt(d.hu,42227),d.hu=!1))})),await Lo(i,s,e)}catch(s){await nl(s)}}function m0(r,e,i){const s=Nt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const m=Nt(d);m.onlineState=g;let y=!1;m.queries.forEach(((E,b)=>{for(const S of b.ba)S.va(g)&&(y=!0)})),y&&Dm(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Mx(r,e,i){const s=Nt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new Se(bt.comparator);d=d.insert(c,fn.newNoDocument(c,Rt.min()));const g=Bt().add(c),m=new Wc(Rt.min(),new Map,new Se(Pt),d,g);await yE(s,m),s.Ru=s.Ru.remove(c),s.Au.delete(e),Vm(s)}else await Fd(s.localStore,e,!1).then((()=>Yd(s,e,i))).catch(nl)}async function jx(r,e){const i=Nt(r),s=e.batch.batchId;try{const o=await Fw(i.localStore,e);_E(i,s,null),vE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Lo(i,o)}catch(o){await nl(o)}}async function Lx(r,e,i){const s=Nt(r);try{const o=await(function(d,g){const m=Nt(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return m.mutationQueue.lookupMutationBatch(y,g).next((b=>(Jt(b!==null,37113),E=b.keys(),m.mutationQueue.removeMutationBatch(y,b)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>m.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);_E(s,e,i),vE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Lo(s,o)}catch(o){await nl(o)}}function vE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function _E(r,e,i){const s=Nt(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Yd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||EE(r,s)}))}function EE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Am(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),Vm(r))}function p0(r,e,i){for(const s of i)s instanceof mE?(r.Vu.addReference(s.key,e),Ux(r,s)):s instanceof pE?(ht(Nm,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||EE(r,s.key)):St(19791,{wu:s})}function Ux(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ht(Nm,"New document in limbo: "+i),r.Eu.add(s),Vm(r))}function Vm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new bt(Ae.fromString(e)),s=r.fu.next();r.Au.set(s,new xx(i)),r.Ru=r.Ru.insert(i,s),rE(r.remoteStore,new Ya(Ui(Kc(i.path)),s,"TargetPurposeLimboResolution",Fc.ce))}}async function Lo(r,e,i){const s=Nt(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,m)=>{d.push(s.pu(m,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Tm.Es(m.targetId,y);c.push(E)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(m,y){const E=Nt(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>et.forEach(y,(S=>et.forEach(S.Ts,(j=>E.persistence.referenceDelegate.addReference(b,S.targetId,j))).next((()=>et.forEach(S.Is,(j=>E.persistence.referenceDelegate.removeReference(b,S.targetId,j)))))))))}catch(b){if(!il(b))throw b;ht(bm,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const j=E.vs.get(S),W=j.snapshotVersion,G=j.withLastLimboFreeSnapshotVersion(W);E.vs=E.vs.insert(S,G)}}})(s.localStore,c))}async function zx(r,e){const i=Nt(r);if(!i.currentUser.isEqual(e)){ht(Nm,"User change. New user:",e.toKey());const s=await eE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((m=>{m.reject(new vt(nt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lo(i,s.Ns)}}function Px(r,e){const i=Nt(r),s=i.Au.get(e);if(s&&s.hu)return Bt().add(s.key);{let o=Bt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function TE(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Px.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mx.bind(null,e),e.Pu.J_=bx.bind(null,e.eventManager),e.Pu.yu=Ax.bind(null,e.eventManager),e}function Bx(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lx.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return qw(this.persistence,new Bw,e.initialUser,this.serializer)}Cu(e){return new tE(Em.Vi,this.serializer)}Du(e){return new $w}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class kx extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Jt(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ww(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new tE((s=>Uc.Vi(s,i)),this.serializer)}}class Kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>m0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zx.bind(null,this.syncEngine),await _x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Tx})()}createDatastore(e){const i=th(e.databaseInfo.databaseId),s=ex(e.databaseInfo);return sx(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,g){return new ox(s,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>m0(this.syncEngine,i,0)),(function(){return o0.v()?new o0:new Zw})())}createSyncEngine(e,i){return(function(o,c,d,g,m,y,E){const b=new Rx(o,c,d,g,m,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Nt(i);ht(Hr,"RemoteStore shutting down."),s.Ea.add(5),await jo(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kd.provider={build:()=>new Kd};class bE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ar="FirestoreClient";class Hx{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ht(ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ht(ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Cm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ed(r,e){r.asyncQueue.verifyOperationInProgress(),ht(ar,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await eE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function g0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await qx(r);ht(ar,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>c0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>c0(e.remoteStore,o))),r._onlineComponents=e}async function qx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(ar,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;kr("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new Pc)}}else ht(ar,"Using default OfflineComponentProvider"),await Ed(r,new kx(void 0));return r._offlineComponents}async function AE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(ar,"Using user provided OnlineComponentProvider"),await g0(r,r._uninitializedComponentsProvider._online)):(ht(ar,"Using default OnlineComponentProvider"),await g0(r,new Kd))),r._onlineComponents}function Fx(r){return AE(r).then((e=>e.syncEngine))}async function Xd(r){const e=await AE(r),i=e.eventManager;return i.onListen=Cx.bind(null,e.syncEngine),i.onUnlisten=Vx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Dx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ix.bind(null,e.syncEngine),i}function Gx(r,e,i,s){const o=new bE(s),c=new dE(e,o,i);return r.asyncQueue.enqueueAndForget((async()=>hE(await Xd(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>fE(await Xd(r),c)))}}function Qx(r,e,i={}){const s=new Za;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,m,y){const E=new bE({next:S=>{E.Nu(),d.enqueueAndForget((()=>fE(c,b)));const j=S.docs.has(g);!j&&S.fromCache?y.reject(new vt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&m&&m.source==="server"?y.reject(new vt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new dE(Kc(g.path),E,{includeMetadataChanges:!0,Ka:!0});return hE(c,b)})(await Xd(r),r.asyncQueue,e,i,s))),s.promise}function Yx(r,e){const i=new Za;return r.asyncQueue.enqueueAndForget((async()=>Ox(await Fx(r),e,i))),i.promise}function SE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Kx="ComponentProvider",y0=new Map;function Xx(r,e,i,s,o){return new m2(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,SE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const wE="firestore.googleapis.com",v0=!0;class _0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new vt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=v0}else this.host=e.host,this.ssl=e.ssl??v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Aw)throw new vt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new vt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new vt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new vt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QS;switch(s.type){case"firstParty":return new $S(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new vt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=y0.get(i);s&&(ht(Kx,"Removing Datastore"),y0.delete(i),s.terminate())})(this),Promise.resolve()}}function $x(r,e,i,s={}){r=Li(r,Im);const o=rm(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(EA(`https://${g}`),SA("Firestore",!0)),c.host!==wE&&c.host!==g&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:g,ssl:o,emulatorOptions:s};if(!Eo(m,d)&&(r._setSettings(m),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=hn.MOCK_USER;else{y=TA(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new vt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(b)}r._authCredentials=new YS(new h_(y,E))}}class ih{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ih(this.firestore,e,this._query)}}class Fe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Io(i,Fe._jsonSchema))return new Fe(e,s||null,new bt(Ae.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:qe("string",Fe._jsonSchemaVersion),referencePath:qe("string")};class Co extends ih{constructor(e,i,s){super(e,i,Kc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new bt(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function de(r,e,...i){if(r=Ja(r),arguments.length===1&&(e=om.newId()),n2("doc","path",e),r instanceof Im){const s=Ae.fromString(e,...i);return Ov(s),new Fe(r,null,new bt(s))}{if(!(r instanceof Fe||r instanceof Co))throw new vt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ae.fromString(e,...i));return Ov(s),new Fe(r.firestore,r instanceof Co?r.converter:null,new bt(s))}}const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iE(this,"async_queue_retry"),this._c=()=>{const s=_d();s&&ht(E0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;ht(E0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fa("INTERNAL UNHANDLED ERROR: ",b0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Rm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function b0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Zs extends Im{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new T0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function Zx(r,e){const i=typeof r=="object"?r:MS(),s=typeof r=="string"?r:Nc,o=DS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=vA("firestore");c&&$x(o,...c)}return o}function Om(r){if(r._terminated)throw new vt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Jx(r),r._firestoreClient}function Jx(r){const e=r._freezeSettings(),i=Xx(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Hx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(on.fromBase64String(e))}catch(i){throw new vt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Io(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:qe("string",Jn._jsonSchemaVersion),bytes:qe("string")};class Mm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new vt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ah{constructor(e){this._methodName=e}}class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new vt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new vt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Io(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:qe("string",Bi._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};class hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Io(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new hi(e.vectorValues);throw new vt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:qe("string",hi._jsonSchemaVersion),vectorValues:qe("object")};const Wx=/^__.*__$/;class tR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Oo(e,this.data,i,this.fieldTransforms)}}class xE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new lr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function RE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{dataSource:r})}}class rh{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new rh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Bc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(RE(this.dataSource)&&Wx.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||th(e)}createContext(e,i,s,o=!1){return new rh({dataSource:e,methodName:i,targetDoc:s,path:ln.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CE(r){const e=r._freezeSettings(),i=th(r._databaseId);return new eR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function nR(r,e,i,s,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,o);Lm("Data must be an object, but it was:",d,s);const g=DE(s,d);let m,y;if(c.merge)m=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const S=Do(e,b,i);if(!d.contains(S))throw new vt(nt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);IE(E,S)||E.push(S)}m=new Ln(E),y=d.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,y=d.fieldTransforms;return new tR(new wn(g),m,y)}class Uo extends ah{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uo}}function iR(r,e,i){return new rh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jm extends ah{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=iR(this,e,!0),s=this.Ac.map((c=>zo(c,i))),o=new Ks(s);return new q2(e.path,o)}isEqual(e){return e instanceof jm&&Eo(this.Ac,e.Ac)}}function aR(r,e,i,s){const o=r.createContext(1,e,i);Lm("Data must be an object, but it was:",o,s);const c=[],d=wn.empty();sr(s,((m,y)=>{const E=VE(e,m,i);y=Ja(y);const b=o.childContextForFieldPath(E);if(y instanceof Uo)c.push(E);else{const S=zo(y,b);S!=null&&(c.push(E),d.set(E,S))}}));const g=new Ln(c);return new xE(d,g,o.fieldTransforms)}function rR(r,e,i,s,o,c){const d=r.createContext(1,e,i),g=[Do(e,s,i)],m=[o];if(c.length%2!=0)throw new vt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)g.push(Do(e,c[S])),m.push(c[S+1]);const y=[],E=wn.empty();for(let S=g.length-1;S>=0;--S)if(!IE(y,g[S])){const j=g[S];let W=m[S];W=Ja(W);const G=d.childContextForFieldPath(j);if(W instanceof Uo)y.push(j);else{const Y=zo(W,G);Y!=null&&(y.push(j),E.set(j,Y))}}const b=new Ln(y);return new xE(E,b,d.fieldTransforms)}function zo(r,e){if(NE(r=Ja(r)))return Lm("Unsupported field value:",e,r),DE(r,e);if(r instanceof ah)return(function(s,o){if(!RE(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let m=zo(g,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Ja(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return B2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pe.fromDate(s);return{timestampValue:Lc(o.serializer,c)}}if(s instanceof pe){const c=new pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,c)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:G_(o.serializer,s._byteString)};if(s instanceof Fe){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hi)return(function(d,g){const m=d instanceof hi?d.toArray():d;return{mapValue:{fields:{[E_]:{stringValue:T_},[Vc]:{arrayValue:{values:m.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return pm(g.serializer,E)}))}}}}}})(s,o);if(J_(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${um(s)}`)})(r,e)}function DE(r,e){const i={};return m_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sr(r,((s,o)=>{const c=zo(o,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function NE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pe||r instanceof Bi||r instanceof Jn||r instanceof Fe||r instanceof ah||r instanceof hi||J_(r))}function Lm(r,e,i){if(!NE(i)||!f_(i)){const s=um(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Do(r,e,i){if((e=Ja(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return VE(r,e);throw Bc("Field path arguments must be of type string or ",r,!1,void 0,i)}const sR=new RegExp("[~\\*/\\[\\]]");function VE(r,e,i){if(e.search(sR)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Mm(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Bc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new vt(nt.INVALID_ARGUMENT,g+r+m)}function IE(r,e){return r.some((i=>i.isEqual(e)))}class lR{convertValue(e,i="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return sr(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Vc].arrayValue?.values?.map((s=>Ve(s.doubleValue)));return new hi(i)}convertGeoPoint(e){return new Bi(Ve(e.latitude),Ve(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Qc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(So(e));default:return null}}convertTimestamp(e){const i=tr(e);return new pe(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Ae.fromString(e);Jt(Z_(s),9688,{name:e});const o=new wo(s.get(1),s.get(3)),c=new bt(s.popFirst(5));return o.isEqual(i)||fa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class OE extends lR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function xt(){return new Uo("deleteField")}function oR(...r){return new jm("arrayUnion",r)}const A0="@firebase/firestore",S0="4.11.0";function w0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ME{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Do("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class uR extends ME{data(){return super.data()}}function cR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new vt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function hR(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class fo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pr extends ME{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Do("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:qe("string",Pr._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Sc extends Pr{data(e={}){return super.data(e)}}class qs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new fo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Sc(this._firestore,this._userDataWriter,s.key,s,new fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const m=new Sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const m=new Sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:fR(g.type),doc:m,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:qe("string",qs._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};function x0(r){r=Li(r,Fe);const e=Li(r.firestore,Zs),i=Om(e);return Qx(i,r._key).then((s=>LE(e,r,s)))}function Td(r,e,i){r=Li(r,Fe);const s=Li(r.firestore,Zs),o=hR(r.converter,e,i),c=CE(s);return jE(s,[nR(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,zi.none())])}function ke(r,e,i,...s){r=Li(r,Fe);const o=Li(r.firestore,Zs),c=CE(o);let d;return d=typeof(e=Ja(e))=="string"||e instanceof Mm?rR(c,"updateDoc",r._key,e,i,s):aR(c,"updateDoc",r._key,e),jE(o,[d.toMutation(r._key,zi.exists(!0))])}function dR(r,...e){r=Ja(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||w0(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(w0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Fe)d=Li(r.firestore,Zs),g=Kc(r._key.path),c={next:y=>{e[s]&&e[s](LE(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Li(r,ih);d=Li(y.firestore,Zs),g=y._query;const E=new OE(d);c={next:b=>{e[s]&&e[s](new qs(d,E,y,b))},error:e[s+1],complete:e[s+2]},cR(r._query)}const m=Om(d);return Gx(m,g,o,c)}function jE(r,e){const i=Om(r);return Yx(i,e)}function LE(r,e,i){const s=i.docs.get(e._key),o=new OE(r);return new Pr(r,o,e._key,s,new fo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){GS(OS),Cc(new To("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Zs(new KS(s.getProvider("auth-internal")),new ZS(d,s.getProvider("app-check-internal")),p2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Bs(A0,S0,e),Bs(A0,S0,"esm2020")})();var mR="firebase",pR="12.9.0";Bs(mR,pR,"app");const gR={apiKey:"AIzaSyDM_UZv-hVnnC6Tw7TNRHM2sn7b6oEQjAk",authDomain:"werewolf-eb4e3.firebaseapp.com",projectId:"werewolf-eb4e3",storageBucket:"werewolf-eb4e3.firebasestorage.app",messagingSenderId:"170818985903",appId:"1:170818985903:web:bc5e13deef119b0c48195a"},yR=e_(gR),me=Zx(yR),vR=["werewolf","seer","bodyguard","witch","hunter","fool","detective","silencer","cupid","villager"],bd=4,Fs=["werewolf","seer","bodyguard","witch","hunter","fool","detective","silencer","cupid","villager"],UE={werewolf:1,seer:1,bodyguard:1,witch:0,hunter:0,fool:0,detective:0,silencer:0,cupid:0,villager:1},_R={lobby:"Lobby",night:"Night",day:"Day",voting:"Voting",results:"Results"},js={night:45,day:60,voting:30};function ER(){const r="ww_player_id",e=localStorage.getItem(r);if(e)return e;const i=crypto.randomUUID();return localStorage.setItem(r,i),i}function Ad(){return localStorage.getItem("ww_player_name")??""}function Sd(r){localStorage.setItem("ww_player_name",r)}function TR(){const r="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<5;i+=1)e+=r[Math.floor(Math.random()*r.length)];return e}function zE(r){const e=[...r];for(let i=e.length-1;i>0;i-=1){const s=Math.floor(Math.random()*(i+1));[e[i],e[s]]=[e[s],e[i]]}return e}function bR(r){const e=Math.max(1,Math.floor(r/4)),i=Array.from({length:e},()=>"werewolf");for(r>=5&&i.push("seer"),r>=6&&i.push("bodyguard"),r>=7&&i.push("hunter"),r>=8&&i.push("witch"),r>=9&&i.push("fool"),r>=10&&i.push("detective"),r>=11&&i.push("silencer"),r>=12&&i.push("cupid");i.length<r;)i.push("villager");return zE(i)}function AR(r){const e=r?.customRoles??{};return Fs.reduce((i,s)=>{const o=e[s],c=typeof o=="number"&&Number.isFinite(o)?Math.max(0,Math.floor(o)):0;return i[s]=c,i},{})}function SR(r,e){const i=Fs.reduce((o,c)=>o+(e[c]??0),0);if(i!==r)return{deck:null,error:`Custom roles must total ${r}. Current total is ${i}.`};if((e.werewolf??0)<1)return{deck:null,error:"Custom roles must include at least one werewolf."};const s=[];return Fs.forEach(o=>{const c=e[o]??0;for(let d=0;d<c;d+=1)s.push(o)}),{deck:zE(s)}}function R0(r){return r==="werewolf"}function wR(r,e){return R0(r)===R0(e)}function xR(r){switch(r){case"night":return"day";case"day":return"voting";case"voting":return"night";default:return"night"}}function RR(r){if(!r)return null;const e={};Object.values(r).forEach(s=>{e[s]=(e[s]??0)+1});const i=Object.entries(e).filter(([s])=>s!=="skip");return i.length===0?null:(i.sort((s,o)=>o[1]-s[1]),i.length>1&&i[0][1]===i[1][1]?{targetId:null,votes:i[0][1],isTie:!0}:{targetId:i[0][0],votes:i[0][1],isTie:!1})}function PE(r,e){if(!e)return{};const i=e.werewolfTarget,s=e.bodyguardProtect,o=i&&i!==s?i:void 0,c=e.seerInspect,d=r.find(S=>S.id===c),g=e.detectiveTargetA,m=e.detectiveTargetB,y=r.find(S=>S.id===g),E=r.find(S=>S.id===m),b={};return o&&(b.pendingVictimId=o),s&&(b.bodyguardSavedId=s),d&&(b.seerResult={targetId:d.id,role:d.role??"villager"}),y&&E&&(b.detectiveResult={targetIds:[y.id,E.id],sameTeam:wR(y.role,E.role)}),b}function CR(r,e,i,s){const o=PE(r,e),c=new Set,d={},g=e?.witchHeal?"heal":e?.witchPoisonTarget?"poison":"pass",m=e?.witchPoisonTarget,y=o.pendingVictimId??s,E=!!(!i?.healUsed&&g==="heal"&&y),b=!!(!i?.poisonUsed&&g==="poison"&&m);o.bodyguardSavedId&&(d.bodyguardSavedId=o.bodyguardSavedId),o.seerResult&&(d.seerResult=o.seerResult),o.detectiveResult&&(d.detectiveResult=o.detectiveResult),y&&!E&&c.add(y),E&&y&&(d.witchSavedId=y),b&&m&&(c.add(m),d.witchPoisonedId=m);const S=Array.from(c);return S.length>0&&(d.killedIds=S,d.killedId=S[0]),d}function C0(r){const e=r.filter(o=>o.isAlive),i=e.filter(o=>o.role==="werewolf").length,s=e.length-i;return i===0&&e.length>0?{winner:"villagers",reason:"All werewolves are eliminated."}:i>=s&&e.length>0?{winner:"werewolves",reason:"Werewolves have majority control."}:null}function wd(r,e){if(!e||e.length!==2)return r;const[i,s]=e,o=new Set(r);return o.has(i)&&!o.has(s)&&o.add(s),o.has(s)&&!o.has(i)&&o.add(i),Array.from(o)}const BE=H.createContext(null);function DR({children:r}){const e=H.useMemo(()=>ER(),[]),[i,s]=H.useState(Ad()),[o,c]=H.useState(""),[d,g]=H.useState(""),[m,y]=H.useState(null),[E,b]=H.useState(""),[S,j]=H.useState(""),[W,G]=H.useState(!1),[Y,rt]=H.useState(!1),[it,ut]=H.useState(Date.now());H.useEffect(()=>{const K=setInterval(()=>ut(Date.now()),1e3);return()=>clearInterval(K)},[]),H.useEffect(()=>{if(!d)return;const K=de(me,"rooms",d),at=dR(K,$=>{if(!$.exists()){y(null),g(""),j("Room ended.");return}y($.data())});return()=>at()},[d]),H.useEffect(()=>{if(!m||m.players?.[e]||Y)return;const K=Ad().trim();if(!K)return;rt(!0);const at=de(me,"rooms",m.code);ke(at,{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:K,isHost:m.hostId===e,isAlive:!0,isReady:!1,joinedAt:Date.now()}}).finally(()=>rt(!1))},[e,Y,m]),H.useEffect(()=>{if(!m||m.status==="lobby"||m.status==="results"||!m.players?.[e]?.isHost)return;const K=js[m.status];K&&(!m.phaseEndsAt||m.phaseEndsAt<Date.now())&&ke(de(me,"rooms",m.code),{phaseEndsAt:Date.now()+K*1e3,updatedAt:Date.now()})},[e,m]),H.useEffect(()=>{m&&(m.status==="lobby"||m.status==="results"||m.players?.[e]?.isHost&&m.phaseEndsAt&&(it<m.phaseEndsAt||Q()))},[it,e,m]);const mt=m?.players?.[e],wt=mt?.isHost??!1,Ct=async K=>{!m||!wt||m.status==="lobby"&&await ke(de(me,"rooms",m.code),{gameMode:K,updatedAt:Date.now()})},D=async(K,at)=>{if(!m||!wt||m.status!=="lobby")return;const $=Math.max(0,Math.min(16,Math.floor(at)));await ke(de(me,"rooms",m.code),{[`customRoles.${K}`]:$,updatedAt:Date.now()})},x=async()=>{const K=i.trim();if(!K)return j("Please enter a name."),null;Sd(K),j(""),b("Creating room..."),G(!0);let at="",$=!0,Et=0;for(;$&&Et<5;)Et+=1,at=TR(),$=(await x0(de(me,"rooms",at))).exists();if($)return G(!1),b(""),j("Could not create a unique room code. Try again."),null;const yt=Date.now(),Zt={id:e,name:K,isHost:!0,isAlive:!0,isReady:!1,joinedAt:yt},ce={id:at,code:at,status:"lobby",hostId:e,gameMode:"classic",customRoles:{...UE},createdAt:yt,updatedAt:yt,players:{[e]:Zt},dayCount:0};return await Td(de(me,"rooms",at),ce),g(at),c(at),b(""),G(!1),at},R=async()=>{const K=i.trim(),at=o.trim().toUpperCase();if(!K)return j("Please enter a name."),null;if(!at)return j("Enter a room code."),null;Sd(K),j(""),b("Joining room..."),G(!0);const $=de(me,"rooms",at);if(!(await x0($)).exists())return G(!1),b(""),j("Room not found."),null;const yt=Date.now();return await Td($,{updatedAt:yt,[`players.${e}`]:{id:e,name:K,isHost:!1,isAlive:!0,isReady:!1,joinedAt:yt}},{merge:!0}),g(at),c(at),b(""),G(!1),at},M=async()=>{if(!m)return;if(!mt){j("You are not in this room. Please rejoin.");return}const K=de(me,"rooms",m.code);await ke(K,{[`players.${e}.isReady`]:!mt.isReady,updatedAt:Date.now()})},V=async()=>{if(!m||!wt)return;const K=Object.values(m.players);if(K.length<bd){j(`Need at least ${bd} players to start.`);return}if(!K.every(yt=>yt.isReady)){j("Everyone must be ready to start.");return}const at=m.gameMode??"classic";let $=[];if(at==="custom"){const yt=AR(m),Zt=SR(K.length,yt);if(!Zt.deck){j(Zt.error??"Invalid custom role setup.");return}$=Zt.deck}else $=bR(K.length);const Et={status:"night",nightStep:$.includes("cupid")?"cupid":"main",dayCount:1,updatedAt:Date.now(),phaseEndsAt:Date.now()+js.night*1e3,votes:xt(),nightActions:xt(),bodyguardLastProtectedId:xt(),lovers:xt(),silencedPlayerId:xt(),silencedDayCount:xt(),witchState:{healUsed:!1,poisonUsed:!1},witchTurn:xt(),lastNight:xt(),lastEliminated:xt(),hunterPending:xt(),winner:xt(),winReason:xt(),chat:xt()};K.forEach((yt,Zt)=>{Et[`players.${yt.id}.role`]=$[Zt],Et[`players.${yt.id}.isAlive`]=!0,Et[`players.${yt.id}.isReady`]=!1}),await ke(de(me,"rooms",m.code),Et)},U=async K=>{if(!m||!mt)return;const at=de(me,"rooms",m.code);await ke(at,{[`votes.${e}`]:K,updatedAt:Date.now()})},C=async K=>{if(!m||!mt||m.status!=="night"||m.nightStep!=="main"||!mt.isAlive)return;const $={werewolf:["werewolfTarget"],bodyguard:["bodyguardProtect"],seer:["seerInspect"],witch:[],hunter:[],fool:[],detective:["detectiveTargetA","detectiveTargetB"],silencer:["silencerTarget"],cupid:[],villager:[]}[mt.role??"villager"],Et=Object.entries(K).filter(([ge])=>$.includes(ge));if(Et.length===0)return;const yt=Et.find(([ge])=>ge==="bodyguardProtect")?.[1];if(yt&&m.bodyguardLastProtectedId===yt)return;const Zt=Et.find(([ge])=>ge==="silencerTarget")?.[1];if(Zt&&Zt===e||Zt&&!m.players[Zt]?.isAlive)return;const ce=de(me,"rooms",m.code),Gt={updatedAt:Date.now()};Et.forEach(([ge,we])=>{Gt[`nightActions.${ge}`]=we}),await ke(ce,Gt)},ie=async(K,at)=>{if(!m||!mt||m.status!=="night"||m.nightStep!=="witch"||!mt.isAlive||mt.role!=="witch")return;const $=m.witchState??{healUsed:!1,poisonUsed:!1},Et=m.witchTurn?.pendingVictimId,yt={updatedAt:Date.now(),"nightActions.witchHeal":xt(),"nightActions.witchPoisonTarget":xt()};if(K==="heal"){if($.healUsed||!Et)return;yt["nightActions.witchHeal"]=!0}else if(K==="poison"){if($.poisonUsed||!at||!m.players[at]?.isAlive)return;yt["nightActions.witchPoisonTarget"]=at}await ke(de(me,"rooms",m.code),yt)},Wt=async K=>{if(!m||!mt||m.status!=="night"||m.nightStep!=="cupid"||!mt.isAlive||mt.role!=="cupid"||K.length<1||K.length>2)return;const[at,$]=K;at&&($&&at===$||m.players[at]&&($&&!m.players[$]||await ke(de(me,"rooms",m.code),{"nightActions.cupidLoverIds":K,updatedAt:Date.now()})))},Q=async()=>{if(!m||!wt)return;const K=Object.values(m.players),at=xR(m.status),$={status:at,updatedAt:Date.now(),votes:xt(),phaseEndsAt:at!=="lobby"&&at!=="results"?Date.now()+js[at]*1e3:xt()},Et=[];if(m.status==="night"){if(m.nightStep==="cupid"){const mn=m.nightActions?.cupidLoverIds;if(!mn||mn.length!==2){$.status="night",$.phaseEndsAt=Date.now()+js.night*1e3,await ke(de(me,"rooms",m.code),$);return}$.status="night",$.lovers=mn,$.nightActions=xt(),$.nightStep="main",$.phaseEndsAt=Date.now()+js.night*1e3,await ke(de(me,"rooms",m.code),$);return}const Gt=PE(K,m.nightActions),ge=K.find(mn=>mn.role==="witch"&&mn.isAlive),we=m.witchState??{healUsed:!1,poisonUsed:!1},dn=ge&&(!we.healUsed||!we.poisonUsed);if(!(m.nightStep==="witch")&&dn){$.status="night",$.nightStep="witch",$.witchTurn={pendingVictimId:Gt.pendingVictimId,action:"pass"},$.phaseEndsAt=Date.now()+js.night*1e3,await ke(de(me,"rooms",m.code),$);return}const di=m.witchTurn?.pendingVictimId??Gt.pendingVictimId,Ke=CR(K,m.nightActions,we,di);let Kt=Ke.killedIds??(Ke.killedId?[Ke.killedId]:[]);Kt=wd(Kt,m.lovers),Kt.length>0&&(Ke.killedIds=Kt,Ke.killedId=Kt[0]),Kt.forEach(mn=>{$[`players.${mn}.isAlive`]=!1,Et.push(mn)});const ue=!!(m.nightActions?.witchHeal&&di&&!(m.witchState?.healUsed??!1)),Pn=!!(m.nightActions?.witchPoisonTarget&&!(m.witchState?.poisonUsed??!1));$.witchState={healUsed:!!((m.witchState?.healUsed??!1)||ue),poisonUsed:!!((m.witchState?.poisonUsed??!1)||Pn)},m.nightActions?.bodyguardProtect&&($.bodyguardLastProtectedId=m.nightActions.bodyguardProtect),$.lastNight=Ke,$.nightActions=xt(),$.witchTurn=xt(),$.nightStep="main",m.nightActions?.silencerTarget&&($.silencedPlayerId=m.nightActions.silencerTarget,$.silencedDayCount=m.dayCount||1)}if(m.status==="voting"){const Gt=RR(m.votes);if(Gt?.targetId){const ge=wd([Gt.targetId],m.lovers);if(ge.forEach(dn=>{$[`players.${dn}.isAlive`]=!1,Et.push(dn)}),$.lastEliminated=ge,K.find(dn=>dn.id===Gt.targetId)?.role==="fool"){$.status="results",$.phaseEndsAt=xt(),$.winner="fool",$.winReason="The Fool was voted out and wins instantly.",await ke(de(me,"rooms",m.code),$);return}}else $.lastEliminated=[]}m.status==="day"&&m.silencedDayCount&&m.silencedDayCount===m.dayCount&&($.silencedPlayerId=xt(),$.silencedDayCount=xt());const yt=Et.find(Gt=>K.find(we=>we.id===Gt)?.role==="hunter");yt&&($.hunterPending=yt);const Zt=K.map(Gt=>Et.includes(Gt.id)?{...Gt,isAlive:!1}:Gt),ce=C0(Zt);ce&&!yt?($.status="results",$.phaseEndsAt=xt(),$.winner=ce.winner,$.winReason=ce.reason):$.status==="night"&&($.dayCount=(m.dayCount||1)+1,$.nightStep="main",$.witchTurn=xt(),$.nightActions=xt()),await ke(de(me,"rooms",m.code),$)},st=async()=>{if(!m||!wt)return;const K={status:"lobby",updatedAt:Date.now(),phaseEndsAt:xt(),nightStep:xt(),bodyguardLastProtectedId:xt(),votes:xt(),nightActions:xt(),witchState:xt(),witchTurn:xt(),lastNight:xt(),lastEliminated:xt(),hunterPending:xt(),lovers:xt(),silencedPlayerId:xt(),silencedDayCount:xt(),winner:xt(),winReason:xt()};Object.values(m.players).forEach(at=>{K[`players.${at.id}.isReady`]=!1,K[`players.${at.id}.role`]=xt(),K[`players.${at.id}.isAlive`]=!0}),await ke(de(me,"rooms",m.code),K)},pt=async()=>{if(!m)return;const K=de(me,"rooms",m.code),at=Object.values(m.players).filter(Et=>Et.id!==e),$={[`players.${e}`]:xt(),updatedAt:Date.now()};if(wt&&at.length>0){const Et=at[0];$.hostId=Et.id,$[`players.${Et.id}.isHost`]=!0}await ke(K,$),g(""),y(null)},Mt=async()=>{if(!m)return;const K=i.trim()||Ad().trim();if(!K){j("Enter your name to rejoin.");return}Sd(K),await Td(de(me,"rooms",m.code),{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:K,isHost:m.hostId===e,isAlive:!0,isReady:!1,joinedAt:Date.now()}},{merge:!0})},Ht=async K=>{if(!m||!mt)return;if(!mt.isAlive){j("Eliminated players cannot chat.");return}if(m.status==="day"&&m.silencedPlayerId===e&&m.silencedDayCount===m.dayCount){j("You are silenced for today.");return}if(m.status==="night"&&mt.role!=="werewolf"){j("Only werewolves can chat at night.");return}const at=K.trim();at&&await ke(de(me,"rooms",m.code),{chat:oR({id:crypto.randomUUID(),senderId:e,senderName:mt.name,message:at,audience:m.status==="night"?"werewolves":"all",createdAt:Date.now()}),updatedAt:Date.now()})},I=async K=>{if(!m||!m.players?.[e]?.isHost||!m.players?.[K]||K===e)return;const at={[`players.${K}`]:xt(),updatedAt:Date.now()};m.hostId===K&&(at.hostId=e,at[`players.${e}.isHost`]=!0),await ke(de(me,"rooms",m.code),at)},J=async K=>{if(!m||!mt||!m.hunterPending||m.hunterPending!==e||!K)return;const at=m.players[K];if(!at||!at.isAlive)return;const $=Object.values(m.players),Et=wd([K],m.lovers),yt=$.map(Gt=>Et.includes(Gt.id)?{...Gt,isAlive:!1}:Gt),Zt=C0(yt),ce={hunterPending:xt(),lastEliminated:[...m.lastEliminated??[],...Et],updatedAt:Date.now()};Et.forEach(Gt=>{ce[`players.${Gt}.isAlive`]=!1}),Zt&&(ce.status="results",ce.phaseEndsAt=xt(),ce.winner=Zt.winner,ce.winReason=Zt.reason),await ke(de(me,"rooms",m.code),ce)},ct=m?.phaseEndsAt?Math.max(0,Math.ceil((m.phaseEndsAt-it)/1e3)):null,lt={playerId:e,playerName:i,setPlayerName:s,roomCode:o,setRoomCode:c,activeCode:d,setActiveCode:g,room:m,status:E,error:S,loading:W,me:mt,isHost:wt,rolesPalette:vR,phaseLabels:_R,minPlayers:bd,countdown:ct,setGameMode:Ct,setCustomRoleCount:D,createRoom:x,joinRoom:R,leaveRoom:pt,rejoinRoom:Mt,toggleReady:M,startGame:V,advancePhase:Q,resetLobby:st,setVote:U,setNightAction:C,setWitchAction:ie,setCupidAction:Wt,sendChat:Ht,sendHunterShot:J,removePlayer:I};return w.jsx(BE.Provider,{value:lt,children:r})}function kE(){const r=H.useContext(BE);if(!r)throw new Error("useRoom must be used within RoomProvider");return r}const NR=[{icon:"",title:"Werewolves",text:"Hunt at night"},{icon:"",title:"Seer",text:"Reveal one role"},{icon:"",title:"Bodyguard",text:"Protect one player"},{icon:"",title:"Witch",text:"Heal or poison once"},{icon:"",title:"Hunter",text:"Final revenge shot"},{icon:"",title:"Fool",text:"Wins if voted out"},{icon:"",title:"Detective",text:"Compare two players"},{icon:"",title:"Silencer",text:"Mutes a voice"},{icon:"",title:"Cupid",text:"Links two lovers"}];function VR(){const[r,e]=H.useState("create"),i=Hc(),{playerName:s,setPlayerName:o,roomCode:c,setRoomCode:d,room:g,loading:m,status:y,error:E,createRoom:b,joinRoom:S}=kE(),j=async()=>{const G=await b();G&&i(`/room/${G}`)},W=async()=>{const G=await S();G&&i(`/room/${G}`)};return w.jsx("div",{className:"h-dvh overflow-hidden bg-ashen text-slate-100",children:w.jsxs("div",{className:"relative h-full overflow-hidden",children:[w.jsx("div",{className:"hero-glow"}),w.jsx("div",{className:"lobby-fireflies"}),w.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-80",children:[w.jsx("div",{className:"parallax-layer parallax-slow"}),w.jsx("div",{className:"parallax-layer parallax-fast"})]}),w.jsxs("div",{className:"lobby-shell relative z-10 mx-auto flex h-full w-full max-w-7xl flex-col px-4 py-4 sm:px-6 sm:py-5 lg:px-8",children:[w.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950 shadow-ember",children:"W"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-ashen-300 sm:text-xs",children:"Werewolf Online"}),w.jsx("h1",{className:"font-display text-2xl sm:text-3xl",children:"Night Council"})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"Social Deduction"}),w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"One Screen Lobby"})]})]}),w.jsxs("main",{className:"mt-3 grid min-h-0 flex-1 gap-3 lg:grid-cols-[minmax(0,1.15fr)_minmax(280px,0.85fr)] xl:gap-4",children:[w.jsxs("section",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/70 p-3 shadow-inky backdrop-blur sm:p-4",children:[w.jsxs("div",{className:"grid gap-3 md:grid-cols-[minmax(0,1.1fr)_minmax(220px,0.9fr)]",children:[w.jsxs("div",{className:"min-w-0",children:[w.jsx("div",{className:"inline-flex items-center gap-2 rounded-full border border-ashen-600 bg-ashen-800/70 px-3 py-1 text-[11px] uppercase tracking-[0.22em] text-ashen-200",children:"The Village Awaits"}),w.jsx("h2",{className:"mt-2 font-display text-2xl leading-tight sm:text-3xl xl:text-4xl",children:"Bluff hard. Vote smart. Survive the night."}),w.jsx("p",{className:"lobby-tight-copy mt-2 text-sm text-ashen-200",children:"Join your friends, receive a secret role, and outplay the pack before dawn."})]}),w.jsxs("div",{className:"hero-art lobby-float-card",children:[w.jsx("div",{className:"mist"}),w.jsx("div",{className:"moon-orbit",children:w.jsx("div",{className:"moon"})}),w.jsx("svg",{viewBox:"0 0 420 180",className:"wolf-silhouette","aria-hidden":"true",children:w.jsx("path",{fill:"currentColor",d:"M0 160h420v20H0zM85 150l28-22 15 5 18-20 24 12 18-13 28 10 16-9 25 11 20-15 26 13 17-6 29 14v40H85z"})})]})]}),w.jsxs("div",{className:"mt-3 grid gap-2 rounded-2xl border border-ashen-700 bg-ashen-900/80 p-3 sm:p-4",children:[w.jsx("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/60 p-1",children:w.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[w.jsx("button",{onClick:()=>e("create"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${r==="create"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Create"}),w.jsx("button",{onClick:()=>e("join"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${r==="join"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Join"})]})}),w.jsxs("div",{className:"grid gap-2",children:[w.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Your name"}),w.jsx("input",{value:s,onChange:G=>o(G.target.value),placeholder:"Enter a nickname",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm text-ashen-100 outline-none focus:border-ember"})]}),r==="join"&&w.jsxs("div",{className:"grid gap-2",children:[w.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Room code"}),w.jsx("input",{value:c,onChange:G=>d(G.target.value.toUpperCase()),placeholder:"ABCDE",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm uppercase tracking-[0.2em] text-ashen-100 outline-none focus:border-ember"})]}),r==="create"?w.jsx("button",{onClick:j,disabled:m,className:"lobby-cta rounded-lg px-5 py-2.5 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Summon Room"}):w.jsx("button",{onClick:W,disabled:m,className:"rounded-lg border border-ashen-500 bg-ashen-800/40 px-5 py-2.5 text-sm font-semibold text-ashen-100 transition hover:border-ember disabled:opacity-60",children:"Enter Room"}),w.jsxs("div",{className:"min-h-5 text-xs sm:text-sm",children:[y&&w.jsx("p",{className:"text-ashen-300",children:y}),E&&w.jsx("p",{className:"text-ember",children:E})]})]}),w.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:NR.map(G=>w.jsxs("div",{className:"lobby-float-card rounded-xl border border-ashen-700 bg-ashen-900/80 px-3 py-2.5",children:[w.jsx("p",{className:"text-lg leading-none",children:G.icon}),w.jsx("p",{className:"mt-1 font-display text-sm",children:G.title}),w.jsx("p",{className:"text-xs text-ashen-300",children:G.text})]},G.title))})]}),w.jsxs("aside",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/80 p-3 shadow-inky backdrop-blur sm:p-4",children:[w.jsx("h3",{className:"font-display text-lg sm:text-xl",children:"Tonight's Briefing"}),w.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-200 sm:grid-cols-3 lg:grid-cols-1",children:[w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Night"}),w.jsx("p",{className:"mt-1 text-xs",children:"Werewolves strike. Seer, Bodyguard, and Witch act in secret."})]}),w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Day"}),w.jsx("p",{className:"mt-1 text-xs",children:"Debate, accuse, and force lies into the open."})]}),w.jsxs("div",{className:"lobby-optional rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Vote"}),w.jsx("p",{className:"mt-1 text-xs",children:"Majority decides who faces elimination."})]})]}),w.jsxs("div",{className:"mt-3 min-h-0 flex-1 rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Players in room"}),w.jsx("div",{className:"mt-2 flex h-full max-h-40 flex-wrap content-start gap-2 overflow-y-auto pr-1 text-xs text-ashen-200",children:g?Object.values(g.players).map(G=>w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-700/80 px-3 py-1",children:G.name},G.id)):"Waiting for players"})]})]})]})]})]})})}const IR={werewolf:"Coordinate with other werewolves and strike together.",seer:"Inspect a player each night to learn their role.",bodyguard:"Protect one player each night, but not the same player on consecutive nights.",witch:"Act after others. Heal the pending victim or poison someone once each.",hunter:"If you fall, pick one player to take down with you.",fool:"You win if the village votes you out during the day.",detective:"Choose two players at night to learn if they share a team.",silencer:"Choose one player at night. They cannot speak the next day.",cupid:"Link two lovers at the start of the game. If one dies, the other follows.",villager:"Discuss, deduce, and vote to eliminate werewolves."},OR={werewolf:"",seer:"",bodyguard:"",witch:"",hunter:"",fool:"",detective:"",silencer:"",cupid:"",villager:""},MR=["#F7D7C4","#E9C4A3","#D8A57E","#B98364","#8D5E3C","#7C4A2B"],jR=["#1F2937","#4B2E2A","#A16207","#6B7280","#111827","#3F2E1E"],LR=["#22D3EE","#F97316","#A78BFA","#10B981","#F43F5E","#38BDF8"],UR=["none","glasses","hat","scar","earring","headband"],zR=["round","sleepy","wink","focused"],PR=["smile","smirk","neutral","open"],BR=["short","swoop","curly","spiky"],kR=["hoodie","tee","collar"];function Qa(r,e){return r[e%r.length]}function HR(r){let e=0;for(let i=0;i<r.length;i+=1)e=(e*31+r.charCodeAt(i))%1e4;return e}function qR({seed:r,sizeClass:e="h-14 w-14"}){const i=Qa(MR,r),s=Qa(jR,r+3),o=Qa(LR,r+7),c=Qa(UR,r+11),d=Qa(zR,r+13),g=Qa(PR,r+17),m=Qa(BR,r+19),y=Qa(kR,r+23),E=c==="glasses",b=c==="hat",S=c==="scar",j=c==="earring",W=c==="headband";return w.jsxs("svg",{viewBox:"0 0 140 140",className:e,"aria-hidden":"true",children:[w.jsx("rect",{x:"0",y:"0",width:"140",height:"140",fill:"none"}),w.jsx("circle",{cx:"70",cy:"56",r:"26",fill:i}),w.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),m==="short"&&w.jsx("path",{d:"M42 50c6-12 16-18 28-18 12 0 22 6 28 18",fill:s}),m==="swoop"&&w.jsx("path",{d:"M36 54c8-18 24-26 40-26 12 0 22 6 28 14",fill:s}),m==="curly"&&w.jsx("path",{d:"M40 54c6-14 18-20 30-20 12 0 22 6 30 20",fill:s}),m==="spiky"&&w.jsx("path",{d:"M42 54l10-16 10 10 8-12 8 12 8-10 12 16",fill:s}),w.jsx("path",{d:"M42 62c4 14 16 24 28 24s24-10 28-24",fill:"none"}),b&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"36",y:"28",width:"68",height:"10",fill:"#0F172A"}),w.jsx("rect",{x:"50",y:"14",width:"40",height:"18",rx:"4",fill:"#0F172A"})]}),E&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"44",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),w.jsx("rect",{x:"76",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),w.jsx("rect",{x:"64",y:"56",width:"12",height:"2",fill:"#111827"})]}),W&&w.jsx("rect",{x:"38",y:"44",width:"64",height:"8",rx:"4",fill:"#F97316"}),S&&w.jsx("rect",{x:"78",y:"46",width:"18",height:"3",rx:"1.5",fill:"#9CA3AF"}),j&&w.jsx("circle",{cx:"96",cy:"70",r:"4",fill:"#FBBF24"}),d==="round"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"})]}),d==="sleepy"&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"56",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"}),w.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="wink"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="focused"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("path",{d:"M54 54h12",stroke:"#1F2937",strokeWidth:"2"}),w.jsx("path",{d:"M74 54h12",stroke:"#1F2937",strokeWidth:"2"})]}),g==="smile"&&w.jsx("path",{d:"M60 74c6 6 14 6 20 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="smirk"&&w.jsx("path",{d:"M62 74c6 3 12 3 18 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="neutral"&&w.jsx("path",{d:"M62 74h18",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="open"&&w.jsx("circle",{cx:"70",cy:"76",r:"5",fill:"#1F2937"}),y==="hoodie"&&w.jsx("path",{d:"M38 132c6-20 22-32 32-32h0c10 0 26 12 32 32",fill:o}),y==="tee"&&w.jsx("path",{d:"M32 132c10-26 24-36 38-36h0c14 0 28 10 38 36",fill:o}),y==="collar"&&w.jsxs(w.Fragment,{children:[w.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),w.jsx("path",{d:"M60 90l10 12 10-12",fill:"#F8FAFC",opacity:"0.8"})]})]})}function FR(){const r=Hc(),{code:e}=fb(),[i,s]=H.useState(""),[o,c]=H.useState(!1),[d,g]=H.useState(!1),{playerId:m,setActiveCode:y,room:E,error:b,me:S,isHost:j,countdown:W,phaseLabels:G,setGameMode:Y,setCustomRoleCount:rt,toggleReady:it,rejoinRoom:ut,leaveRoom:mt,startGame:wt,advancePhase:Ct,resetLobby:D,setVote:x,setNightAction:R,setWitchAction:M,setCupidAction:V,sendChat:U,sendHunterShot:C,removePlayer:ie}=kE();H.useEffect(()=>{e&&y(e)},[e,y]),H.useEffect(()=>{if(!E||E.status==="lobby"){c(!1),g(!1);return}S?.role&&(d||o||c(!0))},[S?.role,d,E,o]),H.useEffect(()=>{if(!o)return;const ft=setTimeout(()=>{c(!1),g(!0)},2600);return()=>clearTimeout(ft)},[o]);const Wt=H.useMemo(()=>E?Object.values(E.players).sort((ft,Te)=>ft.joinedAt!==Te.joinedAt?ft.joinedAt-Te.joinedAt:ft.id.localeCompare(Te.id)):[],[E]),Q=H.useMemo(()=>Wt.filter(ft=>ft.isAlive),[Wt]),st=E?.gameMode??"classic",pt=H.useMemo(()=>E?Fs.reduce((ft,Te)=>{const Tt=E.customRoles?.[Te];return ft[Te]=typeof Tt=="number"&&Number.isFinite(Tt)?Math.max(0,Math.floor(Tt)):0,ft},{}):{...UE},[E]),Mt=Fs.reduce((ft,Te)=>ft+(pt[Te]??0),0),Ht=(pt.werewolf??0)>0,I=Mt===Wt.length,J=st==="classic"||Ht&&I,ct=E?.votes?.[m],lt=E?.nightActions,K=E?.lastNight,at=E?.status==="night",$=E?.nightStep==="main",Et=E?.status==="night"&&E?.nightStep==="witch",yt=E?.status==="night"&&E?.nightStep==="cupid",Zt=E?.witchTurn?.pendingVictimId?E.players[E.witchTurn.pendingVictimId]?.name??"Unknown":null,ce=S?.role==="werewolf",Gt=E?.status==="day"&&E?.silencedPlayerId===m&&E?.silencedDayCount===E?.dayCount,ge=E?.lovers??[],we=ge.includes(m),dn=we?ge.find(ft=>ft!==m):void 0,zn=dn?E?.players?.[dn]:void 0,di=ge.length===2&&d,Ke=yt?"Waiting for Cupid to act.":"Waiting for the Witch to act.",Kt=!!(S?.isAlive&&!Gt&&(!at||ce)),ue=E?.hunterPending===m,Pn=!!(E?.hunterPending&&!ue),mn=!!(Et&&S?.isAlive&&S.role==="witch"),or=E?.chat?.filter(ft=>(ft.audience??"all")==="all"||ce),Xe=async()=>{await U(i),s("")},qi=async()=>{await mt(),r("/")};return E?w.jsx("div",{className:"min-h-screen bg-ashen text-slate-100 lg:h-screen lg:overflow-hidden",children:w.jsxs("div",{className:"relative overflow-hidden",children:[w.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-70",children:[w.jsx("div",{className:"parallax-layer parallax-slow"}),w.jsx("div",{className:"parallax-layer parallax-fast"})]}),w.jsx("div",{className:"hero-glow"}),w.jsxs("div",{className:"relative z-10 mx-auto px-5 py-6 lg:h-full",children:[o&&w.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-ashen/90 px-6",children:w.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-ashen-700 bg-ashen-900/90 p-8 text-center shadow-inky",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Role Draw"}),w.jsx("h2",{className:"mt-3 font-display text-2xl",children:"Spinning the wheel..."}),w.jsx("div",{className:"mt-6 grid place-items-center",children:w.jsx("div",{className:"role-wheel"})}),w.jsx("p",{className:"mt-4 text-sm text-ashen-300",children:"Your role is being revealed."})]})}),w.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950",children:"W"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-ashen-400",children:"Werewolf Online"}),w.jsxs("h1",{className:"font-display text-2xl",children:["Room ",E.code]})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[w.jsx("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:G[E.status]}),Et&&w.jsx("span",{className:"rounded-full border border-emerald-500/40 bg-emerald-500/10 px-3 py-1 text-xs text-emerald-200",children:"Witch Turn"}),W!==null&&E.status!=="lobby"&&E.status!=="results"&&w.jsxs("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:[W,"s left"]}),j&&E.status!=="results"&&w.jsx("button",{onClick:Ct,className:"rounded-lg bg-ember px-3 py-2 text-xs font-semibold text-slate-950",children:"Advance Phase"}),j&&w.jsx("button",{onClick:D,className:"rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Reset to Lobby"}),w.jsx("button",{onClick:qi,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:"Leave Room"})]})]}),w.jsxs("main",{className:"mt-4 grid gap-4 lg:h-[calc(100vh-120px)] lg:grid-cols-[1.25fr_0.75fr] lg:overflow-hidden",children:[w.jsx("section",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 lg:flex lg:h-full lg:flex-col",children:[w.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Players"}),w.jsx("h3",{className:"font-display text-xl",children:"Village Roster"})]}),w.jsxs("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:[Q.length," alive / ",Wt.length," total"]})]}),w.jsx("div",{className:"mt-2 grid flex-1 auto-rows-fr gap-2 overflow-hidden sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:16}).map((ft,Te)=>{const Tt=Wt[Te];if(!Tt)return w.jsx("div",{className:"rounded-2xl border border-dashed border-ashen-700/60 bg-ashen-900/40 p-3 text-xs text-ashen-500",children:"Empty slot"},`slot-${Te}`);const ma=Tt.id===m,Qr=ma&&Tt.role,Yr=(E.status==="night"?S?.role==="werewolf"?[lt?.werewolfTarget]:S?.role==="bodyguard"?[lt?.bodyguardProtect]:S?.role==="seer"?[lt?.seerInspect]:S?.role==="witch"?[lt?.witchPoisonTarget]:S?.role==="silencer"?[lt?.silencerTarget]:S?.role==="detective"?[lt?.detectiveTargetA,lt?.detectiveTargetB]:S?.role==="cupid"&&yt?lt?.cupidLoverIds??[]:[]:[]).filter(Boolean),xn=E.status==="voting"&&ct===Tt.id||E.status==="night"&&Yr.includes(Tt.id),Ie=E.status==="voting"?!!S?.isAlive:E.status==="night"?!!(S?.isAlive&&(yt&&S.role==="cupid"||$&&(S.role==="werewolf"||S.role==="bodyguard"||S.role==="seer"||S.role==="detective"||S.role==="silencer"))):!!ue;return w.jsxs("div",{onClick:()=>{if(Ie&&Tt.isAlive){if(E.status==="voting"){x(Tt.id===m?"skip":Tt.id);return}if(E.status==="night"){if(yt){if(S?.role!=="cupid")return;const ye=lt?.cupidLoverIds??[];if(ye.length===0){V([Tt.id]);return}if(ye.length===1){if(ye[0]===Tt.id)return;V([ye[0],Tt.id]);return}if(ye.length===2){if(ye.includes(Tt.id))return;V([ye[0],Tt.id])}return}if(!$)return;if(S?.role==="werewolf"&&Tt.id!==m&&R({werewolfTarget:Tt.id}),S?.role==="bodyguard"){if(Tt.id===E.bodyguardLastProtectedId)return;R({bodyguardProtect:Tt.id})}if(S?.role==="seer"&&Tt.id!==m&&R({seerInspect:Tt.id}),S?.role==="detective"){const ye=lt?.detectiveTargetA,be=lt?.detectiveTargetB;ye?!be&&Tt.id!==ye?R({detectiveTargetB:Tt.id}):Tt.id!==ye&&R({detectiveTargetB:Tt.id}):R({detectiveTargetA:Tt.id})}S?.role==="silencer"&&Tt.id!==m&&R({silencerTarget:Tt.id});return}ue&&Tt.id!==m&&C(Tt.id)}},className:`relative flex h-full flex-col overflow-hidden rounded-2xl border bg-ashen-800/70 transition ${ma?"border-ember shadow-[0_0_0_2px_rgba(245,176,76,0.35),0_14px_24px_rgba(0,0,0,0.35)]":"border-ashen-700"} ${Tt.isAlive?"opacity-100":"opacity-40"} ${xn?"ring-2 ring-emerald-400/80":""} ${Ie?"cursor-pointer":""}`,children:[w.jsxs("div",{className:"absolute left-2 top-2 z-10 flex items-center gap-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-ashen-100",children:[w.jsx("span",{children:Tt.name}),ma&&w.jsx("span",{className:"text-[9px] text-ember",children:"You"})]}),w.jsxs("div",{className:"relative grid flex-1 place-items-center gap-2 bg-ashen-900/40 p-3 pt-7",children:[w.jsx("div",{className:"relative grid h-20 w-full place-items-center overflow-hidden rounded-xl border border-ashen-700 bg-ashen-800/60",children:w.jsx(qR,{seed:HR(Tt.id),sizeClass:"h-16 w-16"})}),!Tt.isAlive&&w.jsx("div",{className:"absolute right-2 top-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] text-ashen-300","aria-label":"Eliminated",children:""})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-1 px-2 py-2 text-[9px] uppercase tracking-[0.2em] text-ashen-200",children:[w.jsx("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1",children:Tt.isAlive?"Active":"Out"}),E.status==="lobby"&&w.jsx("span",{className:`rounded-full px-2 py-1 ${Tt.isReady?"bg-emerald-500/20 text-emerald-200":"bg-ashen-700/70 text-ashen-300"}`,children:Tt.isReady?"Ready":"Not Ready"}),Tt.isHost&&w.jsx("span",{className:"rounded-full bg-ember/20 px-2 py-1 text-ember",children:"Crown"}),Qr&&Tt.role&&w.jsxs("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1 text-ashen-100",children:[OR[Tt.role]," ",Tt.role]}),j&&!ma&&w.jsx("button",{onClick:()=>ie(Tt.id),className:"rounded-full bg-rose-500/20 px-2 py-1 text-rose-200",children:"Remove"})]})]},Tt.id)})})]})}),w.jsxs("aside",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:[w.jsx("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3",children:w.jsxs("div",{className:"grid gap-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"You"}),w.jsxs("div",{className:"mt-2 grid gap-1 text-sm text-ashen-200",children:[w.jsxs("p",{children:["Role:"," ",w.jsx("span",{className:"text-ashen-100",children:d?S?.role??"...":"???"})]}),w.jsx("p",{className:"text-ashen-300",children:d&&S?.role?IR[S.role]:"Role hidden until the wheel stops."}),di&&we&&zn&&w.jsxs("p",{children:["Lover:"," ",w.jsxs("span",{className:"text-ashen-100",children:[zn.name," (",zn.role??"unknown",")"]})]}),w.jsxs("p",{children:["Status:"," ",w.jsx("span",{className:"text-ashen-100",children:S?.isAlive?"Alive":"Eliminated"})]})]}),E.status==="lobby"&&w.jsxs("div",{className:"mt-3 space-y-3",children:[w.jsxs("div",{className:"flex flex-wrap gap-2",children:[S?w.jsx("button",{onClick:it,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:S.isReady?"Unready":"Ready"}):w.jsx("button",{onClick:ut,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:"Rejoin Room"}),j&&w.jsx("button",{onClick:wt,disabled:!J,className:"rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950 disabled:cursor-not-allowed disabled:opacity-60",children:"Start Game"}),j&&w.jsx("button",{onClick:D,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:"Reset to Lobby"})]}),j&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Game setup"}),w.jsxs("div",{className:"mt-2 flex gap-2",children:[w.jsx("button",{onClick:()=>Y("classic"),className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${st==="classic"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Classic"}),w.jsx("button",{onClick:()=>Y("custom"),className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${st==="custom"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Custom"})]}),st==="custom"&&w.jsxs("div",{className:"mt-3 space-y-2",children:[Fs.map(ft=>w.jsxs("div",{className:"flex items-center justify-between gap-2",children:[w.jsx("span",{className:"capitalize text-xs text-ashen-200",children:ft}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:()=>rt(ft,(pt[ft]??0)-1),className:"rounded-md border border-ashen-500 px-2 py-1 text-xs text-ashen-100",children:"-"}),w.jsx("span",{className:"w-5 text-center text-xs text-ashen-100",children:pt[ft]??0}),w.jsx("button",{onClick:()=>rt(ft,(pt[ft]??0)+1),className:"rounded-md border border-ashen-500 px-2 py-1 text-xs text-ashen-100",children:"+"})]})]},ft)),w.jsxs("p",{className:"text-xs text-ashen-300",children:["Total roles: ",Mt," / Players: ",Wt.length]}),!Ht&&w.jsx("p",{className:"text-xs text-ember",children:"Custom setup must include at least 1 werewolf."}),!I&&w.jsx("p",{className:"text-xs text-ember",children:"Role total must match player count."})]})]})]})]}),w.jsxs("div",{className:"space-y-3",children:[E.status==="night"&&S?.isAlive&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Night actions"}),w.jsxs("p",{className:"mt-2",children:[S.role==="werewolf"&&($?"Click a player in the grid to choose the werewolf target.":Ke),S.role==="bodyguard"&&($?"Click a player in the grid to protect them. You cannot protect the same player as last night.":Ke),S.role==="bodyguard"&&$&&E.bodyguardLastProtectedId&&` Last protected: ${E.players[E.bodyguardLastProtectedId]?.name??"Unknown"}.`,S.role==="seer"&&($?"Click a player in the grid to inspect them.":Ke),S.role==="detective"&&($?"Select two players to learn if they share a team.":Ke),S.role==="silencer"&&($?"Click a player to silence them for tomorrow.":Ke),S.role==="cupid"&&(yt?"Choose two players to become lovers.":"You have no further night action."),S.role==="witch"&&(Et?"Choose to heal the pending victim, poison a player, or pass.":"Wait for Werewolf, Bodyguard, and Seer to finish. You act next."),S.role==="fool"&&"You have no night action.",S.role==="villager"&&"You have no night action.",S.role==="hunter"&&"You have no night action."]})]}),Et&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Witch turn"}),w.jsx("p",{className:"mt-2",children:Zt?`Pending victim: ${Zt}.`:"No pending victim tonight."}),mn&&w.jsxs("div",{className:"mt-3 space-y-2",children:[!E.witchState?.healUsed&&E.witchTurn?.pendingVictimId&&w.jsx("button",{onClick:()=>M("heal"),className:"rounded-lg bg-emerald-500/20 px-3 py-2 text-xs font-semibold text-emerald-200",children:"Use Heal Potion"}),!E.witchState?.poisonUsed&&w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-ashen-400",children:"Poison target:"}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Q.filter(ft=>ft.id!==m).map(ft=>w.jsx("button",{onClick:()=>M("poison",ft.id),className:"rounded-full bg-rose-500/20 px-3 py-1 text-xs text-rose-200",children:ft.name},ft.id))})]}),w.jsx("button",{onClick:()=>M("pass"),className:"rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Pass"})]})]}),yt&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Cupid turn"}),w.jsx("p",{className:"mt-2",children:"Select two players in the grid to become lovers."}),lt?.cupidLoverIds?.length?w.jsxs("p",{className:"mt-2 text-xs text-ashen-300",children:["Selected:"," ",lt.cupidLoverIds.map(ft=>E.players[ft]?.name??"Unknown").join(", ")]}):null]}),E.status==="day"&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[(K?.killedIds?.length??0)>0?w.jsxs("p",{children:["Dawn breaks."," ",K?.killedIds?.map(ft=>E.players[ft]?.name??"Someone").join(", ")," ",K?.killedIds?.length===1?"was":"were"," taken in the night."]}):K?.killedId?w.jsxs("p",{children:["Dawn breaks. ",E.players[K.killedId]?.name??"Someone"," was taken in the night."]}):w.jsx("p",{children:"No one was eliminated overnight."}),S?.role==="seer"&&K?.seerResult&&w.jsxs("p",{className:"mt-2 text-ashen-100",children:["Your vision: ",E.players[K.seerResult.targetId]?.name," is a"," ",K.seerResult.role,"."]}),S?.role==="detective"&&K?.detectiveResult&&w.jsxs("p",{className:"mt-2 text-ashen-100",children:["Your investigation: ",E.players[K.detectiveResult.targetIds[0]]?.name," and"," ",E.players[K.detectiveResult.targetIds[1]]?.name," are"," ",K.detectiveResult.sameTeam?"on the same team.":"on different teams."]})]}),E.status==="voting"&&S?.isAlive&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Voting"}),w.jsx("p",{className:"mt-2",children:"Click a player card in the grid to vote. Click your own card to skip."}),w.jsxs("div",{className:"mt-2 text-sm text-ashen-300",children:[Object.values(E.votes??{}).length," vote(s) cast."]})]}),E.status==="results"&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"font-display text-xl text-ashen-100",children:E.winner==="villagers"?"Villagers win!":E.winner==="werewolves"?"Werewolves win!":"The Fool wins!"}),w.jsx("p",{className:"mt-2",children:E.winReason})]}),Pn&&w.jsx("div",{className:"rounded-xl border border-ember/40 bg-ember/10 p-3 text-sm text-ashen-100",children:"Waiting for the Hunter's final shot..."}),ue&&w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Hunter last shot"}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Q.filter(ft=>ft.id!==m).map(ft=>w.jsx("button",{onClick:()=>C(ft.id),className:"rounded-full bg-ember px-3 py-1 text-xs text-slate-950",children:ft.name},ft.id))}),w.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"You were eliminated. Choose one player to take with you."})]})]})]})}),w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 shadow-inky lg:flex lg:flex-1 lg:flex-col lg:min-h-0",children:[w.jsx("h3",{className:"font-display text-xl",children:"Chat"}),w.jsx("div",{className:"mt-2 flex flex-1 flex-col gap-3 overflow-y-auto rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:or?.length?or.map(ft=>w.jsxs("div",{className:"text-sm text-ashen-200",children:[w.jsxs("span",{className:"text-ashen-400",children:[ft.senderName,":"]})," ",ft.message]},ft.id)):w.jsx("p",{className:"text-sm text-ashen-400",children:"No messages yet."})}),at&&!ce&&w.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"Night chat is for werewolves only."}),Gt&&w.jsx("p",{className:"mt-2 text-xs text-rose-200",children:"You are silenced for today."}),b&&w.jsx("p",{className:"mt-2 text-xs text-ember",children:b}),w.jsxs("div",{className:"mt-3 flex gap-2",children:[w.jsx("input",{value:i,onChange:ft=>s(ft.target.value),onKeyDown:ft=>{ft.key==="Enter"&&!ft.shiftKey&&(ft.preventDefault(),Kt&&i.trim()&&Xe())},placeholder:"Say something...",disabled:!Kt,className:"flex-1 rounded-lg border border-ashen-600 bg-ashen-800/80 px-3 py-2 text-sm text-ashen-100 outline-none focus:border-ember disabled:opacity-50"}),w.jsx("button",{onClick:Xe,disabled:!Kt,className:"rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Send"})]})]}),w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-4 lg:flex-none",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Roles in play"}),w.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-100",children:[Object.entries(Wt.reduce((ft,Te)=>(Te.role&&(ft[Te.role]=(ft[Te.role]??0)+1),ft),{})).map(([ft,Te])=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("span",{className:"capitalize",children:[ft," x",Te]}),w.jsx("span",{className:"text-ashen-400",children:"Active"})]},ft)),E.status==="lobby"&&w.jsx("p",{className:"text-xs text-ashen-400",children:"Roles appear after the game starts."})]})]})]})]})]})]})}):w.jsx("div",{className:"min-h-screen bg-ashen text-slate-100",children:w.jsxs("div",{className:"mx-auto max-w-3xl px-6 py-20",children:[w.jsx("h2",{className:"font-display text-2xl",children:"Room not found"}),w.jsx("p",{className:"mt-2 text-ashen-200",children:"Create a new room or check the code."}),w.jsx("button",{onClick:()=>r("/"),className:"mt-6 rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950",children:"Back to Lobby"})]})})}function GR(){return w.jsx(DR,{children:w.jsxs(Cb,{children:[w.jsx(gc,{path:"/",element:w.jsx(VR,{})}),w.jsx(gc,{path:"/room/:code",element:w.jsx(FR,{})}),w.jsx(gc,{path:"*",element:w.jsx(xb,{to:"/",replace:!0})})]})})}DT.createRoot(document.getElementById("app")).render(w.jsx(TT.StrictMode,{children:w.jsx(Jb,{children:w.jsx(GR,{})})}));
