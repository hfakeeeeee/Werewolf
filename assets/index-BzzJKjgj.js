(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function D0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ad={exports:{}},uo={};var iv;function TT(){if(iv)return uo;iv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return uo.Fragment=e,uo.jsx=i,uo.jsxs=i,uo}var av;function bT(){return av||(av=1,ad.exports=TT()),ad.exports}var S=bT(),sd={exports:{}},It={};var sv;function AT(){if(sv)return It;sv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function L(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,Y={};function B(I,$,lt){this.props=I,this.context=$,this.refs=Y,this.updater=lt||W}B.prototype.isReactComponent={},B.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},B.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function it(){}it.prototype=B.prototype;function ct(I,$,lt){this.props=I,this.context=$,this.refs=Y,this.updater=lt||W}var dt=ct.prototype=new it;dt.constructor=ct,R(dt,B.prototype),dt.isPureReactComponent=!0;var wt=Array.isArray;function Nt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(I,$,lt){var ht=lt.ref;return{$$typeof:s,type:I,key:$,ref:ht!==void 0?ht:null,props:lt}}function j(I,$){return C(I.type,$,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function z(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return $[lt]})}var N=/\/+/g;function Yt(I,$){return typeof I=="object"&&I!==null&&I.key!=null?z(""+I.key):$.toString(36)}function ye(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Nt,Nt):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function K(I,$,lt,ht,St){var Ct=typeof I;(Ct==="undefined"||Ct==="boolean")&&(I=null);var et=!1;if(I===null)et=!0;else switch(Ct){case"bigint":case"string":case"number":et=!0;break;case"object":switch(I.$$typeof){case s:case e:et=!0;break;case E:return et=I._init,K(et(I._payload),$,lt,ht,St)}}if(et)return St=St(I),et=ht===""?"."+Yt(I,0):ht,wt(St)?(lt="",et!=null&&(lt=et.replace(N,"$&/")+"/"),K(St,$,lt,"",function(Tt){return Tt})):St!=null&&(O(St)&&(St=j(St,lt+(St.key==null||I&&I.key===St.key?"":(""+St.key).replace(N,"$&/")+"/")+et)),$.push(St)),1;et=0;var rt=ht===""?".":ht+":";if(wt(I))for(var J=0;J<I.length;J++)ht=I[J],Ct=rt+Yt(ht,J),et+=K(ht,$,lt,Ct,St);else if(J=L(I),typeof J=="function")for(I=J.call(I),J=0;!(ht=I.next()).done;)ht=ht.value,Ct=rt+Yt(ht,J++),et+=K(ht,$,lt,Ct,St);else if(Ct==="object"){if(typeof I.then=="function")return K(ye(I),$,lt,ht,St);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return et}function ut(I,$,lt){if(I==null)return I;var ht=[],St=0;return K(I,ht,"","",function(Ct){return $.call(lt,Ct,St++)}),ht}function vt(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var zt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},$t={map:ut,forEach:function(I,$,lt){ut(I,function(){$.apply(this,arguments)},lt)},count:function(I){var $=0;return ut(I,function(){$++}),$},toArray:function(I){return ut(I,function($){return $})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return It.Activity=b,It.Children=$t,It.Component=B,It.Fragment=i,It.Profiler=o,It.PureComponent=ct,It.StrictMode=r,It.Suspense=m,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,It.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},It.cache=function(I){return function(){return I.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(I,$,lt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ht=R({},I.props),St=I.key;if($!=null)for(Ct in $.key!==void 0&&(St=""+$.key),$)!w.call($,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&$.ref===void 0||(ht[Ct]=$[Ct]);var Ct=arguments.length-2;if(Ct===1)ht.children=lt;else if(1<Ct){for(var et=Array(Ct),rt=0;rt<Ct;rt++)et[rt]=arguments[rt+2];ht.children=et}return C(I.type,St,ht)},It.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},It.createElement=function(I,$,lt){var ht,St={},Ct=null;if($!=null)for(ht in $.key!==void 0&&(Ct=""+$.key),$)w.call($,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=$[ht]);var et=arguments.length-2;if(et===1)St.children=lt;else if(1<et){for(var rt=Array(et),J=0;J<et;J++)rt[J]=arguments[J+2];St.children=rt}if(I&&I.defaultProps)for(ht in et=I.defaultProps,et)St[ht]===void 0&&(St[ht]=et[ht]);return C(I,Ct,St)},It.createRef=function(){return{current:null}},It.forwardRef=function(I){return{$$typeof:g,render:I}},It.isValidElement=O,It.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:vt}},It.memo=function(I,$){return{$$typeof:y,type:I,compare:$===void 0?null:$}},It.startTransition=function(I){var $=D.T,lt={};D.T=lt;try{var ht=I(),St=D.S;St!==null&&St(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Nt,zt)}catch(Ct){zt(Ct)}finally{$!==null&&lt.types!==null&&($.types=lt.types),D.T=$}},It.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},It.use=function(I){return D.H.use(I)},It.useActionState=function(I,$,lt){return D.H.useActionState(I,$,lt)},It.useCallback=function(I,$){return D.H.useCallback(I,$)},It.useContext=function(I){return D.H.useContext(I)},It.useDebugValue=function(){},It.useDeferredValue=function(I,$){return D.H.useDeferredValue(I,$)},It.useEffect=function(I,$){return D.H.useEffect(I,$)},It.useEffectEvent=function(I){return D.H.useEffectEvent(I)},It.useId=function(){return D.H.useId()},It.useImperativeHandle=function(I,$,lt){return D.H.useImperativeHandle(I,$,lt)},It.useInsertionEffect=function(I,$){return D.H.useInsertionEffect(I,$)},It.useLayoutEffect=function(I,$){return D.H.useLayoutEffect(I,$)},It.useMemo=function(I,$){return D.H.useMemo(I,$)},It.useOptimistic=function(I,$){return D.H.useOptimistic(I,$)},It.useReducer=function(I,$,lt){return D.H.useReducer(I,$,lt)},It.useRef=function(I){return D.H.useRef(I)},It.useState=function(I){return D.H.useState(I)},It.useSyncExternalStore=function(I,$,lt){return D.H.useSyncExternalStore(I,$,lt)},It.useTransition=function(){return D.H.useTransition()},It.version="19.2.4",It}var rv;function $d(){return rv||(rv=1,sd.exports=AT()),sd.exports}var q=$d();const ST=D0(q);var rd={exports:{}},co={},ld={exports:{}},od={};var lv;function xT(){return lv||(lv=1,(function(s){function e(K,ut){var vt=K.length;K.push(ut);t:for(;0<vt;){var zt=vt-1>>>1,$t=K[zt];if(0<o($t,ut))K[zt]=ut,K[vt]=$t,vt=zt;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ut=K[0],vt=K.pop();if(vt!==ut){K[0]=vt;t:for(var zt=0,$t=K.length,I=$t>>>1;zt<I;){var $=2*(zt+1)-1,lt=K[$],ht=$+1,St=K[ht];if(0>o(lt,vt))ht<$t&&0>o(St,lt)?(K[zt]=St,K[ht]=vt,zt=ht):(K[zt]=lt,K[$]=vt,zt=$);else if(ht<$t&&0>o(St,vt))K[zt]=St,K[ht]=vt,zt=ht;else break t}}return ut}function o(K,ut){var vt=K.sortIndex-ut.sortIndex;return vt!==0?vt:K.id-ut.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var m=[],y=[],E=1,b=null,x=3,L=!1,W=!1,R=!1,Y=!1,B=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function dt(K){for(var ut=i(y);ut!==null;){if(ut.callback===null)r(y);else if(ut.startTime<=K)r(y),ut.sortIndex=ut.expirationTime,e(m,ut);else break;ut=i(y)}}function wt(K){if(R=!1,dt(K),!W)if(i(m)!==null)W=!0,Nt||(Nt=!0,z());else{var ut=i(y);ut!==null&&ye(wt,ut.startTime-K)}}var Nt=!1,D=-1,w=5,C=-1;function j(){return Y?!0:!(s.unstable_now()-C<w)}function O(){if(Y=!1,Nt){var K=s.unstable_now();C=K;var ut=!0;try{t:{W=!1,R&&(R=!1,it(D),D=-1),L=!0;var vt=x;try{e:{for(dt(K),b=i(m);b!==null&&!(b.expirationTime>K&&j());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,x=b.priorityLevel;var $t=zt(b.expirationTime<=K);if(K=s.unstable_now(),typeof $t=="function"){b.callback=$t,dt(K),ut=!0;break e}b===i(m)&&r(m),dt(K)}else r(m);b=i(m)}if(b!==null)ut=!0;else{var I=i(y);I!==null&&ye(wt,I.startTime-K),ut=!1}}break t}finally{b=null,x=vt,L=!1}ut=void 0}}finally{ut?z():Nt=!1}}}var z;if(typeof ct=="function")z=function(){ct(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Yt=N.port2;N.port1.onmessage=O,z=function(){Yt.postMessage(null)}}else z=function(){B(O,0)};function ye(K,ut){D=B(function(){K(s.unstable_now())},ut)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ut=3;break;default:ut=x}var vt=x;x=ut;try{return K()}finally{x=vt}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(K,ut){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var vt=x;x=K;try{return ut()}finally{x=vt}},s.unstable_scheduleCallback=function(K,ut,vt){var zt=s.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?zt+vt:zt):vt=zt,K){case 1:var $t=-1;break;case 2:$t=250;break;case 5:$t=1073741823;break;case 4:$t=1e4;break;default:$t=5e3}return $t=vt+$t,K={id:E++,callback:ut,priorityLevel:K,startTime:vt,expirationTime:$t,sortIndex:-1},vt>zt?(K.sortIndex=vt,e(y,K),i(m)===null&&K===i(y)&&(R?(it(D),D=-1):R=!0,ye(wt,vt-zt))):(K.sortIndex=$t,e(m,K),W||L||(W=!0,Nt||(Nt=!0,z()))),K},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(K){var ut=x;return function(){var vt=x;x=ut;try{return K.apply(this,arguments)}finally{x=vt}}}})(od)),od}var ov;function wT(){return ov||(ov=1,ld.exports=xT()),ld.exports}var ud={exports:{}},hn={};var uv;function RT(){if(uv)return hn;uv=1;var s=$d();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(m,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(m,y,null,E)},hn.flushSync=function(m){var y=d.T,E=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=y,r.p=E,r.d.f()}},hn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},hn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},hn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:L}):E==="script"&&r.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},hn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);r.d.L(m,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(m,y){if(typeof m=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},hn.requestFormReset=function(m){r.d.r(m)},hn.unstable_batchedUpdates=function(m,y){return m(y)},hn.useFormState=function(m,y,E){return d.H.useFormState(m,y,E)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var cv;function CT(){if(cv)return ud.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ud.exports=RT(),ud.exports}var hv;function NT(){if(hv)return co;hv=1;var s=wT(),e=$d(),i=CT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case B:return"Profiler";case Y:return"StrictMode";case wt:return"Suspense";case Nt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ct:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case dt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Yt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Yt(t(n))}catch{}}return null}var ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},zt=[],$t=-1;function I(t){return{current:t}}function $(t){0>$t||(t.current=zt[$t],zt[$t]=null,$t--)}function lt(t,n){$t++,zt[$t]=t.current,t.current=n}var ht=I(null),St=I(null),Ct=I(null),et=I(null);function rt(t,n){switch(lt(Ct,n),lt(St,t),lt(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?wy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=wy(n),t=Ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ht),lt(ht,t)}function J(){$(ht),$(St),$(Ct)}function Tt(t){t.memoizedState!==null&&lt(et,t);var n=ht.current,a=Ry(n,t.type);n!==a&&(lt(St,t),lt(ht,a))}function Dt(t){St.current===t&&($(ht),$(St)),et.current===t&&($(et),so._currentValue=vt)}var Zt,ne;function Mt(t){if(Zt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zt=n&&n[1]||"",ne=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+t+ne}var pe=!1;function Ie(t,n){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var F=Q}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(Q){F=Q}t.call(tt.prototype)}}else{try{throw Error()}catch(Q){F=Q}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var V=v.split(`
`),H=T.split(`
`);for(h=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===V.length||h===H.length)for(l=V.length-1,h=H.length-1;1<=l&&0<=h&&V[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(V[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||V[l]!==H[h]){var X=`
`+V[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mt(a):""}function kn(t,n){switch(t.tag){case 26:case 27:case 5:return Mt(t.type);case 16:return Mt("Lazy");case 13:return t.child!==n&&n!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return Ie(t.type,!1);case 11:return Ie(t.type.render,!1);case 1:return Ie(t.type,!0);case 31:return Mt("Activity");default:return""}}function yi(t){try{var n="",a=null;do n+=kn(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Gt=Object.prototype.hasOwnProperty,ie=s.unstable_scheduleCallback,be=s.unstable_cancelCallback,_a=s.unstable_shouldYield,Gi=s.unstable_requestPaint,se=s.unstable_now,Qi=s.unstable_getCurrentPriorityLevel,ai=s.unstable_ImmediatePriority,Yi=s.unstable_UserBlockingPriority,yn=s.unstable_NormalPriority,Js=s.unstable_LowPriority,Ws=s.unstable_IdlePriority,tr=s.log,ds=s.unstable_setDisableYieldValue,Cn=null,Ue=null;function vn(t){if(typeof tr=="function"&&ds(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Cn,t)}catch{}}var ve=Math.clz32?Math.clz32:ps,ms=Math.log,Ki=Math.LN2;function ps(t){return t>>>=0,t===0?32:31-(ms(t)/Ki|0)|0}var Hn=256,st=262144,bt=4194304;function pt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function en(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=pt(l):(v&=T,v!==0?h=pt(v):a||(a=T&~t,a!==0&&(h=pt(a))))):(T=l&~f,T!==0?h=pt(T):v!==0?h=pt(v):a||(a=l&~t,a!==0&&(h=pt(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Nn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function qn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function vi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nr(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,V=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-ve(a),tt=1<<X;T[X]=0,V[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~tt}l!==0&&_i(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function _i(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ve(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function we(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ve(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function gs(t,n){var a=n&-n;return a=(a&42)!==0?1:ys(a),(a&(t.suspendedLanes|n))!==0?0:a}function ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fo(){var t=ut.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function si(t,n){var a=ut.p;try{return ut.p=t,n()}finally{ut.p=a}}var ri=Math.random().toString(36).slice(2),ze="__reactFiber$"+ri,Ze="__reactProps$"+ri,Ei="__reactContainer$"+ri,ir="__reactEvents$"+ri,uh="__reactListeners$"+ri,Go="__reactHandles$"+ri,Qo="__reactResources$"+ri,Ti="__reactMarker$"+ri;function ar(t){delete t[ze],delete t[Ze],delete t[ir],delete t[uh],delete t[Go]}function bi(t){var n=t[ze];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ei]||a[ze]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[ze])return a;t=My(t)}return n}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[ze]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ai(t){var n=t[Qo];return n||(n=t[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pe(t){t[Ti]=!0}var fl=new Set,dl={};function Si(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(dl[t]=n,t=0;t<n.length;t++)fl.add(n[t])}var ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},gl={};function Yo(t){return Gt.call(gl,t)?!0:Gt.call(pl,t)?!1:ml.test(t)?gl[t]=!0:(pl[t]=!0,!1)}function sr(t,n,a){if(Yo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Vn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Be(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ea(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function re(t){if(!t._valueTracker){var n=Ea(t)?"checked":"value";t._valueTracker=yl(t,n,""+t[n])}}function vs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ea(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function _n(t){return t.replace(_s,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rr(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?vl(t,v,Je(n)):a!=null?vl(t,v,Je(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Je(T):t.removeAttribute("name")}function Ko(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){re(t);return}a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),re(t)}function vl(t,n,a){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ta(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Xo(t,n,a){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Je(a):""}function ba(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ye(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Je(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),re(t)}function En(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||$o.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function El(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&_l(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&_l(t,f,n[f])}function lr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(t){return Aa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Tl=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sa=null,Ri=null;function Es(t){var n=Fn(t);if(n&&(t=n.stateNode)){var a=t[Ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(rr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ze]||null;if(!h)throw Error(r(90));rr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&vs(l)}break t;case"textarea":Xo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ta(t,!!a.multiple,n,!1)}}}var ur=!1;function xa(t,n,a){if(ur)return t(n,a);ur=!0;try{var l=t(n);return l}finally{if(ur=!1,(Sa!==null||Ri!==null)&&(Fu(),Sa&&(n=Sa,t=Ri,Ri=Sa=null,Es(n),t)))for(n=0;n<t.length;n++)Es(t[n])}}function oi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ze]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Qn)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,ue)}catch{Ts=!1}var Ci=null,bl=null,bs=null;function Al(){if(bs)return bs;var t,n=bl,a=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return bs=h.slice(t,1<l?1-l:void 0)}function As(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ui(){return!1}function nn(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ui,this.isPropagationStopped=ui,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=nn(Zi),wa=b({},Zi,{view:0,detail:0}),Sl=nn(wa),Ra,cr,Di,hr=b({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Ra=t.screenX-Di.screenX,cr=t.screenY-Di.screenY):cr=Ra=0,Di=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:cr}}),xl=nn(hr),Ss=b({},hr,{dataTransfer:0}),Jo=nn(Ss),Wo=b({},wa,{relatedTarget:0}),xs=nn(Wo),wl=b({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=nn(wl),fr=b({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eu=nn(fr),nu=b({},Zi,{data:0}),Vi=nn(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=su[t])?!!n[t]:!1}function Ca(){return ru}var pn=b({},wa,{key:function(t){if(t.key){var n=iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lu=nn(pn),ou=b({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=nn(ou),u=b({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),p=nn(u),_=b({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=nn(_),P=b({},hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=nn(P),ot=b({},Zi,{newState:0,oldState:0}),jt=nn(ot),Oe=[9,13,27,32],te=Qn&&"CompositionEvent"in window,Ae=null;Qn&&"documentMode"in document&&(Ae=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!Ae,Ii=Qn&&(!te||Ae&&8<Ae&&11>=Ae),ci=" ",hi=!1;function ws(t,n){switch(t){case"keyup":return Oe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mr=!1;function GE(t,n){switch(t){case"compositionend":return dr(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function QE(t,n){if(mr)return t==="compositionend"||!te&&ws(t,n)?(t=Al(),bs=bl=Ci=null,mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!YE[t.type]:n==="textarea"}function zm(t,n,a,l){Sa?Ri?Ri.push(l):Ri=[l]:Sa=l,n=Zu(n,"onChange"),0<n.length&&(a=new Ni("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Rl=null,Cl=null;function KE(t){Ey(t,0)}function uu(t){var n=Dn(t);if(vs(n))return t}function Pm(t,n){if(t==="change")return n}var Bm=!1;if(Qn){var ch;if(Qn){var hh="oninput"in document;if(!hh){var km=document.createElement("div");km.setAttribute("oninput","return;"),hh=typeof km.oninput=="function"}ch=hh}else ch=!1;Bm=ch&&(!document.documentMode||9<document.documentMode)}function Hm(){Rl&&(Rl.detachEvent("onpropertychange",qm),Cl=Rl=null)}function qm(t){if(t.propertyName==="value"&&uu(Cl)){var n=[];zm(n,Cl,t,Gn(t)),xa(KE,n)}}function XE(t,n,a){t==="focusin"?(Hm(),Rl=n,Cl=a,Rl.attachEvent("onpropertychange",qm)):t==="focusout"&&Hm()}function $E(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(Cl)}function ZE(t,n){if(t==="click")return uu(n)}function JE(t,n){if(t==="input"||t==="change")return uu(n)}function WE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:WE;function Nl(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Gt.call(n,h)||!In(t[h],n[h]))return!1}return!0}function Fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,n){var a=Fm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fm(a)}}function Qm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wi(t.document)}return n}function fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var t1=Qn&&"documentMode"in document&&11>=document.documentMode,pr=null,dh=null,Dl=null,mh=!1;function Km(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mh||pr==null||pr!==wi(l)||(l=pr,"selectionStart"in l&&fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Nl(Dl,l)||(Dl=l,l=Zu(dh,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=pr)))}function Rs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var gr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},ph={},Xm={};Qn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Cs(t){if(ph[t])return ph[t];if(!gr[t])return t;var n=gr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return ph[t]=n[a];return t}var $m=Cs("animationend"),Zm=Cs("animationiteration"),Jm=Cs("animationstart"),e1=Cs("transitionrun"),n1=Cs("transitionstart"),i1=Cs("transitioncancel"),Wm=Cs("transitionend"),tp=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function fi(t,n){tp.set(t,n),Si(n,[t])}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],yr=0,yh=0;function hu(){for(var t=yr,n=yh=yr=0;n<t;){var a=Kn[n];Kn[n++]=null;var l=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var f=Kn[n];if(Kn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&ep(a,h,f)}}function fu(t,n,a,l){Kn[yr++]=t,Kn[yr++]=n,Kn[yr++]=a,Kn[yr++]=l,yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vh(t,n,a,l){return fu(t,n,a,l),du(t)}function Ns(t,n){return fu(t,null,null,n),du(t)}function ep(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ve(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function du(t){if(50<Jl)throw Jl=0,Cf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var vr={};function a1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,a,l){return new a1(t,n,a,l)}function _h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=On(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function np(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mu(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")_h(t)&&(v=1);else if(typeof t=="string")v=uT(t,a,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=On(31,a,n,h),t.elementType=C,t.lanes=f,t;case R:return Ds(a.children,h,f,n);case Y:v=8,h|=24;break;case B:return t=On(12,a,n,h|2),t.elementType=B,t.lanes=f,t;case wt:return t=On(13,a,n,h),t.elementType=wt,t.lanes=f,t;case Nt:return t=On(19,a,n,h),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ct:v=10;break t;case it:v=9;break t;case dt:v=11;break t;case D:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=On(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ds(t,n,a,l){return t=On(7,t,l,n),t.lanes=a,t}function Eh(t,n,a){return t=On(6,t,null,n),t.lanes=a,t}function ip(t){var n=On(18,null,null,0);return n.stateNode=t,n}function Th(t,n,a){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ap=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var a=ap.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yi(n)},ap.set(t,n),n)}return{value:t,source:n,stack:yi(n)}}var _r=[],Er=0,pu=null,Vl=0,$n=[],Zn=0,Na=null,Oi=1,Mi="";function ta(t,n){_r[Er++]=Vl,_r[Er++]=pu,pu=t,Vl=n}function sp(t,n,a){$n[Zn++]=Oi,$n[Zn++]=Mi,$n[Zn++]=Na,Na=t;var l=Oi;t=Mi;var h=32-ve(l)-1;l&=~(1<<h),a+=1;var f=32-ve(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-ve(n)+h|a<<h|l,Mi=f+t}else Oi=1<<f|a<<h|l,Mi=t}function bh(t){t.return!==null&&(ta(t,1),sp(t,1,0))}function Ah(t){for(;t===pu;)pu=_r[--Er],_r[Er]=null,Vl=_r[--Er],_r[Er]=null;for(;t===Na;)Na=$n[--Zn],$n[Zn]=null,Mi=$n[--Zn],$n[Zn]=null,Oi=$n[--Zn],$n[Zn]=null}function rp(t,n){$n[Zn++]=Oi,$n[Zn++]=Mi,$n[Zn++]=Na,Oi=n.id,Mi=n.overflow,Na=t}var an=null,_e=null,Qt=!1,Da=null,Jn=!1,Sh=Error(r(519));function Va(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Xn(n,t)),Sh}function lp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ze]=t,n[Ze]=l,a){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(a=0;a<to.length;a++)Bt(to[a],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Bt("invalid",n),Ko(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",n);break;case"textarea":Bt("invalid",n),ba(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Sy(n.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",n),Bt("toggle",n)),l.onScroll!=null&&Bt("scroll",n),l.onScrollEnd!=null&&Bt("scrollend",n),l.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Va(t,!0)}function op(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:an=an.return}}function Tr(t){if(t!==an)return!1;if(!Qt)return op(t),Qt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qf(t.type,t.memoizedProps)),a=!a),a&&_e&&Va(t),op(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_e=Oy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_e=Oy(t)}else n===27?(n=_e,Ga(t.type)?(t=Kf,Kf=null,_e=t):_e=n):_e=an?ti(t.stateNode.nextSibling):null;return!0}function Vs(){_e=an=null,Qt=!1}function xh(){var t=Da;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Da=null),t}function Il(t){Da===null?Da=[t]:Da.push(t)}var wh=I(null),Is=null,ea=null;function Ia(t,n,a){lt(wh,n._currentValue),n._currentValue=a}function na(t){t._currentValue=wh.current,$(wh)}function Rh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ch(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var V=0;V<n.length;V++)if(T.context===n[V]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Rh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Rh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function br(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;In(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===et.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}h=h.return}t!==null&&Ch(n,t,a,l),n.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Is=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return up(Is,t)}function yu(t,n){return Is===null&&Os(t),up(t,n)}function up(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ea===null){if(t===null)throw Error(r(308));ea=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ea=ea.next=n;return a}var s1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},r1=s.unstable_scheduleCallback,l1=s.unstable_NormalPriority,ke={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new s1,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&r1(l1,function(){t.controller.abort()})}var Ml=null,Dh=0,Ar=0,Sr=null;function o1(t,n){if(Ml===null){var a=Ml=[];Dh=0,Ar=Mf(),Sr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dh++,n.then(cp,cp),n}function cp(){if(--Dh===0&&Ml!==null){Sr!==null&&(Sr.status="fulfilled");var t=Ml;Ml=null,Ar=0,Sr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function u1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var hp=K.S;K.S=function(t,n){Kg=se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(t,n),hp!==null&&hp(t,n)};var Ms=I(null);function Vh(){var t=Ms.current;return t!==null?t:ge.pooledCache}function vu(t,n){n===null?lt(Ms,Ms.current):lt(Ms,n.pool)}function fp(){var t=Vh();return t===null?null:{parent:ke._currentValue,pool:t}}var xr=Error(r(460)),Ih=Error(r(474)),_u=Error(r(542)),Eu={then:function(){}};function dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(li,li),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=ge,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t}throw Ls=n,xr}}function js(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,xr):a}}var Ls=null;function pp(){if(Ls===null)throw Error(r(459));var t=Ls;return Ls=null,t}function gp(t){if(t===xr||t===_u)throw Error(r(483))}var wr=null,jl=0;function Tu(t){var n=jl;return jl+=1,wr===null&&(wr=[]),mp(wr,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function bu(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yp(t){function n(U,M){if(t){var k=U.deletions;k===null?(U.deletions=[M],U.flags|=16):k.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Wi(U,M),U.index=0,U.sibling=null,U}function f(U,M,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<M?(U.flags|=67108866,M):k):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,k,Z){return M===null||M.tag!==6?(M=Eh(k,U.mode,Z),M.return=U,M):(M=h(M,k),M.return=U,M)}function V(U,M,k,Z){var Et=k.type;return Et===R?X(U,M,k.props.children,Z,k.key):M!==null&&(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===w&&js(Et)===M.type)?(M=h(M,k.props),Ll(M,k),M.return=U,M):(M=mu(k.type,k.key,k.props,null,U.mode,Z),Ll(M,k),M.return=U,M)}function H(U,M,k,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=Th(k,U.mode,Z),M.return=U,M):(M=h(M,k.children||[]),M.return=U,M)}function X(U,M,k,Z,Et){return M===null||M.tag!==7?(M=Ds(k,U.mode,Z,Et),M.return=U,M):(M=h(M,k),M.return=U,M)}function tt(U,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Eh(""+M,U.mode,k),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return k=mu(M.type,M.key,M.props,null,U.mode,k),Ll(k,M),k.return=U,k;case W:return M=Th(M,U.mode,k),M.return=U,M;case w:return M=js(M),tt(U,M,k)}if(ye(M)||z(M))return M=Ds(M,U.mode,k,null),M.return=U,M;if(typeof M.then=="function")return tt(U,Tu(M),k);if(M.$$typeof===ct)return tt(U,yu(U,M),k);bu(U,M)}return null}function F(U,M,k,Z){var Et=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return Et!==null?null:T(U,M,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return k.key===Et?V(U,M,k,Z):null;case W:return k.key===Et?H(U,M,k,Z):null;case w:return k=js(k),F(U,M,k,Z)}if(ye(k)||z(k))return Et!==null?null:X(U,M,k,Z,null);if(typeof k.then=="function")return F(U,M,Tu(k),Z);if(k.$$typeof===ct)return F(U,M,yu(U,k),Z);bu(U,k)}return null}function Q(U,M,k,Z,Et){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(k)||null,T(M,U,""+Z,Et);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return U=U.get(Z.key===null?k:Z.key)||null,V(M,U,Z,Et);case W:return U=U.get(Z.key===null?k:Z.key)||null,H(M,U,Z,Et);case w:return Z=js(Z),Q(U,M,k,Z,Et)}if(ye(Z)||z(Z))return U=U.get(k)||null,X(M,U,Z,Et,null);if(typeof Z.then=="function")return Q(U,M,k,Tu(Z),Et);if(Z.$$typeof===ct)return Q(U,M,k,yu(M,Z),Et);bu(M,Z)}return null}function mt(U,M,k,Z){for(var Et=null,Jt=null,gt=M,Ut=M=0,Ht=null;gt!==null&&Ut<k.length;Ut++){gt.index>Ut?(Ht=gt,gt=null):Ht=gt.sibling;var Wt=F(U,gt,k[Ut],Z);if(Wt===null){gt===null&&(gt=Ht);break}t&&gt&&Wt.alternate===null&&n(U,gt),M=f(Wt,M,Ut),Jt===null?Et=Wt:Jt.sibling=Wt,Jt=Wt,gt=Ht}if(Ut===k.length)return a(U,gt),Qt&&ta(U,Ut),Et;if(gt===null){for(;Ut<k.length;Ut++)gt=tt(U,k[Ut],Z),gt!==null&&(M=f(gt,M,Ut),Jt===null?Et=gt:Jt.sibling=gt,Jt=gt);return Qt&&ta(U,Ut),Et}for(gt=l(gt);Ut<k.length;Ut++)Ht=Q(gt,U,Ut,k[Ut],Z),Ht!==null&&(t&&Ht.alternate!==null&&gt.delete(Ht.key===null?Ut:Ht.key),M=f(Ht,M,Ut),Jt===null?Et=Ht:Jt.sibling=Ht,Jt=Ht);return t&&gt.forEach(function($a){return n(U,$a)}),Qt&&ta(U,Ut),Et}function xt(U,M,k,Z){if(k==null)throw Error(r(151));for(var Et=null,Jt=null,gt=M,Ut=M=0,Ht=null,Wt=k.next();gt!==null&&!Wt.done;Ut++,Wt=k.next()){gt.index>Ut?(Ht=gt,gt=null):Ht=gt.sibling;var $a=F(U,gt,Wt.value,Z);if($a===null){gt===null&&(gt=Ht);break}t&&gt&&$a.alternate===null&&n(U,gt),M=f($a,M,Ut),Jt===null?Et=$a:Jt.sibling=$a,Jt=$a,gt=Ht}if(Wt.done)return a(U,gt),Qt&&ta(U,Ut),Et;if(gt===null){for(;!Wt.done;Ut++,Wt=k.next())Wt=tt(U,Wt.value,Z),Wt!==null&&(M=f(Wt,M,Ut),Jt===null?Et=Wt:Jt.sibling=Wt,Jt=Wt);return Qt&&ta(U,Ut),Et}for(gt=l(gt);!Wt.done;Ut++,Wt=k.next())Wt=Q(gt,U,Ut,Wt.value,Z),Wt!==null&&(t&&Wt.alternate!==null&&gt.delete(Wt.key===null?Ut:Wt.key),M=f(Wt,M,Ut),Jt===null?Et=Wt:Jt.sibling=Wt,Jt=Wt);return t&&gt.forEach(function(ET){return n(U,ET)}),Qt&&ta(U,Ut),Et}function fe(U,M,k,Z){if(typeof k=="object"&&k!==null&&k.type===R&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case L:t:{for(var Et=k.key;M!==null;){if(M.key===Et){if(Et=k.type,Et===R){if(M.tag===7){a(U,M.sibling),Z=h(M,k.props.children),Z.return=U,U=Z;break t}}else if(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===w&&js(Et)===M.type){a(U,M.sibling),Z=h(M,k.props),Ll(Z,k),Z.return=U,U=Z;break t}a(U,M);break}else n(U,M);M=M.sibling}k.type===R?(Z=Ds(k.props.children,U.mode,Z,k.key),Z.return=U,U=Z):(Z=mu(k.type,k.key,k.props,null,U.mode,Z),Ll(Z,k),Z.return=U,U=Z)}return v(U);case W:t:{for(Et=k.key;M!==null;){if(M.key===Et)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(U,M.sibling),Z=h(M,k.children||[]),Z.return=U,U=Z;break t}else{a(U,M);break}else n(U,M);M=M.sibling}Z=Th(k,U.mode,Z),Z.return=U,U=Z}return v(U);case w:return k=js(k),fe(U,M,k,Z)}if(ye(k))return mt(U,M,k,Z);if(z(k)){if(Et=z(k),typeof Et!="function")throw Error(r(150));return k=Et.call(k),xt(U,M,k,Z)}if(typeof k.then=="function")return fe(U,M,Tu(k),Z);if(k.$$typeof===ct)return fe(U,M,yu(U,k),Z);bu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(U,M.sibling),Z=h(M,k),Z.return=U,U=Z):(a(U,M),Z=Eh(k,U.mode,Z),Z.return=U,U=Z),v(U)):a(U,M)}return function(U,M,k,Z){try{jl=0;var Et=fe(U,M,k,Z);return wr=null,Et}catch(gt){if(gt===xr||gt===_u)throw gt;var Jt=On(29,gt,null,U.mode);return Jt.lanes=Z,Jt.return=U,Jt}}}var Us=yp(!0),vp=yp(!1),Oa=!1;function Oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ma(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ja(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=du(t),ep(t,null,a),n}return fu(t,l,n,a),du(t)}function Ul(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,we(t,a)}}function jh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Lh=!1;function zl(){if(Lh){var t=Sr;if(t!==null)throw t}}function Pl(t,n,a,l){Lh=!1;var h=t.updateQueue;Oa=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var V=T,H=V.next;V.next=null,v===null?f=H:v.next=H,v=V;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=V))}if(f!==null){var tt=h.baseState;v=0,X=H=V=null,T=f;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(kt&F)===F:(l&F)===F){F!==0&&F===Ar&&(Lh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var mt=t,xt=T;F=n;var fe=a;switch(xt.tag){case 1:if(mt=xt.payload,typeof mt=="function"){tt=mt.call(fe,tt,F);break t}tt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=xt.payload,F=typeof mt=="function"?mt.call(fe,tt,F):mt,F==null)break t;tt=b({},tt,F);break t;case 2:Oa=!0}}F=T.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Q,V=tt):X=X.next=Q,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(V=tt),h.baseState=V,h.firstBaseUpdate=H,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ba|=v,t.lanes=v,t.memoizedState=tt}}function _p(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_p(a[t],n)}var Rr=I(null),Au=I(0);function Tp(t,n){t=ha,lt(Au,t),lt(Rr,n),ha=t|n.baseLanes}function Uh(){lt(Au,ha),lt(Rr,Rr.current)}function zh(){ha=Au.current,$(Rr),$(Au)}var Mn=I(null),Wn=null;function La(t){var n=t.alternate;lt(Me,Me.current&1),lt(Mn,t),Wn===null&&(n===null||Rr.current!==null||n.memoizedState!==null)&&(Wn=t)}function Ph(t){lt(Me,Me.current),lt(Mn,t),Wn===null&&(Wn=t)}function bp(t){t.tag===22?(lt(Me,Me.current),lt(Mn,t),Wn===null&&(Wn=t)):Ua()}function Ua(){lt(Me,Me.current),lt(Mn,Mn.current)}function jn(t){$(Mn),Wn===t&&(Wn=null),$(Me)}var Me=I(0);function Su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qf(a)||Yf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ia=0,Lt=null,ce=null,He=null,xu=!1,Cr=!1,zs=!1,wu=0,Bl=0,Nr=null,c1=0;function De(){throw Error(r(321))}function Bh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!In(t[a],n[a]))return!1;return!0}function kh(t,n,a,l,h,f){return ia=f,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?sg:nf,zs=!1,f=a(l,h),zs=!1,Cr&&(f=Sp(n,a,l,h)),Ap(t),f}function Ap(t){K.H=ql;var n=ce!==null&&ce.next!==null;if(ia=0,He=ce=Lt=null,xu=!1,Bl=0,Nr=null,n)throw Error(r(300));t===null||qe||(t=t.dependencies,t!==null&&gu(t)&&(qe=!0))}function Sp(t,n,a,l){Lt=t;var h=0;do{if(Cr&&(Nr=null),Bl=0,Cr=!1,25<=h)throw Error(r(301));if(h+=1,He=ce=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=rg,f=n(a,l)}while(Cr);return f}function h1(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?kl(n):n,t=t.useState()[0],(ce!==null?ce.memoizedState:null)!==t&&(Lt.flags|=1024),n}function Hh(){var t=wu!==0;return wu=0,t}function qh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Fh(t){if(xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xu=!1}ia=0,He=ce=Lt=null,Cr=!1,Bl=wu=0,Nr=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Lt.memoizedState=He=t:He=He.next=t,He}function je(){if(ce===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var n=He===null?Lt.memoizedState:He.next;if(n!==null)He=n,ce=t;else{if(t===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},He===null?Lt.memoizedState=He=t:He=He.next=t}return He}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(t){var n=Bl;return Bl+=1,Nr===null&&(Nr=[]),t=mp(Nr,t,n),n=Lt,(He===null?n.memoizedState:He.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?sg:nf),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===ct)return sn(t)}throw Error(r(438,String(t)))}function Gh(t){var n=null,a=Lt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ru(),Lt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function aa(t,n){return typeof n=="function"?n(t):n}function Nu(t){var n=je();return Qh(n,ce,t)}function Qh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,V=null,H=n,X=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(kt&tt)===tt:(ia&tt)===tt){var F=H.revertLane;if(F===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Ar&&(X=!0);else if((ia&F)===F){H=H.next,F===Ar&&(X=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(T=V=tt,v=f):V=V.next=tt,Lt.lanes|=F,Ba|=F;tt=H.action,zs&&a(f,tt),f=H.hasEagerState?H.eagerState:a(f,tt)}else F={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(T=V=F,v=f):V=V.next=F,Lt.lanes|=tt,Ba|=tt;H=H.next}while(H!==null&&H!==n);if(V===null?v=f:V.next=T,!In(f,t.memoizedState)&&(qe=!0,X&&(a=Sr,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=V,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yh(t){var n=je(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);In(f,n.memoizedState)||(qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function xp(t,n,a){var l=Lt,h=je(),f=Qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!In((ce||h).memoizedState,a);if(v&&(h.memoizedState=a,qe=!0),h=h.queue,$h(Cp.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,Dr(9,{destroy:void 0},Rp.bind(null,l,h,a,n),null),ge===null)throw Error(r(349));f||(ia&127)!==0||wp(l,n,a)}return a}function wp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Lt.updateQueue,n===null?(n=Ru(),Lt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rp(t,n,a,l){n.value=a,n.getSnapshot=l,Np(n)&&Dp(t)}function Cp(t,n,a){return a(function(){Np(n)&&Dp(t)})}function Np(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!In(t,a)}catch{return!0}}function Dp(t){var n=Ns(t,2);n!==null&&xn(n,t,2)}function Kh(t){var n=gn();if(typeof t=="function"){var a=t;if(t=a(),zs){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},n}function Vp(t,n,a,l){return t.baseState=a,Qh(t,ce,typeof l=="function"?l:aa)}function f1(t,n,a,l,h){if(Iu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Ip(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ip(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,v={};K.T=v;try{var T=a(h,l),V=K.S;V!==null&&V(v,T),Op(t,n,T)}catch(H){Xh(t,n,H)}finally{f!==null&&v.types!==null&&(f.types=v.types),K.T=f}}else try{f=a(h,l),Op(t,n,f)}catch(H){Xh(t,n,H)}}function Op(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mp(t,n,l)},function(l){return Xh(t,n,l)}):Mp(t,n,a)}function Mp(t,n,a){n.status="fulfilled",n.value=a,jp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ip(t,a)))}function Xh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,jp(n),n=n.next;while(n!==l)}t.action=null}function jp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lp(t,n){return n}function Up(t,n){if(Qt){var a=ge.formState;if(a!==null){t:{var l=Lt;if(Qt){if(_e){e:{for(var h=_e,f=Jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ti(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_e=ti(h.nextSibling),l=h.data==="F!";break t}}Va(l)}l=!1}l&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=l,a=ng.bind(null,Lt,l),l.dispatch=a,l=Kh(!1),f=ef.bind(null,Lt,!1,l.queue),l=gn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=f1.bind(null,Lt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function zp(t){var n=je();return Pp(n,ce,t)}function Pp(t,n,a){if(n=Qh(t,n,Lp)[0],t=Nu(aa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=kl(n)}catch(v){throw v===xr?_u:v}else l=n;n=je();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Lt.flags|=2048,Dr(9,{destroy:void 0},d1.bind(null,h,a),null)),[l,f,t]}function d1(t,n){t.action=n}function Bp(t){var n=je(),a=ce;if(a!==null)return Pp(n,a,t);je(),n=n.memoizedState,a=je();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Dr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=Ru(),Lt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function kp(){return je().memoizedState}function Du(t,n,a,l){var h=gn();Lt.flags|=t,h.memoizedState=Dr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Vu(t,n,a,l){var h=je();l=l===void 0?null:l;var f=h.memoizedState.inst;ce!==null&&l!==null&&Bh(l,ce.memoizedState.deps)?h.memoizedState=Dr(n,f,a,l):(Lt.flags|=t,h.memoizedState=Dr(1|n,f,a,l))}function Hp(t,n){Du(8390656,8,t,n)}function $h(t,n){Vu(2048,8,t,n)}function m1(t){Lt.flags|=4;var n=Lt.updateQueue;if(n===null)n=Ru(),Lt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function qp(t){var n=je().memoizedState;return m1({ref:n,nextImpl:t}),function(){if((ee&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fp(t,n){return Vu(4,2,t,n)}function Gp(t,n){return Vu(4,4,t,n)}function Qp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yp(t,n,a){a=a!=null?a.concat([t]):null,Vu(4,4,Qp.bind(null,n,t),a)}function Zh(){}function Kp(t,n){var a=je();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Bh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xp(t,n){var a=je();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Bh(n,l[1]))return l[0];if(l=t(),zs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Jh(t,n,a){return a===void 0||(ia&1073741824)!==0&&(kt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$g(),Lt.lanes|=t,Ba|=t,a)}function $p(t,n,a,l){return In(a,n)?a:Rr.current!==null?(t=Jh(t,a,l),In(t,n)||(qe=!0),t):(ia&42)===0||(ia&1073741824)!==0&&(kt&261930)===0?(qe=!0,t.memoizedState=a):(t=$g(),Lt.lanes|=t,Ba|=t,n)}function Zp(t,n,a,l,h){var f=ut.p;ut.p=f!==0&&8>f?f:8;var v=K.T,T={};K.T=T,ef(t,!1,n,a);try{var V=h(),H=K.S;if(H!==null&&H(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=u1(V,l);Hl(t,n,X,zn(t))}else Hl(t,n,l,zn(t))}catch(tt){Hl(t,n,{then:function(){},status:"rejected",reason:tt},zn())}finally{ut.p=f,v!==null&&T.types!==null&&(v.types=T.types),K.T=v}}function p1(){}function Wh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Jp(t).queue;Zp(t,h,n,vt,a===null?p1:function(){return Wp(t),a(l)})}function Jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:vt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wp(t){var n=Jp(t);n.next===null&&(n=t.alternate.memoizedState),Hl(t,n.next.queue,{},zn())}function tf(){return sn(so)}function tg(){return je().memoizedState}function eg(){return je().memoizedState}function g1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=zn();t=Ma(a);var l=ja(n,t,a);l!==null&&(xn(l,n,a),Ul(l,n,a)),n={cache:Nh()},t.payload=n;return}n=n.return}}function y1(t,n,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(t)?ig(n,a):(a=vh(t,n,a,l),a!==null&&(xn(a,t,l),ag(a,n,l)))}function ng(t,n,a){var l=zn();Hl(t,n,a,l)}function Hl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(t))ig(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,v))return fu(t,n,h,0),ge===null&&hu(),!1}catch{}if(a=vh(t,n,h,l),a!==null)return xn(a,t,l),ag(a,n,l),!0}return!1}function ef(t,n,a,l){if(l={lane:2,revertLane:Mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Iu(t)){if(n)throw Error(r(479))}else n=vh(t,a,l,2),n!==null&&xn(n,t,2)}function Iu(t){var n=t.alternate;return t===Lt||n!==null&&n===Lt}function ig(t,n){Cr=xu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ag(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,we(t,a)}}var ql={readContext:sn,use:Cu,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};ql.useEffectEvent=De;var sg={readContext:sn,use:Cu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Hp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Du(4194308,4,Qp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var a=gn();n=n===void 0?null:n;var l=t();if(zs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=gn();if(a!==void 0){var h=a(n);if(zs){vn(!0);try{a(n)}finally{vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=y1.bind(null,Lt,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Kh(t);var n=t.queue,a=ng.bind(null,Lt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Zh,useDeferredValue:function(t,n){var a=gn();return Jh(a,t,n)},useTransition:function(){var t=Kh(!1);return t=Zp.bind(null,Lt,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Lt,h=gn();if(Qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ge===null)throw Error(r(349));(kt&127)!==0||wp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Hp(Cp.bind(null,l,f,t),[t]),l.flags|=2048,Dr(9,{destroy:void 0},Rp.bind(null,l,f,a,n),null),a},useId:function(){var t=gn(),n=ge.identifierPrefix;if(Qt){var a=Mi,l=Oi;a=(l&~(1<<32-ve(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=c1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:tf,useFormState:Up,useActionState:Up,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ef.bind(null,Lt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Gh,useCacheRefresh:function(){return gn().memoizedState=g1.bind(null,Lt)},useEffectEvent:function(t){var n=gn(),a={impl:t};return n.memoizedState=a,function(){if((ee&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},nf={readContext:sn,use:Cu,useCallback:Kp,useContext:sn,useEffect:$h,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Nu,useRef:kp,useState:function(){return Nu(aa)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=je();return $p(a,ce.memoizedState,t,n)},useTransition:function(){var t=Nu(aa)[0],n=je().memoizedState;return[typeof t=="boolean"?t:kl(t),n]},useSyncExternalStore:xp,useId:tg,useHostTransitionStatus:tf,useFormState:zp,useActionState:zp,useOptimistic:function(t,n){var a=je();return Vp(a,ce,t,n)},useMemoCache:Gh,useCacheRefresh:eg};nf.useEffectEvent=qp;var rg={readContext:sn,use:Cu,useCallback:Kp,useContext:sn,useEffect:$h,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Yh,useRef:kp,useState:function(){return Yh(aa)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=je();return ce===null?Jh(a,t,n):$p(a,ce.memoizedState,t,n)},useTransition:function(){var t=Yh(aa)[0],n=je().memoizedState;return[typeof t=="boolean"?t:kl(t),n]},useSyncExternalStore:xp,useId:tg,useHostTransitionStatus:tf,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=je();return ce!==null?Vp(a,ce,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:eg};rg.useEffectEvent=qp;function af(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=zn(),h=Ma(l);h.payload=n,a!=null&&(h.callback=a),n=ja(t,h,l),n!==null&&(xn(n,t,l),Ul(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=zn(),h=Ma(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ja(t,h,l),n!==null&&(xn(n,t,l),Ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=zn(),l=Ma(a);l.tag=2,n!=null&&(l.callback=n),n=ja(t,l,a),n!==null&&(xn(n,t,a),Ul(n,t,a))}};function lg(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Nl(a,l)||!Nl(h,f):!0}function og(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&sf.enqueueReplaceState(n,n.state,null)}function Ps(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ug(t){cu(t)}function cg(t){console.error(t)}function hg(t){cu(t)}function Ou(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(t,n,a){return a=Ma(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(t,n)},a}function dg(t){return t=Ma(t),t.tag=3,t}function mg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){fg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fg(n,a,l),typeof h!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function v1(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&br(n,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?Gu():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Eu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Vf(t,l,h)),!1;case 22:return a.flags|=65536,l===Eu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Vf(t,l,h)),!1}throw Error(r(435,a.tag))}return Vf(t,l,h),Gu(),!1}if(Qt)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Sh&&(t=Error(r(422),{cause:l}),Il(Xn(t,a)))):(l!==Sh&&(n=Error(r(423),{cause:l}),Il(Xn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Xn(l,a),h=rf(t.stateNode,l,h),jh(t,h),Ve!==4&&(Ve=2)),!1;var f=Error(r(520),{cause:l});if(f=Xn(f,a),Zl===null?Zl=[f]:Zl.push(f),Ve!==4&&(Ve=2),n===null)return!0;l=Xn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rf(a.stateNode,l,t),jh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ka===null||!ka.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dg(h),mg(h,t,a,l),jh(a,h),!1}a=a.return}while(a!==null);return!1}var lf=Error(r(461)),qe=!1;function rn(t,n,a,l){n.child=t===null?vp(n,null,a,l):Us(n,t.child,a,l)}function pg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(n),l=kh(t,n,a,v,f,h),T=Hh(),t!==null&&!qe?(qh(t,n,h),sa(t,n,h)):(Qt&&T&&bh(n),n.flags|=1,rn(t,n,l,h),n.child)}function gg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!_h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yg(t,n,f,l,h)):(t=mu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!pf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Nl,a(v,l)&&t.ref===n.ref)return sa(t,n,h)}return n.flags|=1,t=Wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function yg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Nl(f,l)&&t.ref===n.ref)if(qe=!1,n.pendingProps=l=f,pf(t,h))(t.flags&131072)!==0&&(qe=!0);else return n.lanes=t.lanes,sa(t,n,h)}return of(t,n,a,l,h)}function vg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return _g(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(n,f!==null?f.cachePool:null),f!==null?Tp(n,f):Uh(),bp(n);else return l=n.lanes=536870912,_g(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(vu(n,f.cachePool),Tp(n,f),Ua(),n.memoizedState=null):(t!==null&&vu(n,null),Uh(),Ua());return rn(t,n,h,a),n.child}function Fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _g(t,n,a,l,h){var f=Vh();return f=f===null?null:{parent:ke._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&vu(n,null),Uh(),bp(n),t!==null&&br(t,n,l,!0),n.childLanes=h,null}function Mu(t,n){return n=Lu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Eg(t,n,a){return Us(n,t.child,null,a),t=Mu(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function _1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qt){if(l.mode==="hidden")return t=Mu(n,l),n.lanes=536870912,Fl(null,t);if(Ph(n),(t=_e)?(t=Iy(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Na!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,an=n,_e=null)):t=null,t===null)throw Va(n);return n.lanes=536870912,null}return Mu(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Ph(n),h)if(n.flags&256)n.flags&=-257,n=Eg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(qe||br(t,n,a,!1),h=(a&t.childLanes)!==0,qe||h){if(l=ge,l!==null&&(v=gs(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ns(t,v),xn(l,t,v),lf;Gu(),n=Eg(t,n,a)}else t=f.treeContext,_e=ti(v.nextSibling),an=n,Qt=!0,Da=null,Jn=!1,t!==null&&rp(n,t),n=Mu(n,l),n.flags|=4096;return n}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function of(t,n,a,l,h){return Os(n),a=kh(t,n,a,l,void 0,h),l=Hh(),t!==null&&!qe?(qh(t,n,h),sa(t,n,h)):(Qt&&l&&bh(n),n.flags|=1,rn(t,n,a,h),n.child)}function Tg(t,n,a,l,h,f){return Os(n),n.updateQueue=null,a=Sp(n,l,a,h),Ap(t),l=Hh(),t!==null&&!qe?(qh(t,n,f),sa(t,n,f)):(Qt&&l&&bh(n),n.flags|=1,rn(t,n,a,f),n.child)}function bg(t,n,a,l,h){if(Os(n),n.stateNode===null){var f=vr,v=a.contextType;typeof v=="object"&&v!==null&&(f=sn(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Oh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?sn(v):vr,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(af(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&sf.enqueueReplaceState(f,f.state,null),Pl(n,l,f,h),zl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,V=Ps(a,T);f.props=V;var H=f.context,X=a.contextType;v=vr,typeof X=="object"&&X!==null&&(v=sn(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==v)&&og(n,f,l,v),Oa=!1;var F=n.memoizedState;f.state=F,Pl(n,l,f,h),zl(),H=n.memoizedState,T||F!==H||Oa?(typeof tt=="function"&&(af(n,a,tt,l),H=n.memoizedState),(V=Oa||lg(n,a,V,l,F,H,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=v,l=V):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Mh(t,n),v=n.memoizedProps,X=Ps(a,v),f.props=X,tt=n.pendingProps,F=f.context,H=a.contextType,V=vr,typeof H=="object"&&H!==null&&(V=sn(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==tt||F!==V)&&og(n,f,l,V),Oa=!1,F=n.memoizedState,f.state=F,Pl(n,l,f,h),zl();var Q=n.memoizedState;v!==tt||F!==Q||Oa||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof T=="function"&&(af(n,a,T,l),Q=n.memoizedState),(X=Oa||lg(n,a,X,l,F,Q,V)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,V),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,V)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=V,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Us(n,t.child,null,h),n.child=Us(n,null,a,h)):rn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=sa(t,n,h),t}function Ag(t,n,a,l){return Vs(),n.flags|=256,rn(t,n,a,l),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:fp()}}function hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Un),t}function Sg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Me.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qt){if(h?La(n):Ua(),(t=_e)?(t=Iy(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Na!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,an=n,_e=null)):t=null,t===null)throw Va(n);return Yf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ua(),h=n.mode,T=Lu({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=cf(a),l.childLanes=hf(t,v,a),n.memoizedState=uf,Fl(null,l)):(La(n),ff(n,T))}var V=t.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(f)n.flags&256?(La(n),n.flags&=-257,n=df(t,n,a)):n.memoizedState!==null?(Ua(),n.child=t.child,n.flags|=128,n=null):(Ua(),T=l.fallback,h=n.mode,l=Lu({mode:"visible",children:l.children},h),T=Ds(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Us(n,t.child,null,a),l=n.child,l.memoizedState=cf(a),l.childLanes=hf(t,v,a),n.memoizedState=uf,n=Fl(null,l));else if(La(n),Yf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(r(419)),l.stack="",l.digest=v,Il({value:l,source:null,stack:null}),n=df(t,n,a)}else if(qe||br(t,n,a,!1),v=(a&t.childLanes)!==0,qe||v){if(v=ge,v!==null&&(l=gs(v,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,Ns(t,l),xn(v,t,l),lf;Qf(T)||Gu(),n=df(t,n,a)}else Qf(T)?(n.flags|=192,n.child=t.child,n=null):(t=V.treeContext,_e=ti(T.nextSibling),an=n,Qt=!0,Da=null,Jn=!1,t!==null&&rp(n,t),n=ff(n,l.children),n.flags|=4096);return n}return h?(Ua(),T=l.fallback,h=n.mode,V=t.child,H=V.sibling,l=Wi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,H!==null?T=Wi(H,T):(T=Ds(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Fl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=cf(a):(h=T.cachePool,h!==null?(V=ke._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=fp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hf(t,v,a),n.memoizedState=uf,Fl(t.child,l)):(La(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function ff(t,n){return n=Lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Lu(t,n){return t=On(22,t,null,n),t.lanes=0,t}function df(t,n,a){return Us(n,t.child,null,a),t=ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Rh(t.return,n,a)}function mf(t,n,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function wg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=Me.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,lt(Me,v),rn(t,n,l,a),l=Qt?Vl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,a,n);else if(t.tag===19)xg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Su(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),mf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Su(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}mf(n,!0,a,null,f,l);break;case"together":mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function sa(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ba|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(br(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function E1(t,n,a){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),Ia(n,ke,t.memoizedState.cache),Vs();break;case 27:case 5:Tt(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:Ia(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ph(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(La(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sg(t,n,a):(La(n),t=sa(t,n,a),t!==null?t.sibling:null);La(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(br(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return wg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Me,Me.current),l)break;return null;case 22:return n.lanes=0,vg(t,n,a,n.pendingProps);case 24:Ia(n,ke,t.memoizedState.cache)}return sa(t,n,a)}function Rg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qe=!0;else{if(!pf(t,a)&&(n.flags&128)===0)return qe=!1,E1(t,n,a);qe=(t.flags&131072)!==0}else qe=!1,Qt&&(n.flags&1048576)!==0&&sp(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=js(n.elementType),n.type=t,typeof t=="function")_h(t)?(l=Ps(t,l),n.tag=1,n=bg(null,n,t,l,a)):(n.tag=0,n=of(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===dt){n.tag=11,n=pg(null,n,t,l,a);break t}else if(h===D){n.tag=14,n=gg(null,n,t,l,a);break t}}throw n=Yt(t)||t,Error(r(306,n,""))}}return n;case 0:return of(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ps(l,n.pendingProps),bg(t,n,l,h,a);case 3:t:{if(rt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Mh(t,n),Pl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Ia(n,ke,l),l!==f.cache&&Ch(n,[ke],a,!0),zl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ag(t,n,l,a);break t}else if(l!==h){h=Xn(Error(r(424)),n),Il(h),n=Ag(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,_e=ti(t.firstChild),an=n,Qt=!0,Da=null,Jn=!0,a=vp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vs(),l===h){n=sa(t,n,a);break t}rn(t,n,l,a)}n=n.child}return n;case 26:return ju(t,n),t===null?(a=zy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qt||(a=n.type,t=n.pendingProps,l=Ju(Ct.current).createElement(a),l[ze]=n,l[Ze]=t,ln(l,a,t),Pe(l),n.stateNode=l):n.memoizedState=zy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Tt(n),t===null&&Qt&&(l=n.stateNode=jy(n.type,n.pendingProps,Ct.current),an=n,Jn=!0,h=_e,Ga(n.type)?(Kf=h,_e=ti(l.firstChild)):_e=h),rn(t,n,n.pendingProps.children,a),ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qt&&((h=l=_e)&&(l=$1(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,an=n,_e=ti(l.firstChild),Jn=!1,h=!0):h=!1),h||Va(n)),Tt(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,qf(h,f)?l=null:v!==null&&qf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=kh(t,n,h1,null,null,a),so._currentValue=h),ju(t,n),rn(t,n,l,a),n.child;case 6:return t===null&&Qt&&((t=a=_e)&&(a=Z1(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,an=n,_e=null,t=!0):t=!1),t||Va(n)),null;case 13:return Sg(t,n,a);case 4:return rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Us(n,null,l,a):rn(t,n,l,a),n.child;case 11:return pg(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ia(n,n.type,l.value),rn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Os(n),h=sn(h),l=l(h),n.flags|=1,rn(t,n,l,a),n.child;case 14:return gg(t,n,n.type,n.pendingProps,a);case 15:return yg(t,n,n.type,n.pendingProps,a);case 19:return wg(t,n,a);case 31:return _1(t,n,a);case 22:return vg(t,n,a,n.pendingProps);case 24:return Os(n),l=sn(ke),t===null?(h=Vh(),h===null&&(h=ge,f=Nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Oh(n),Ia(n,ke,h)):((t.lanes&a)!==0&&(Mh(t,n),Pl(n,null,null,a),zl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ia(n,ke,l)):(l=f.cache,Ia(n,ke,l),l!==h.cache&&Ch(n,[ke],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ra(t){t.flags|=4}function gf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ty())t.flags|=8192;else throw Ls=Eu,Ih}else t.flags&=-16777217}function Cg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qy(n))if(ty())t.flags|=8192;else throw Ls=Eu,Ih}function Uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?er():536870912,t.lanes|=n,Mr|=n)}function Gl(t,n){if(!Qt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function T1(t,n,a){var l=n.pendingProps;switch(Ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(n),null;case 1:return Ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),na(ke),J(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Tr(n)?ra(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xh())),Ee(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ra(n),f!==null?(Ee(n),Cg(n,f)):(Ee(n),gf(n,h,null,l,a))):f?f!==t.memoizedState?(ra(n),Ee(n),Cg(n,f)):(Ee(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ra(n),Ee(n),gf(n,h,t,l,a)),null;case 27:if(Dt(n),a=Ct.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ra(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}t=ht.current,Tr(n)?lp(n):(t=jy(h,l,a),n.stateNode=t,ra(n))}return Ee(n),null;case 5:if(Dt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ra(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}if(f=ht.current,Tr(n))lp(n);else{var v=Ju(Ct.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[ze]=n,f[Ze]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;t:switch(ln(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ra(n)}}return Ee(n),gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ra(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ct.current,Tr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ze]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sy(t.nodeValue,a)),t||Va(n,!0)}else t=Ju(t).createTextNode(l),t[ze]=n,n.stateNode=t}return Ee(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Tr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ze]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),t=!1}else a=xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Tr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ze]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),h=!1}else h=xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Uu(n,n.updateQueue),Ee(n),null);case 4:return J(),t===null&&zf(n.stateNode.containerInfo),Ee(n),null;case 10:return na(n.type),Ee(n),null;case 19:if($(Me),l=n.memoizedState,l===null)return Ee(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Gl(l,!1);else{if(Ve!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Su(t),f!==null){for(n.flags|=128,Gl(l,!1),t=f.updateQueue,n.updateQueue=t,Uu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)np(a,t),a=a.sibling;return lt(Me,Me.current&1|2),Qt&&ta(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&se()>Hu&&(n.flags|=128,h=!0,Gl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Su(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Uu(n,t),Gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qt)return Ee(n),null}else 2*se()-l.renderingStartTime>Hu&&a!==536870912&&(n.flags|=128,h=!0,Gl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=se(),t.sibling=null,a=Me.current,lt(Me,h?a&1|2:a&1),Qt&&ta(n,l.treeForkCount),t):(Ee(n),null);case 22:case 23:return jn(n),zh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ee(n),n.subtreeFlags&6&&(n.flags|=8192)):Ee(n),a=n.updateQueue,a!==null&&Uu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&$(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),na(ke),Ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function b1(t,n){switch(Ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return na(ke),J(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Dt(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(r(340));Vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Me),null;case 4:return J(),null;case 10:return na(n.type),null;case 22:case 23:return jn(n),zh(),t!==null&&$(Ms),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return na(ke),null;case 25:return null;default:return null}}function Ng(t,n){switch(Ah(n),n.tag){case 3:na(ke),J();break;case 26:case 27:case 5:Dt(n);break;case 4:J();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:$(Me);break;case 10:na(n.type);break;case 22:case 23:jn(n),zh(),t!==null&&$(Ms);break;case 24:na(ke)}}function Ql(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){oe(n,n.return,T)}}function za(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var V=a,H=T;try{H()}catch(X){oe(h,V,X)}}}l=l.next}while(l!==f)}}catch(X){oe(n,n.return,X)}}function Dg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(l){oe(t,t.return,l)}}}function Vg(t,n,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){oe(t,n,l)}}function Yl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){oe(t,n,h)}}function ji(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){oe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){oe(t,n,h)}else a.current=null}function Ig(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){oe(t,t.return,h)}}function yf(t,n,a){try{var l=t.stateNode;F1(l,t.type,a,n),l[Ze]=n}catch(h){oe(t,t.return,h)}}function Og(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ga(t.type)||t.tag===4}function vf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _f(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=li));else if(l!==4&&(l===27&&Ga(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(_f(t,n,a),t=t.sibling;t!==null;)_f(t,n,a),t=t.sibling}function zu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ga(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zu(t,n,a),t=t.sibling;t!==null;)zu(t,n,a),t=t.sibling}function Mg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,a),n[ze]=t,n[Ze]=a}catch(f){oe(t,t.return,f)}}var la=!1,Fe=!1,Ef=!1,jg=typeof WeakSet=="function"?WeakSet:Set,We=null;function A1(t,n){if(t=t.containerInfo,kf=sc,t=Ym(t),fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,V=-1,H=0,X=0,tt=t,F=null;e:for(;;){for(var Q;tt!==a||h!==0&&tt.nodeType!==3||(T=v+h),tt!==f||l!==0&&tt.nodeType!==3||(V=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)F=tt,tt=Q;for(;;){if(tt===t)break e;if(F===a&&++H===h&&(T=v),F===f&&++X===l&&(V=v),(Q=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=Q}a=T===-1||V===-1?null:{start:T,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hf={focusedElem:t,selectionRange:a},sc=!1,We=n;We!==null;)if(n=We,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,We=t;else for(;We!==null;){switch(n=We,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var mt=Ps(a.type,h);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xt){oe(a,a.return,xt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,We=t;break}We=n.return}}function Lg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ua(t,a),l&4&&Ql(5,a);break;case 1:if(ua(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){oe(a,a.return,v)}else{var h=Ps(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){oe(a,a.return,v)}}l&64&&Dg(a),l&512&&Yl(a,a.return);break;case 3:if(ua(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(t,n)}catch(v){oe(a,a.return,v)}}break;case 27:n===null&&l&4&&Mg(a);case 26:case 5:ua(t,a),n===null&&l&4&&Ig(a),l&512&&Yl(a,a.return);break;case 12:ua(t,a);break;case 31:ua(t,a),l&4&&Pg(t,a);break;case 13:ua(t,a),l&4&&Bg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=I1.bind(null,a),J1(t,a))));break;case 22:if(l=a.memoizedState!==null||la,!l){n=n!==null&&n.memoizedState!==null||Fe,h=la;var f=Fe;la=l,(Fe=n)&&!f?ca(t,a,(a.subtreeFlags&8772)!==0):ua(t,a),la=h,Fe=f}break;case 30:break;default:ua(t,a)}}function Ug(t){var n=t.alternate;n!==null&&(t.alternate=null,Ug(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ar(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,Tn=!1;function oa(t,n,a){for(a=a.child;a!==null;)zg(t,n,a),a=a.sibling}function zg(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Cn,a)}catch{}switch(a.tag){case 26:Fe||ji(a,n),oa(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||ji(a,n);var l=Se,h=Tn;Ga(a.type)&&(Se=a.stateNode,Tn=!1),oa(t,n,a),no(a.stateNode),Se=l,Tn=h;break;case 5:Fe||ji(a,n);case 6:if(l=Se,h=Tn,Se=null,oa(t,n,a),Se=l,Tn=h,Se!==null)if(Tn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(a.stateNode)}catch(f){oe(a,n,f)}else try{Se.removeChild(a.stateNode)}catch(f){oe(a,n,f)}break;case 18:Se!==null&&(Tn?(t=Se,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Hr(t)):Dy(Se,a.stateNode));break;case 4:l=Se,h=Tn,Se=a.stateNode.containerInfo,Tn=!0,oa(t,n,a),Se=l,Tn=h;break;case 0:case 11:case 14:case 15:za(2,a,n),Fe||za(4,a,n),oa(t,n,a);break;case 1:Fe||(ji(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vg(a,n,l)),oa(t,n,a);break;case 21:oa(t,n,a);break;case 22:Fe=(l=Fe)||a.memoizedState!==null,oa(t,n,a),Fe=l;break;default:oa(t,n,a)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Hr(t)}catch(a){oe(n,n.return,a)}}}function Bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hr(t)}catch(a){oe(n,n.return,a)}}function S1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(r(435,t.tag))}}function Pu(t,n){var a=S1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=O1.bind(null,t,l);l.then(h,h)}})}function bn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ga(T.type)){Se=T.stateNode,Tn=!1;break t}break;case 5:Se=T.stateNode,Tn=!1;break t;case 3:case 4:Se=T.stateNode.containerInfo,Tn=!0;break t}T=T.return}if(Se===null)throw Error(r(160));zg(f,v,h),Se=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var di=null;function kg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),An(t),l&4&&(za(3,t,t.return),Ql(3,t),za(5,t,t.return));break;case 1:bn(n,t),An(t),l&512&&(Fe||a===null||ji(a,a.return)),l&64&&la&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(bn(n,t),An(t),l&512&&(Fe||a===null||ji(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[ze]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,l,a),f[ze]=t,Pe(f),l=f;break t;case"link":var v=ky("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;case"meta":if(v=ky("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[ze]=t,Pe(f),l=f}t.stateNode=l}else Hy(h,t.type,t.stateNode);else t.stateNode=By(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hy(h,t.type,t.stateNode):By(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(n,t),An(t),l&512&&(Fe||a===null||ji(a,a.return)),a!==null&&l&4&&yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(n,t),An(t),l&512&&(Fe||a===null||ji(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(mt){oe(t,t.return,mt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(bn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(mt){oe(t,t.return,mt)}}break;case 3:if(ec=null,h=di,di=Wu(n.containerInfo),bn(n,t),di=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hr(n.containerInfo)}catch(mt){oe(t,t.return,mt)}Ef&&(Ef=!1,Hg(t));break;case 4:l=di,di=Wu(t.stateNode.containerInfo),bn(n,t),An(t),di=l;break;case 12:bn(n,t),An(t);break;case 31:bn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 13:bn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ku=se()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 22:h=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,H=la,X=Fe;if(la=H||h,Fe=X||V,bn(n,t),Fe=X,la=H,An(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||V||la||Fe||Bs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){V=a=n;try{if(f=V.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=V.stateNode;var tt=V.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(mt){oe(V,V.return,mt)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(mt){oe(V,V.return,mt)}}}else if(n.tag===18){if(a===null){V=n;try{var Q=V.stateNode;h?Vy(Q,!0):Vy(V.stateNode,!1)}catch(mt){oe(V,V.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Pu(t,a))));break;case 19:bn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 30:break;case 21:break;default:bn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Og(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=vf(t);zu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var T=vf(t);zu(t,T,v);break;case 3:case 4:var V=a.stateNode.containerInfo,H=vf(t);_f(t,H,V);break;default:throw Error(r(161))}}catch(X){oe(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ua(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lg(t,n.alternate,n),n=n.sibling}function Bs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:za(4,n,n.return),Bs(n);break;case 1:ji(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vg(n,n.return,a),Bs(n);break;case 27:no(n.stateNode);case 26:case 5:ji(n,n.return),Bs(n);break;case 22:n.memoizedState===null&&Bs(n);break;case 30:Bs(n);break;default:Bs(n)}t=t.sibling}}function ca(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ca(h,f,a),Ql(4,f);break;case 1:if(ca(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){oe(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)_p(V[h],T)}catch(H){oe(l,l.return,H)}}a&&v&64&&Dg(f),Yl(f,f.return);break;case 27:Mg(f);case 26:case 5:ca(h,f,a),a&&l===null&&v&4&&Ig(f),Yl(f,f.return);break;case 12:ca(h,f,a);break;case 31:ca(h,f,a),a&&v&4&&Pg(h,f);break;case 13:ca(h,f,a),a&&v&4&&Bg(h,f);break;case 22:f.memoizedState===null&&ca(h,f,a),Yl(f,f.return);break;case 30:break;default:ca(h,f,a)}n=n.sibling}}function Tf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ol(a))}function bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t))}function mi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(t,n,a,l),n=n.sibling}function qg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,l),h&2048&&Ql(9,n);break;case 1:mi(t,n,a,l);break;case 3:mi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t)));break;case 12:if(h&2048){mi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){oe(n,n.return,V)}}else mi(t,n,a,l);break;case 31:mi(t,n,a,l);break;case 13:mi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,a,l):Kl(t,n):f._visibility&2?mi(t,n,a,l):(f._visibility|=2,Vr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(v,n);break;case 24:mi(t,n,a,l),h&2048&&bf(n.alternate,n);break;default:mi(t,n,a,l)}}function Vr(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,T=a,V=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Vr(f,v,T,V,h),Ql(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Vr(f,v,T,V,h):Kl(f,v):(X._visibility|=2,Vr(f,v,T,V,h)),h&&H&2048&&Tf(v.alternate,v);break;case 24:Vr(f,v,T,V,h),h&&H&2048&&bf(v.alternate,v);break;default:Vr(f,v,T,V,h)}n=n.sibling}}function Kl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Kl(a,l),h&2048&&Tf(l.alternate,l);break;case 24:Kl(a,l),h&2048&&bf(l.alternate,l);break;default:Kl(a,l)}n=n.sibling}}var Xl=8192;function Ir(t,n,a){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)Fg(t,n,a),t=t.sibling}function Fg(t,n,a){switch(t.tag){case 26:Ir(t,n,a),t.flags&Xl&&t.memoizedState!==null&&cT(a,di,t.memoizedState,t.memoizedProps);break;case 5:Ir(t,n,a);break;case 3:case 4:var l=di;di=Wu(t.stateNode.containerInfo),Ir(t,n,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,Ir(t,n,a),Xl=l):Ir(t,n,a));break;default:Ir(t,n,a)}}function Gg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function $l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];We=l,Yg(l,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 0:case 11:case 15:$l(t),t.flags&2048&&za(9,t,t.return);break;case 3:$l(t);break;case 12:$l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bu(t)):$l(t);break;default:$l(t)}}function Bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];We=l,Yg(l,t)}Gg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:za(8,n,n.return),Bu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(n));break;default:Bu(n)}t=t.sibling}}function Yg(t,n){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:za(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,We=l;else t:for(a=t;We!==null;){l=We;var h=l.sibling,f=l.return;if(Ug(l),l===a){We=null;break t}if(h!==null){h.return=f,We=h;break t}We=f}}}var x1={getCacheForType:function(t){var n=sn(ke),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return sn(ke).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,ee=0,ge=null,Pt=null,kt=0,le=0,Ln=null,Pa=!1,Or=!1,Af=!1,ha=0,Ve=0,Ba=0,ks=0,Sf=0,Un=0,Mr=0,Zl=null,Sn=null,xf=!1,ku=0,Kg=0,Hu=1/0,qu=null,ka=null,Ke=0,Ha=null,jr=null,fa=0,wf=0,Rf=null,Xg=null,Jl=0,Cf=null;function zn(){return(ee&2)!==0&&kt!==0?kt&-kt:K.T!==null?Mf():Fo()}function $g(){if(Un===0)if((kt&536870912)===0||Qt){var t=st;st<<=1,(st&3932160)===0&&(st=262144),Un=t}else Un=536870912;return t=Mn.current,t!==null&&(t.flags|=32),Un}function xn(t,n,a){(t===ge&&(le===2||le===9)||t.cancelPendingCommit!==null)&&(Lr(t,0),qa(t,kt,Un,!1)),vi(t,a),((ee&2)===0||t!==ge)&&(t===ge&&((ee&2)===0&&(ks|=a),Ve===4&&qa(t,kt,Un,!1)),Li(t))}function Zg(t,n,a){if((ee&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Nn(t,n),h=l?N1(t,n):Df(t,n,!0),f=l;do{if(h===0){Or&&!l&&qa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!R1(a)){h=Df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Zl;var V=T.current.memoizedState.isDehydrated;if(V&&(Lr(T,v).flags|=256),v=Df(T,v,!1),v!==2){if(Af&&!V){T.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break t}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Lr(t,0),qa(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:qa(l,n,Un,!Pa);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ku+300-se(),10<h)){if(qa(l,n,Un,!Pa),en(l,0,!0)!==0)break t;fa=n,l.timeoutHandle=Cy(Jg.bind(null,l,a,Sn,qu,xf,n,Un,ks,Mr,Pa,f,"Throttled",-0,0),h);break t}Jg(l,a,Sn,qu,xf,n,Un,ks,Mr,Pa,f,null,-0,0)}}break}while(!0);Li(t)}function Jg(t,n,a,l,h,f,v,T,V,H,X,tt,F,Q){if(t.timeoutHandle=-1,tt=n.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Fg(n,f,tt);var mt=(f&62914560)===f?ku-se():(f&4194048)===f?Kg-se():0;if(mt=hT(tt,mt),mt!==null){fa=f,t.cancelPendingCommit=mt(ry.bind(null,t,n,f,a,l,h,v,T,V,X,tt,null,F,Q)),qa(t,f,v,!H);return}}ry(t,n,f,a,l,h,v,T,V)}function R1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qa(t,n,a,l){n&=~Sf,n&=~ks,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&_i(t,a,n)}function Fu(){return(ee&6)===0?(Wl(0),!1):!0}function Nf(){if(Pt!==null){if(le===0)var t=Pt.return;else t=Pt,ea=Is=null,Fh(t),wr=null,jl=0,t=Pt;for(;t!==null;)Ng(t.alternate,t),t=t.return;Pt=null}}function Lr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Y1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fa=0,Nf(),ge=t,Pt=a=Wi(t.current,null),kt=n,le=0,Ln=null,Pa=!1,Or=Nn(t,n),Af=!1,Mr=Un=Sf=ks=Ba=Ve=0,Sn=Zl=null,xf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ve(l),f=1<<h;n|=t[h],l&=~f}return ha=n,hu(),a}function Wg(t,n){Lt=null,K.H=ql,n===xr||n===_u?(n=pp(),le=3):n===Ih?(n=pp(),le=4):le=n===lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Pt===null&&(Ve=1,Ou(t,Xn(n,t.current)))}function ty(){var t=Mn.current;return t===null?!0:(kt&4194048)===kt?Wn===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Wn:!1}function ey(){var t=K.H;return K.H=ql,t===null?ql:t}function ny(){var t=K.A;return K.A=x1,t}function Gu(){Ve=4,Pa||(kt&4194048)!==kt&&Mn.current!==null||(Or=!0),(Ba&134217727)===0&&(ks&134217727)===0||ge===null||qa(ge,kt,Un,!1)}function Df(t,n,a){var l=ee;ee|=2;var h=ey(),f=ny();(ge!==t||kt!==n)&&(qu=null,Lr(t,n)),n=!1;var v=Ve;t:do try{if(le!==0&&Pt!==null){var T=Pt,V=Ln;switch(le){case 8:Nf(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var H=le;if(le=0,Ln=null,Ur(t,T,V,H),a&&Or){v=0;break t}break;default:H=le,le=0,Ln=null,Ur(t,T,V,H)}}C1(),v=Ve;break}catch(X){Wg(t,X)}while(!0);return n&&t.shellSuspendCounter++,ea=Is=null,ee=l,K.H=h,K.A=f,Pt===null&&(ge=null,kt=0,hu()),v}function C1(){for(;Pt!==null;)iy(Pt)}function N1(t,n){var a=ee;ee|=2;var l=ey(),h=ny();ge!==t||kt!==n?(qu=null,Hu=se()+500,Lr(t,n)):Or=Nn(t,n);t:do try{if(le!==0&&Pt!==null){n=Pt;var f=Ln;e:switch(le){case 1:le=0,Ln=null,Ur(t,n,f,1);break;case 2:case 9:if(dp(f)){le=0,Ln=null,ay(n);break}n=function(){le!==2&&le!==9||ge!==t||(le=7),Li(t)},f.then(n,n);break t;case 3:le=7;break t;case 4:le=5;break t;case 7:dp(f)?(le=0,Ln=null,ay(n)):(le=0,Ln=null,Ur(t,n,f,7));break;case 5:var v=null;switch(Pt.tag){case 26:v=Pt.memoizedState;case 5:case 27:var T=Pt;if(v?qy(v):T.stateNode.complete){le=0,Ln=null;var V=T.sibling;if(V!==null)Pt=V;else{var H=T.return;H!==null?(Pt=H,Qu(H)):Pt=null}break e}}le=0,Ln=null,Ur(t,n,f,5);break;case 6:le=0,Ln=null,Ur(t,n,f,6);break;case 8:Nf(),Ve=6;break t;default:throw Error(r(462))}}D1();break}catch(X){Wg(t,X)}while(!0);return ea=Is=null,K.H=l,K.A=h,ee=a,Pt!==null?0:(ge=null,kt=0,hu(),Ve)}function D1(){for(;Pt!==null&&!_a();)iy(Pt)}function iy(t){var n=Rg(t.alternate,t,ha);t.memoizedProps=t.pendingProps,n===null?Qu(t):Pt=n}function ay(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Tg(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Tg(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Fh(n);default:Ng(a,n),n=Pt=np(n,ha),n=Rg(a,n,ha)}t.memoizedProps=t.pendingProps,n===null?Qu(t):Pt=n}function Ur(t,n,a,l){ea=Is=null,Fh(n),wr=null,jl=0;var h=n.return;try{if(v1(t,h,n,a,kt)){Ve=1,Ou(t,Xn(a,t.current)),Pt=null;return}}catch(f){if(h!==null)throw Pt=h,f;Ve=1,Ou(t,Xn(a,t.current)),Pt=null;return}n.flags&32768?(Qt||l===1?t=!0:Or||(kt&536870912)!==0?t=!1:(Pa=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):Qu(n)}function Qu(t){var n=t;do{if((n.flags&32768)!==0){sy(n,Pa);return}t=n.return;var a=T1(n.alternate,n,ha);if(a!==null){Pt=a;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=t}while(n!==null);Ve===0&&(Ve=5)}function sy(t,n){do{var a=b1(t.alternate,t);if(a!==null){a.flags&=32767,Pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=a}while(t!==null);Ve=6,Pt=null}function ry(t,n,a,l,h,f,v,T,V){t.cancelPendingCommit=null;do Yu();while(Ke!==0);if((ee&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=yh,nr(t,a,f,v,T,V),t===ge&&(Pt=ge=null,kt=0),jr=n,Ha=t,fa=a,wf=f,Rf=h,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,M1(yn,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ut.p,ut.p=2,v=ee,ee|=4;try{A1(t,n,a)}finally{ee=v,ut.p=h,K.T=l}}Ke=1,ly(),oy(),uy()}}function ly(){if(Ke===1){Ke=0;var t=Ha,n=jr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ut.p;ut.p=2;var h=ee;ee|=4;try{kg(n,t);var f=Hf,v=Ym(t.containerInfo),T=f.focusedElem,V=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qm(T.ownerDocument.documentElement,T)){if(V!==null&&fh(T)){var H=V.start,X=V.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var tt=T.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var Q=F.getSelection(),mt=T.textContent.length,xt=Math.min(V.start,mt),fe=V.end===void 0?xt:Math.min(V.end,mt);!Q.extend&&xt>fe&&(v=fe,fe=xt,xt=v);var U=Gm(T,xt),M=Gm(T,fe);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var k=tt.createRange();k.setStart(U.node,U.offset),Q.removeAllRanges(),xt>fe?(Q.addRange(k),Q.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),Q.addRange(k))}}}}for(tt=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var Z=tt[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}sc=!!kf,Hf=kf=null}finally{ee=h,ut.p=l,K.T=a}}t.current=n,Ke=2}}function oy(){if(Ke===2){Ke=0;var t=Ha,n=jr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ut.p;ut.p=2;var h=ee;ee|=4;try{Lg(t,n.alternate,n)}finally{ee=h,ut.p=l,K.T=a}}Ke=3}}function uy(){if(Ke===4||Ke===3){Ke=0,Gi();var t=Ha,n=jr,a=fa,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,jr=Ha=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ka=null),Xi(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=ut.p,ut.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{K.T=n,ut.p=h}}(fa&3)!==0&&Yu(),Li(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Cf?Jl++:(Jl=0,Cf=t):Jl=0,Wl(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ol(n)))}function Yu(){return ly(),oy(),uy(),hy()}function hy(){if(Ke!==5)return!1;var t=Ha,n=wf;wf=0;var a=Xi(fa),l=K.T,h=ut.p;try{ut.p=32>a?32:a,K.T=null,a=Rf,Rf=null;var f=Ha,v=fa;if(Ke=0,jr=Ha=null,fa=0,(ee&6)!==0)throw Error(r(331));var T=ee;if(ee|=4,Qg(f.current),qg(f,f.current,v,a),ee=T,Wl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Cn,f)}catch{}return!0}finally{ut.p=h,K.T=l,cy(t,n)}}function fy(t,n,a){n=Xn(a,n),n=rf(t.stateNode,n,2),t=ja(t,n,2),t!==null&&(vi(t,2),Li(t))}function oe(t,n,a){if(t.tag===3)fy(t,t,a);else for(;n!==null;){if(n.tag===3){fy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ka===null||!ka.has(l))){t=Xn(a,t),a=dg(2),l=ja(n,a,2),l!==null&&(mg(a,l,n,t),vi(l,2),Li(l));break}}n=n.return}}function Vf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new w1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Af=!0,h.add(a),t=V1.bind(null,t,n,a),n.then(t,t))}function V1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ge===t&&(kt&a)===a&&(Ve===4||Ve===3&&(kt&62914560)===kt&&300>se()-ku?(ee&2)===0&&Lr(t,0):Sf|=a,Mr===kt&&(Mr=0)),Li(t)}function dy(t,n){n===0&&(n=er()),t=Ns(t,n),t!==null&&(vi(t,n),Li(t))}function I1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dy(t,a)}function O1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),dy(t,a)}function M1(t,n){return ie(t,n)}var Ku=null,zr=null,If=!1,Xu=!1,Of=!1,Fa=0;function Li(t){t!==zr&&t.next===null&&(zr===null?Ku=zr=t:zr=zr.next=t),Xu=!0,If||(If=!0,L1())}function Wl(t,n){if(!Of&&Xu){Of=!0;do for(var a=!1,l=Ku;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ve(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,yy(l,f))}else f=kt,f=en(l,l===ge?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Nn(l,f)||(a=!0,yy(l,f));l=l.next}while(a);Of=!1}}function j1(){my()}function my(){Xu=If=!1;var t=0;Fa!==0&&Q1()&&(t=Fa);for(var n=se(),a=null,l=Ku;l!==null;){var h=l.next,f=py(l,n);f===0?(l.next=null,a===null?Ku=h:a.next=h,h===null&&(zr=a)):(a=l,(t!==0||(f&3)!==0)&&(Xu=!0)),l=h}Ke!==0&&Ke!==5||Wl(t),Fa!==0&&(Fa=0)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-ve(f),T=1<<v,V=h[v];V===-1?((T&a)===0||(T&l)!==0)&&(h[v]=qo(T,n)):V<=n&&(t.expiredLanes|=T),f&=~T}if(n=ge,a=kt,a=en(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(le===2||le===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&be(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Nn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&be(l),Xi(a)){case 2:case 8:a=Yi;break;case 32:a=yn;break;case 268435456:a=Ws;break;default:a=yn}return l=gy.bind(null,t),a=ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&be(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var l=kt;return l=en(t,t===ge?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zg(t,l,n),py(t,se()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function yy(t,n){if(Yu())return null;Zg(t,n,!0)}function L1(){K1(function(){(ee&6)!==0?ie(ai,j1):my()})}function Mf(){if(Fa===0){var t=Ar;t===0&&(t=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),Fa=t}return Fa}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:or(""+t)}function _y(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function U1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=vy((h[Ze]||null).action),v=l.submitter;v&&(n=(n=v[Ze]||null)?vy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Ni("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fa!==0){var V=v?_y(h,v):new FormData(h);Wh(a,{pending:!0,data:V,method:h.method,action:f},null,V)}}else typeof f=="function"&&(T.preventDefault(),V=v?_y(h,v):new FormData(h),Wh(a,{pending:!0,data:V,method:h.method,action:f},f,V))},currentTarget:h}]})}}for(var jf=0;jf<gh.length;jf++){var Lf=gh[jf],z1=Lf.toLowerCase(),P1=Lf[0].toUpperCase()+Lf.slice(1);fi(z1,"on"+P1)}fi($m,"onAnimationEnd"),fi(Zm,"onAnimationIteration"),fi(Jm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(e1,"onTransitionRun"),fi(n1,"onTransitionStart"),fi(i1,"onTransitionCancel"),fi(Wm,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function Ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],V=T.instance,H=T.currentTarget;if(T=T.listener,V!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(X){cu(X)}h.currentTarget=null,f=V}else for(v=0;v<l.length;v++){if(T=l[v],V=T.instance,H=T.currentTarget,T=T.listener,V!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(X){cu(X)}h.currentTarget=null,f=V}}}}function Bt(t,n){var a=n[ir];a===void 0&&(a=n[ir]=new Set);var l=t+"__bubble";a.has(l)||(Ty(n,t,2,!1),a.add(l))}function Uf(t,n,a){var l=0;n&&(l|=4),Ty(a,t,l,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[$u]){t[$u]=!0,fl.forEach(function(a){a!=="selectionchange"&&(B1.has(a)||Uf(a,!1,t),Uf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$u]||(n[$u]=!0,Uf("selectionchange",!1,n))}}function Ty(t,n,a,l){switch($y(n)){case 2:var h=mT;break;case 8:h=pT;break;default:h=Wf}a=h.bind(null,n,a,t),h=void 0,!Ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Pf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var V=v.tag;if((V===3||V===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=bi(T),v===null)return;if(V=v.tag,V===5||V===6||V===26||V===27){l=f=v;continue t}T=T.parentNode}}l=l.return}xa(function(){var H=f,X=Gn(a),tt=[];t:{var F=tp.get(t);if(F!==void 0){var Q=Ni,mt=t;switch(t){case"keypress":if(As(a)===0)break t;case"keydown":case"keyup":Q=lu;break;case"focusin":mt="focus",Q=xs;break;case"focusout":mt="blur",Q=xs;break;case"beforeblur":case"afterblur":Q=xs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=p;break;case $m:case Zm:case Jm:Q=tu;break;case Wm:Q=A;break;case"scroll":case"scrollend":Q=Sl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ji;break;case"toggle":case"beforetoggle":Q=jt}var xt=(n&4)!==0,fe=!xt&&(t==="scroll"||t==="scrollend"),U=xt?F!==null?F+"Capture":null:F;xt=[];for(var M=H,k;M!==null;){var Z=M;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||U===null||(Z=oi(M,U),Z!=null&&xt.push(eo(M,Z,k))),fe)break;M=M.return}0<xt.length&&(F=new Q(F,mt,null,a,X),tt.push({event:F,listeners:xt}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Tl&&(mt=a.relatedTarget||a.fromElement)&&(bi(mt)||mt[Ei]))break t;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(mt=a.relatedTarget||a.toElement,Q=H,mt=mt?bi(mt):null,mt!==null&&(fe=c(mt),xt=mt.tag,mt!==fe||xt!==5&&xt!==27&&xt!==6)&&(mt=null)):(Q=null,mt=H),Q!==mt)){if(xt=xl,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(xt=Ji,Z="onPointerLeave",U="onPointerEnter",M="pointer"),fe=Q==null?F:Dn(Q),k=mt==null?F:Dn(mt),F=new xt(Z,M+"leave",Q,a,X),F.target=fe,F.relatedTarget=k,Z=null,bi(X)===H&&(xt=new xt(U,M+"enter",mt,a,X),xt.target=k,xt.relatedTarget=fe,Z=xt),fe=Z,Q&&mt)e:{for(xt=k1,U=Q,M=mt,k=0,Z=U;Z;Z=xt(Z))k++;Z=0;for(var Et=M;Et;Et=xt(Et))Z++;for(;0<k-Z;)U=xt(U),k--;for(;0<Z-k;)M=xt(M),Z--;for(;k--;){if(U===M||M!==null&&U===M.alternate){xt=U;break e}U=xt(U),M=xt(M)}xt=null}else xt=null;Q!==null&&by(tt,F,Q,xt,!1),mt!==null&&fe!==null&&by(tt,fe,mt,xt,!0)}}t:{if(F=H?Dn(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Jt=Pm;else if(Um(F))if(Bm)Jt=JE;else{Jt=$E;var gt=XE}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&lr(H.elementType)&&(Jt=Pm):Jt=ZE;if(Jt&&(Jt=Jt(t,H))){zm(tt,Jt,a,X);break t}gt&&gt(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&vl(F,"number",F.value)}switch(gt=H?Dn(H):window,t){case"focusin":(Um(gt)||gt.contentEditable==="true")&&(pr=gt,dh=H,Dl=null);break;case"focusout":Dl=dh=pr=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Km(tt,a,X);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":Km(tt,a,X)}var Ut;if(te)t:{switch(t){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else mr?ws(t,a)&&(Ht="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ht="onCompositionStart");Ht&&(Ii&&a.locale!=="ko"&&(mr||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&mr&&(Ut=Al()):(Ci=X,bl="value"in Ci?Ci.value:Ci.textContent,mr=!0)),gt=Zu(H,Ht),0<gt.length&&(Ht=new Vi(Ht,t,null,a,X),tt.push({event:Ht,listeners:gt}),Ut?Ht.data=Ut:(Ut=dr(a),Ut!==null&&(Ht.data=Ut)))),(Ut=Yn?GE(t,a):QE(t,a))&&(Ht=Zu(H,"onBeforeInput"),0<Ht.length&&(gt=new Vi("onBeforeInput","beforeinput",null,a,X),tt.push({event:gt,listeners:Ht}),gt.data=Ut)),U1(tt,t,H,a,X)}Ey(tt,n)})}function eo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Zu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,a),h!=null&&l.unshift(eo(t,h,f)),h=oi(t,n),h!=null&&l.push(eo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function k1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,V=T.alternate,H=T.stateNode;if(T=T.tag,V!==null&&V===l)break;T!==5&&T!==26&&T!==27||H===null||(V=H,h?(H=oi(a,f),H!=null&&v.unshift(eo(a,H,V))):h||(H=oi(a,f),H!=null&&v.push(eo(a,H,V)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var H1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(H1,`
`).replace(q1,"")}function Sy(t,n){return n=Ay(n),Ay(t)===n}function he(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,a,l);break;case"style":El(t,l,f);break;case"data":if(n!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=or(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&he(t,n,"name",h.name,h,null),he(t,n,"formEncType",h.formEncType,h,null),he(t,n,"formMethod",h.formMethod,h,null),he(t,n,"formTarget",h.formTarget,h,null)):(he(t,n,"encType",h.encType,h,null),he(t,n,"method",h.method,h,null),he(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=or(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Bt("beforetoggle",t),Bt("toggle",t),sr(t,"popover",l);break;case"xlinkActuate":Be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zo.get(a)||a,sr(t,a,l))}}function Bf(t,n,a,l,h,f){switch(a){case"style":El(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):sr(t,a,l)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",t),Bt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:he(t,n,f,v,a,null)}}h&&he(t,n,"srcSet",a.srcSet,a,null),l&&he(t,n,"src",a.src,a,null);return;case"input":Bt("invalid",t);var T=f=v=h=null,V=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":V=X;break;case"defaultChecked":H=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:he(t,n,l,X,a,null)}}Ko(t,f,T,V,H,v,h,!1);return;case"select":Bt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:he(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?Ta(t,!!l,n,!1):a!=null&&Ta(t,!!l,a,!0);return;case"textarea":Bt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:he(t,n,v,T,a,null)}ba(t,l,h,f);return;case"option":for(V in a)a.hasOwnProperty(V)&&(l=a[V],l!=null)&&(V==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":he(t,n,V,l,a,null));return;case"dialog":Bt("beforetoggle",t),Bt("toggle",t),Bt("cancel",t),Bt("close",t);break;case"iframe":case"object":Bt("load",t);break;case"video":case"audio":for(l=0;l<to.length;l++)Bt(to[l],t);break;case"image":Bt("error",t),Bt("load",t);break;case"details":Bt("toggle",t);break;case"embed":case"source":case"link":Bt("error",t),Bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:he(t,n,H,l,a,null)}return;default:if(lr(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Bf(t,n,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&he(t,n,T,l,a,null))}function F1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,V=null,H=null,X=null;for(Q in a){var tt=a[Q];if(a.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=tt;default:l.hasOwnProperty(Q)||he(t,n,Q,null,l,tt)}}for(var F in l){var Q=l[F];if(tt=a[F],l.hasOwnProperty(F)&&(Q!=null||tt!=null))switch(F){case"type":f=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==tt&&he(t,n,F,Q,l,tt)}}rr(t,v,T,V,H,X,f,h);return;case"select":Q=v=T=F=null;for(f in a)if(V=a[f],a.hasOwnProperty(f)&&V!=null)switch(f){case"value":break;case"multiple":Q=V;default:l.hasOwnProperty(f)||he(t,n,f,null,l,V)}for(h in l)if(f=l[h],V=a[h],l.hasOwnProperty(h)&&(f!=null||V!=null))switch(h){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==V&&he(t,n,h,f,l,V)}n=T,a=v,l=Q,F!=null?Ta(t,!!a,F,!1):!!l!=!!a&&(n!=null?Ta(t,!!a,n,!0):Ta(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:he(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&he(t,n,v,h,l,f)}Xo(t,F,Q);return;case"option":for(var mt in a)F=a[mt],a.hasOwnProperty(mt)&&F!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?t.selected=!1:he(t,n,mt,null,l,F));for(V in l)F=l[V],Q=a[V],l.hasOwnProperty(V)&&F!==Q&&(F!=null||Q!=null)&&(V==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":he(t,n,V,F,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in a)F=a[xt],a.hasOwnProperty(xt)&&F!=null&&!l.hasOwnProperty(xt)&&he(t,n,xt,null,l,F);for(H in l)if(F=l[H],Q=a[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:he(t,n,H,F,l,Q)}return;default:if(lr(n)){for(var fe in a)F=a[fe],a.hasOwnProperty(fe)&&F!==void 0&&!l.hasOwnProperty(fe)&&Bf(t,n,fe,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||Bf(t,n,X,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&he(t,n,U,null,l,F);for(tt in l)F=l[tt],Q=a[tt],!l.hasOwnProperty(tt)||F===Q||F==null&&Q==null||he(t,n,tt,F,l,Q)}function xy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&xy(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var V=a[l],H=V.startTime;if(H>T)break;var X=V.transferSize,tt=V.initiatorType;X&&xy(tt)&&(V=V.responseEnd,v+=X*(V<T?1:(T-H)/(V-H)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kf=null,Hf=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function qf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function Q1(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(X1)}:Cy;function X1(t){setTimeout(function(){throw t})}function Ga(t){return t==="head"}function Dy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Hr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")no(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,no(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&no(t.ownerDocument.body);a=h}while(a);Hr(n)}function Vy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function Z1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ti(t.nextSibling),t===null))return null;return t}function Iy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$?"||t.data==="$~"}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function J1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Kf=null;function Oy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ti(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function My(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function jy(t,n,a){switch(n=Ju(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function no(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ar(t)}var ei=new Map,Ly=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var da=ut.d;ut.d={f:W1,r:tT,D:eT,C:nT,L:iT,m:aT,X:rT,S:sT,M:lT};function W1(){var t=da.f(),n=Fu();return t||n}function tT(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Wp(n):da.r(t)}var Pr=typeof document>"u"?null:document;function Uy(t,n,a){var l=Pr;if(l&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",t),Pe(n),l.head.appendChild(n)))}}function eT(t){da.D(t),Uy("dns-prefetch",t,null)}function nT(t,n){da.C(t,n),Uy("preconnect",t,n)}function iT(t,n,a){da.L(t,n,a);var l=Pr;if(l&&t&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_n(a.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var f=h;switch(n){case"style":f=Br(t);break;case"script":f=kr(t)}ei.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ei.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(io(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),ln(n,"link",t),Pe(n),l.head.appendChild(n)))}}function aT(t,n){da.m(t,n);var a=Pr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=kr(t)}if(!ei.has(f)&&(t=b({rel:"modulepreload",href:t},n),ei.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ao(f)))return}l=a.createElement("link"),ln(l,"link",t),Pe(l),a.head.appendChild(l)}}}function sT(t,n,a){da.S(t,n,a);var l=Pr;if(l&&t){var h=Ai(l).hoistableStyles,f=Br(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(io(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ei.get(f))&&Xf(t,a);var V=v=l.createElement("link");Pe(V),ln(V,"link",t),V._p=new Promise(function(H,X){V.onload=H,V.onerror=X}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,tc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function rT(t,n){da.X(t,n);var a=Pr;if(a&&t){var l=Ai(a).hoistableScripts,h=kr(t),f=l.get(h);f||(f=a.querySelector(ao(h)),f||(t=b({src:t,async:!0},n),(n=ei.get(h))&&$f(t,n),f=a.createElement("script"),Pe(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function lT(t,n){da.M(t,n);var a=Pr;if(a&&t){var l=Ai(a).hoistableScripts,h=kr(t),f=l.get(h);f||(f=a.querySelector(ao(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&$f(t,n),f=a.createElement("script"),Pe(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function zy(t,n,a,l){var h=(h=Ct.current)?Wu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Br(a.href),a=Ai(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Br(a.href);var f=Ai(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(io(t)))&&!f._p&&(v.instance=f,v.state.loading=5),ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(t,a),f||oT(h,t,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=kr(a),a=Ai(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Br(t){return'href="'+_n(t)+'"'}function io(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),Pe(n),t.head.appendChild(n))}function kr(t){return'[src="'+_n(t)+'"]'}function ao(t){return"script[async]"+t}function By(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(l)return n.instance=l,Pe(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pe(l),ln(l,"style",h),tc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Br(a.href);var f=t.querySelector(io(h));if(f)return n.state.loading|=4,n.instance=f,Pe(f),f;l=Py(a),(h=ei.get(h))&&Xf(l,h),f=(t.ownerDocument||t).createElement("link"),Pe(f);var v=f;return v._p=new Promise(function(T,V){v.onload=T,v.onerror=V}),ln(f,"link",l),n.state.loading|=4,tc(f,a.precedence,t),n.instance=f;case"script":return f=kr(a.src),(h=t.querySelector(ao(f)))?(n.instance=h,Pe(h),h):(l=a,(h=ei.get(f))&&(l=b({},a),$f(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pe(h),ln(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,tc(l,a.precedence,t));return n.instance}function tc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function ky(t,n,a){if(ec===null){var l=new Map,h=ec=new Map;h.set(a,l)}else h=ec,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ti]||f[ze]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function uT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Br(l.href),f=n.querySelector(io(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Pe(f);return}f=n.ownerDocument||n,l=Py(l),(h=ei.get(h))&&Xf(l,h),f=f.createElement("link"),Pe(f);var v=f;v._p=new Promise(function(T,V){v.onload=T,v.onerror=V}),ln(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Zf=0;function hT(t,n){return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Zf===0&&(Zf=62500*G1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,n.forEach(fT,t),ic=null,nc.call(t))}function fT(t,n){if(!(n.state.loading&4)){var a=ic.get(t);if(a)var l=a.get(null);else{a=new Map,ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var so={$$typeof:ct,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function dT(t,n,a,l,h,f,v,T,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Fy(t,n,a,l,h,f,v,T,V,H,X,tt){return t=new dT(t,n,a,v,V,H,X,tt,T),n=1,f===!0&&(n|=24),f=On(3,null,null,n),t.current=f,f.stateNode=t,n=Nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Oh(f),t}function Gy(t){return t?(t=vr,t):vr}function Qy(t,n,a,l,h,f){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ma(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ja(t,l,n),a!==null&&(xn(a,t,n),Ul(a,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jf(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13||t.tag===31){var n=Ns(t,67108864);n!==null&&xn(n,t,67108864),Jf(t,67108864)}}function Xy(t){if(t.tag===13||t.tag===31){var n=zn();n=ys(n);var a=Ns(t,n);a!==null&&xn(a,t,n),Jf(t,n)}}var sc=!0;function mT(t,n,a,l){var h=K.T;K.T=null;var f=ut.p;try{ut.p=2,Wf(t,n,a,l)}finally{ut.p=f,K.T=h}}function pT(t,n,a,l){var h=K.T;K.T=null;var f=ut.p;try{ut.p=8,Wf(t,n,a,l)}finally{ut.p=f,K.T=h}}function Wf(t,n,a,l){if(sc){var h=td(l);if(h===null)Pf(t,n,l,rc,a),Zy(t,l);else if(yT(h,t,n,a,l))l.stopPropagation();else if(Zy(t,l),n&4&&-1<gT.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=pt(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var V=1<<31-ve(v);T.entanglements[1]|=V,v&=~V}Li(f),(ee&6)===0&&(Hu=se()+500,Wl(0))}}break;case 31:case 13:T=Ns(f,2),T!==null&&xn(T,f,2),Fu(),Jf(f,2)}if(f=td(l),f===null&&Pf(t,n,l,rc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Pf(t,n,l,null,a)}}function td(t){return t=Gn(t),ed(t)}var rc=null;function ed(t){if(rc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return rc=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case ai:return 2;case Yi:return 8;case yn:case Js:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var nd=!1,Qa=null,Ya=null,Ka=null,ro=new Map,lo=new Map,Xa=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,n){switch(t){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(n.pointerId)}}function oo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function yT(t,n,a,l,h){switch(n){case"focusin":return Qa=oo(Qa,t,n,a,l,h),!0;case"dragenter":return Ya=oo(Ya,t,n,a,l,h),!0;case"mouseover":return Ka=oo(Ka,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ro.set(f,oo(ro.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,lo.set(f,oo(lo.get(f)||null,t,n,a,l,h)),!0}return!1}function Jy(t){var n=bi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,si(t.priority,function(){Xy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,si(t.priority,function(){Xy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=td(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Tl=l,a.target.dispatchEvent(l),Tl=null}else return n=Fn(a),n!==null&&Ky(n),t.blockedOn=a,!1;n.shift()}return!0}function Wy(t,n,a){lc(t)&&a.delete(n)}function vT(){nd=!1,Qa!==null&&lc(Qa)&&(Qa=null),Ya!==null&&lc(Ya)&&(Ya=null),Ka!==null&&lc(Ka)&&(Ka=null),ro.forEach(Wy),lo.forEach(Wy)}function oc(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vT)))}var uc=null;function tv(t){uc!==t&&(uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ed(l||a)===null)continue;break}var f=Fn(a);f!==null&&(t.splice(n,3),n-=3,Wh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Hr(t){function n(V){return oc(V,t)}Qa!==null&&oc(Qa,t),Ya!==null&&oc(Ya,t),Ka!==null&&oc(Ka,t),ro.forEach(n),lo.forEach(n);for(var a=0;a<Xa.length;a++){var l=Xa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&Xa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Ze]||null;if(typeof f=="function")v||tv(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ze]||null)T=v.formAction;else if(ed(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),tv(a)}}}function ev(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function id(t){this._internalRoot=t}cc.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=zn();Qy(a,l,t,n,null,null)},cc.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qy(t.current,2,null,t,null,null),Fu(),n[Ei]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Xa.length&&n!==0&&n<Xa[a].priority;a++);Xa.splice(a,0,t),a===0&&Jy(t)}};var nv=e.version;if(nv!=="19.2.4")throw Error(r(527,nv,"19.2.4"));ut.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Cn=hc.inject(_T),Ue=hc}catch{}}return co.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=ug,f=cg,v=hg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Fy(t,1,!1,null,null,a,l,null,h,f,v,ev),t[Ei]=n.current,zf(t),new id(n)},co.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=ug,v=cg,T=hg,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),n=Fy(t,1,!0,n,a??null,l,h,V,f,v,T,ev),n.context=Gy(null),a=n.current,l=zn(),l=ys(l),h=Ma(l),h.callback=null,ja(a,h,l),a=l,n.current.lanes=a,vi(n,a),Li(n),t[Ei]=n.current,zf(t),new cc(n)},co.version="19.2.4",co}var fv;function DT(){if(fv)return rd.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),rd.exports=NT(),rd.exports}var VT=DT();const IT=D0(VT);var dv="popstate";function OT(s={}){function e(o,c){let{pathname:d="/",search:g="",hash:m=""}=Xs(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),wd("",{pathname:d,search:g,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");g=y===-1?m:m.slice(0,y)}return g+"#"+(typeof c=="string"?c:Ao(c))}function r(o,c){ii(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return jT(e,i,r,s)}function xe(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ii(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MT(){return Math.random().toString(36).substring(2,10)}function mv(s,e){return{usr:s.state,key:s.key,idx:e}}function wd(s,e,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:i,key:e&&e.key||r||MT()}}function Ao({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Xs(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function jT(s,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,g="POP",m=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let Y=E(),B=Y==null?null:Y-y;y=Y,m&&m({action:g,location:R.location,delta:B})}function x(Y,B){g="PUSH";let it=wd(R.location,Y,B);i&&i(it,Y),y=E()+1;let ct=mv(it,y),dt=R.createHref(it);try{d.pushState(ct,"",dt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(dt)}c&&m&&m({action:g,location:R.location,delta:1})}function L(Y,B){g="REPLACE";let it=wd(R.location,Y,B);i&&i(it,Y),y=E();let ct=mv(it,y),dt=R.createHref(it);d.replaceState(ct,"",dt),c&&m&&m({action:g,location:R.location,delta:0})}function W(Y){return LT(Y)}let R={get action(){return g},get location(){return s(o,d)},listen(Y){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,b),m=Y,()=>{o.removeEventListener(dv,b),m=null}},createHref(Y){return e(o,Y)},createURL:W,encodeLocation(Y){let B=W(Y);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:x,replace:L,go(Y){return d.go(Y)}};return R}function LT(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),xe(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ao(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function V0(s,e,i="/"){return UT(s,e,i,!1)}function UT(s,e,i,r){let o=typeof e=="string"?Xs(e):e,c=pa(o.pathname||"/",i);if(c==null)return null;let d=I0(s);zT(d);let g=null;for(let m=0;g==null&&m<d.length;++m){let y=XT(c);g=YT(d[m],y,r)}return g}function I0(s,e=[],i=[],r="",o=!1){let c=(d,g,m=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&m)return;xe(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let b=ma([r,E.relativePath]),x=i.concat(E);d.children&&d.children.length>0&&(xe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),I0(d.children,e,x,b,m)),!(d.path==null&&!d.index)&&e.push({path:b,score:GT(b,d.index),routesMeta:x})};return s.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let m of O0(d.path))c(d,g,!0,m)}),e}function O0(s){let e=s.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=O0(r.join("/")),g=[];return g.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&g.push(...d),g.map(m=>s.startsWith("/")&&m===""?"/":m)}function zT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:QT(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var PT=/^:[\w-]+$/,BT=3,kT=2,HT=1,qT=10,FT=-2,pv=s=>s==="*";function GT(s,e){let i=s.split("/"),r=i.length;return i.some(pv)&&(r+=FT),e&&(r+=kT),i.filter(o=>!pv(o)).reduce((o,c)=>o+(PT.test(c)?BT:c===""?HT:qT),r)}function QT(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function YT(s,e,i=!1){let{routesMeta:r}=s,o={},c="/",d=[];for(let g=0;g<r.length;++g){let m=r[g],y=g===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=Cc({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},E),x=m.route;if(!b&&y&&i&&!r[r.length-1].route.index&&(b=Cc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:ma([c,b.pathname]),pathnameBase:WT(ma([c,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(c=ma([c,b.pathnameBase]))}return d}function Cc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=KT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((y,{paramName:E,isOptional:b},x)=>{if(E==="*"){let W=g[x]||"";d=c.slice(0,c.length-W.length).replace(/(.)\/+$/,"$1")}const L=g[x];return b&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function KT(s,e=!1,i=!0){ii(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,m)=>(r.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function XT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function pa(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}var $T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ZT(s,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?Xs(s):s,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=gv(i.substring(1),"/"):c=gv(i,e)):c=e,{pathname:c,search:tb(r),hash:eb(o)}}function gv(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function cd(s,e,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Zd(s){let e=JT(s);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Jd(s,e,i,r=!1){let o;typeof s=="string"?o=Xs(s):(o={...s},xe(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),xe(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),xe(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!r&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}g=b>=0?e[b]:"/"}let m=ZT(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}var ma=s=>s.join("/").replace(/\/\/+/g,"/"),WT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),tb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,eb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,nb=class{constructor(s,e,i,r=!1){this.status=s,this.statusText=e||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function ib(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function ab(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j0(s,e){let i=s;if(typeof i!="string"||!$T.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(M0)try{let c=new URL(window.location.href),d=i.startsWith("//")?new URL(c.protocol+i):new URL(i),g=pa(d.pathname,e);d.origin===c.origin&&g!=null?i=g+d.search+d.hash:o=!0}catch{ii(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var sb=["GET",...L0];new Set(sb);var sl=q.createContext(null);sl.displayName="DataRouter";var Fc=q.createContext(null);Fc.displayName="DataRouterState";var rb=q.createContext(!1),U0=q.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var lb=q.createContext(new Map);lb.displayName="Fetchers";var ob=q.createContext(null);ob.displayName="Await";var Bn=q.createContext(null);Bn.displayName="Navigation";var Mo=q.createContext(null);Mo.displayName="Location";var gi=q.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Wd=q.createContext(null);Wd.displayName="RouteError";var z0="REACT_ROUTER_ERROR",ub="REDIRECT",cb="ROUTE_ERROR_RESPONSE";function hb(s){if(s.startsWith(`${z0}:${ub}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fb(s){if(s.startsWith(`${z0}:${cb}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nb(e.status,e.statusText,e.data)}catch{}}function db(s,{relative:e}={}){xe(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=q.useContext(Bn),{hash:o,pathname:c,search:d}=jo(s,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:ma([i,c])),r.createHref({pathname:g,search:d,hash:o})}function rl(){return q.useContext(Mo)!=null}function cs(){return xe(rl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Mo).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B0(s){q.useContext(Bn).static||q.useLayoutEffect(s)}function Gc(){let{isDataRoute:s}=q.useContext(gi);return s?Rb():mb()}function mb(){xe(rl(),"useNavigate() may be used only in the context of a <Router> component.");let s=q.useContext(sl),{basename:e,navigator:i}=q.useContext(Bn),{matches:r}=q.useContext(gi),{pathname:o}=cs(),c=JSON.stringify(Zd(r)),d=q.useRef(!1);return B0(()=>{d.current=!0}),q.useCallback((m,y={})=>{if(ii(d.current,P0),!d.current)return;if(typeof m=="number"){i.go(m);return}let E=Jd(m,JSON.parse(c),o,y.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ma([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,s])}q.createContext(null);function pb(){let{matches:s}=q.useContext(gi),e=s[s.length-1];return e?e.params:{}}function jo(s,{relative:e}={}){let{matches:i}=q.useContext(gi),{pathname:r}=cs(),o=JSON.stringify(Zd(i));return q.useMemo(()=>Jd(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function gb(s,e){return k0(s,e)}function k0(s,e,i,r,o){xe(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=q.useContext(Bn),{matches:d}=q.useContext(gi),g=d[d.length-1],m=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let it=b&&b.path||"";q0(y,!b||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let x=cs(),L;if(e){let it=typeof e=="string"?Xs(e):e;xe(E==="/"||it.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),L=it}else L=x;let W=L.pathname||"/",R=W;if(E!=="/"){let it=E.replace(/^\//,"").split("/");R="/"+W.replace(/^\//,"").split("/").slice(it.length).join("/")}let Y=V0(s,{pathname:R});ii(b||Y!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ii(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Tb(Y&&Y.map(it=>Object.assign({},it,{params:Object.assign({},m,it.params),pathname:ma([E,c.encodeLocation?c.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:ma([E,c.encodeLocation?c.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),d,i,r,o);return e&&B?q.createElement(Mo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},B):B}function yb(){let s=wb(),e=ib(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:c},"ErrorBoundary")," or"," ",q.createElement("code",{style:c},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),i?q.createElement("pre",{style:o},i):null,d)}var vb=q.createElement(yb,null),H0=class extends q.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=fb(s.digest);i&&(s=i)}let e=s!==void 0?q.createElement(gi.Provider,{value:this.props.routeContext},q.createElement(Wd.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?q.createElement(_b,{error:s},e):e}};H0.contextType=rb;var hd=new WeakMap;function _b({children:s,error:e}){let{basename:i}=q.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=hb(e.digest);if(r){let o=hd.get(e);if(o)throw o;let c=j0(r.location,i);if(M0&&!hd.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw hd.set(e,d),d}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function Eb({routeContext:s,match:e,children:i}){let r=q.useContext(sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(gi.Provider,{value:s},i)}function Tb(s,e=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,d=i?.errors;if(d!=null){let E=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);xe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let g=!1,m=-1;if(i)for(let E=0;E<c.length;E++){let b=c[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=E),b.route.id){let{loaderData:x,errors:L}=i,W=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||W){g=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let y=i&&r?(E,b)=>{r(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:ab(i.matches),errorInfo:b})}:void 0;return c.reduceRight((E,b,x)=>{let L,W=!1,R=null,Y=null;i&&(L=d&&b.route.id?d[b.route.id]:void 0,R=b.route.errorElement||vb,g&&(m<0&&x===0?(q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,Y=null):m===x&&(W=!0,Y=b.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,x+1)),it=()=>{let ct;return L?ct=R:W?ct=Y:b.route.Component?ct=q.createElement(b.route.Component,null):b.route.element?ct=b.route.element:ct=E,q.createElement(Eb,{match:b,routeContext:{outlet:E,matches:B,isDataRoute:i!=null},children:ct})};return i&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?q.createElement(H0,{location:i.location,revalidation:i.revalidation,component:R,error:L,children:it(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:y}):it()},null)}function tm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bb(s){let e=q.useContext(sl);return xe(e,tm(s)),e}function Ab(s){let e=q.useContext(Fc);return xe(e,tm(s)),e}function Sb(s){let e=q.useContext(gi);return xe(e,tm(s)),e}function em(s){let e=Sb(s),i=e.matches[e.matches.length-1];return xe(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function xb(){return em("useRouteId")}function wb(){let s=q.useContext(Wd),e=Ab("useRouteError"),i=em("useRouteError");return s!==void 0?s:e.errors?.[i]}function Rb(){let{router:s}=bb("useNavigate"),e=em("useNavigate"),i=q.useRef(!1);return B0(()=>{i.current=!0}),q.useCallback(async(o,c={})=>{ii(i.current,P0),i.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var yv={};function q0(s,e,i){!e&&!yv[s]&&(yv[s]=!0,ii(!1,i))}q.memo(Cb);function Cb({routes:s,future:e,state:i,onError:r}){return k0(s,void 0,i,r,e)}function Nb({to:s,replace:e,state:i,relative:r}){xe(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Bn);ii(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=q.useContext(gi),{pathname:d}=cs(),g=Gc(),m=Jd(s,Zd(c),d,r==="path"),y=JSON.stringify(m);return q.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:r})},[g,y,r,e,i]),null}function _c(s){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Db({basename:s="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){xe(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:g,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[g,o,c,d]);typeof i=="string"&&(i=Xs(i));let{pathname:y="/",search:E="",hash:b="",state:x=null,key:L="default"}=i,W=q.useMemo(()=>{let R=pa(y,g);return R==null?null:{location:{pathname:R,search:E,hash:b,state:x,key:L},navigationType:r}},[g,y,E,b,x,L,r]);return ii(W!=null,`<Router basename="${g}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:q.createElement(Bn.Provider,{value:m},q.createElement(Mo.Provider,{children:e,value:W}))}function Vb({children:s,location:e}){return gb(Rd(s),e)}function Rd(s,e=[]){let i=[];return q.Children.forEach(s,(r,o)=>{if(!q.isValidElement(r))return;let c=[...e,o];if(r.type===q.Fragment){i.push.apply(i,Rd(r.props.children,c));return}xe(r.type===_c,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Rd(r.props.children,c)),i.push(d)}),i}var Ec="get",Tc="application/x-www-form-urlencoded";function Qc(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Ib(s){return Qc(s)&&s.tagName.toLowerCase()==="button"}function Ob(s){return Qc(s)&&s.tagName.toLowerCase()==="form"}function Mb(s){return Qc(s)&&s.tagName.toLowerCase()==="input"}function jb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Lb(s,e){return s.button===0&&(!e||e==="_self")&&!jb(s)}var fc=null;function Ub(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fd(s){return s!=null&&!zb.has(s)?(ii(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):s}function Pb(s,e){let i,r,o,c,d;if(Ob(s)){let g=s.getAttribute("action");r=g?pa(g,e):null,i=s.getAttribute("method")||Ec,o=fd(s.getAttribute("enctype"))||Tc,c=new FormData(s)}else if(Ib(s)||Mb(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||g.getAttribute("action");if(r=m?pa(m,e):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||Ec,o=fd(s.getAttribute("formenctype"))||fd(g.getAttribute("enctype"))||Tc,c=new FormData(g,s),!Ub()){let{name:y,type:E,value:b}=s;if(E==="image"){let x=y?`${y}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else y&&c.append(y,b)}}else{if(Qc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ec,r=null,o=Tc,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nm(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Bb(s,e,i,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&pa(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function kb(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function qb(s,e,i){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await kb(c,i);return d.links?d.links():[]}return[]}));return Yb(r.flat(1).filter(Hb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(s,e,i,r,o,c){let d=(m,y)=>i[y]?m.route.id!==i[y].route.id:!0,g=(m,y)=>i[y].pathname!==m.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,y)=>d(m,y)||g(m,y)):c==="data"?e.filter((m,y)=>{let E=r.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(d(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Fb(s,e,{includeHydrateFallback:i}={}){return Gb(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Gb(s){return[...new Set(s)]}function Qb(s){let e={},i=Object.keys(s).sort();for(let r of i)e[r]=s[r];return e}function Yb(s,e){let i=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(Qb(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function F0(){let s=q.useContext(sl);return nm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Kb(){let s=q.useContext(Fc);return nm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var im=q.createContext(void 0);im.displayName="FrameworkContext";function G0(){let s=q.useContext(im);return nm(s,"You must render this element inside a <HydratedRouter> element"),s}function Xb(s,e){let i=q.useContext(im),[r,o]=q.useState(!1),[c,d]=q.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,x=q.useRef(null);q.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let R=B=>{B.forEach(it=>{d(it.isIntersecting)})},Y=new IntersectionObserver(R,{threshold:.5});return x.current&&Y.observe(x.current),()=>{Y.disconnect()}}},[s]),q.useEffect(()=>{if(r){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[r]);let L=()=>{o(!0)},W=()=>{o(!1),d(!1)};return i?s!=="intent"?[c,x,{}]:[c,x,{onFocus:ho(g,L),onBlur:ho(m,W),onMouseEnter:ho(y,L),onMouseLeave:ho(E,W),onTouchStart:ho(b,L)}]:[!1,x,{}]}function ho(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function $b({page:s,...e}){let{router:i}=F0(),r=q.useMemo(()=>V0(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?q.createElement(Jb,{page:s,matches:r,...e}):null}function Zb(s){let{manifest:e,routeModules:i}=G0(),[r,o]=q.useState([]);return q.useEffect(()=>{let c=!1;return qb(s,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,i]),r}function Jb({page:s,matches:e,...i}){let r=cs(),{future:o,manifest:c,routeModules:d}=G0(),{basename:g}=F0(),{loaderData:m,matches:y}=Kb(),E=q.useMemo(()=>vv(s,e,y,c,r,"data"),[s,e,y,c,r]),b=q.useMemo(()=>vv(s,e,y,c,r,"assets"),[s,e,y,c,r]),x=q.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let R=new Set,Y=!1;if(e.forEach(it=>{let ct=c.routes[it.route.id];!ct||!ct.hasLoader||(!E.some(dt=>dt.route.id===it.route.id)&&it.route.id in m&&d[it.route.id]?.shouldRevalidate||ct.hasClientLoader?Y=!0:R.add(it.route.id))}),R.size===0)return[];let B=Bb(s,g,o.unstable_trailingSlashAwareDataRequests,"data");return Y&&R.size>0&&B.searchParams.set("_routes",e.filter(it=>R.has(it.route.id)).map(it=>it.route.id).join(",")),[B.pathname+B.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,r,c,E,e,s,d]),L=q.useMemo(()=>Fb(b,c),[b,c]),W=Zb(b);return q.createElement(q.Fragment,null,x.map(R=>q.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),L.map(R=>q.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),W.map(({key:R,link:Y})=>q.createElement("link",{key:R,nonce:i.nonce,...Y,crossOrigin:Y.crossOrigin??i.crossOrigin})))}function Wb(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tA&&(window.__reactRouterVersion="7.13.0")}catch{}function eA({basename:s,children:e,unstable_useTransitions:i,window:r}){let o=q.useRef();o.current==null&&(o.current=OT({window:r,v5Compat:!0}));let c=o.current,[d,g]=q.useState({action:c.action,location:c.location}),m=q.useCallback(y=>{i===!1?g(y):q.startTransition(()=>g(y))},[i]);return q.useLayoutEffect(()=>c.listen(m),[c,m]),q.createElement(Db,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i})}var Q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y0=q.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:g,target:m,to:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x,...L},W){let{basename:R,unstable_useTransitions:Y}=q.useContext(Bn),B=typeof y=="string"&&Q0.test(y),it=j0(y,R);y=it.to;let ct=db(y,{relative:o}),[dt,wt,Nt]=Xb(r,L),D=sA(y,{replace:d,state:g,target:m,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:Y});function w(j){e&&e(j),j.defaultPrevented||D(j)}let C=q.createElement("a",{...L,...Nt,href:it.absoluteURL||ct,onClick:it.isExternal||c?e:w,ref:Wb(W,wt),target:m,"data-discover":!B&&i==="render"?"true":void 0});return dt&&!B?q.createElement(q.Fragment,null,C,q.createElement($b,{page:ct})):C});Y0.displayName="Link";var nA=q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:g,children:m,...y},E){let b=jo(d,{relative:y.relative}),x=cs(),L=q.useContext(Fc),{navigator:W,basename:R}=q.useContext(Bn),Y=L!=null&&cA(b)&&g===!0,B=W.encodeLocation?W.encodeLocation(b).pathname:b.pathname,it=x.pathname,ct=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(it=it.toLowerCase(),ct=ct?ct.toLowerCase():null,B=B.toLowerCase()),ct&&R&&(ct=pa(ct,R)||ct);const dt=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let wt=it===B||!o&&it.startsWith(B)&&it.charAt(dt)==="/",Nt=ct!=null&&(ct===B||!o&&ct.startsWith(B)&&ct.charAt(B.length)==="/"),D={isActive:wt,isPending:Nt,isTransitioning:Y},w=wt?e:void 0,C;typeof r=="function"?C=r(D):C=[r,wt?"active":null,Nt?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(D):c;return q.createElement(Y0,{...y,"aria-current":w,className:C,ref:E,style:j,to:d,viewTransition:g},typeof m=="function"?m(D):m)});nA.displayName="NavLink";var iA=q.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:d=Ec,action:g,onSubmit:m,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x,...L},W)=>{let{unstable_useTransitions:R}=q.useContext(Bn),Y=oA(),B=uA(g,{relative:y}),it=d.toLowerCase()==="get"?"get":"post",ct=typeof g=="string"&&Q0.test(g),dt=wt=>{if(m&&m(wt),wt.defaultPrevented)return;wt.preventDefault();let Nt=wt.nativeEvent.submitter,D=Nt?.getAttribute("formmethod")||d,w=()=>Y(Nt||wt.currentTarget,{fetcherKey:e,method:D,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x});R&&i!==!1?q.startTransition(()=>w()):w()};return q.createElement("form",{ref:W,method:it,action:B,onSubmit:r?m:dt,...L,"data-discover":!ct&&s==="render"?"true":void 0})});iA.displayName="Form";function aA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K0(s){let e=q.useContext(sl);return xe(e,aA(s)),e}function sA(s,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let y=Gc(),E=cs(),b=jo(s,{relative:c});return q.useCallback(x=>{if(Lb(x,e)){x.preventDefault();let L=i!==void 0?i:Ao(E)===Ao(b),W=()=>y(s,{replace:L,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g});m?q.startTransition(()=>W()):W()}},[E,y,b,i,r,e,s,o,c,d,g,m])}var rA=0,lA=()=>`__${String(++rA)}__`;function oA(){let{router:s}=K0("useSubmit"),{basename:e}=q.useContext(Bn),i=xb(),r=s.fetch,o=s.navigate;return q.useCallback(async(c,d={})=>{let{action:g,method:m,encType:y,formData:E,body:b}=Pb(c,e);if(d.navigate===!1){let x=d.fetcherKey||lA();await r(x,i,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:b,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:b,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,o,e,i])}function uA(s,{relative:e}={}){let{basename:i}=q.useContext(Bn),r=q.useContext(gi);xe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...jo(s||".",{relative:e})},d=cs();if(s==null){c.search=d.search;let g=new URLSearchParams(c.search),m=g.getAll("index");if(m.some(E=>E==="")){g.delete("index"),m.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ma([i,c.pathname])),Ao(c)}function cA(s,{relative:e}={}){let i=q.useContext(U0);xe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=K0("useViewTransitionState"),o=jo(s,{relative:e});if(!i.isTransitioning)return!1;let c=pa(i.currentLocation.pathname,r)||i.currentLocation.pathname,d=pa(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Cc(o.pathname,d)!=null||Cc(o.pathname,c)!=null}const hA=()=>{};var _v={};const X0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},fA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,m=o+2<s.length,y=m?s[o+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let x=(g&15)<<2|y>>6,L=y&63;m||(L=64,d||(x=64)),r.push(i[E],i[b],i[x],i[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(X0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):fA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||b==null)throw new dA;const x=c<<2|g>>4;if(r.push(x),y!==64){const L=g<<4&240|y>>2;if(r.push(L),b!==64){const W=y<<6&192|b;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mA=function(s){const e=X0(s);return $0.encodeByteArray(e,!0)},Nc=function(s){return mA(s).replace(/\./g,"")},pA=function(s){try{return $0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yA=()=>gA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_A=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&pA(s[1]);return e&&JSON.parse(e)},am=()=>{try{return hA()||yA()||vA()||_A()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},EA=s=>am()?.emulatorHosts?.[s],TA=s=>{const e=EA(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Z0=()=>am()?.config;class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function sm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AA(s){return(await fetch(s,{credentials:"include"})).ok}function SA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Nc(JSON.stringify(i)),Nc(JSON.stringify(d)),""].join(".")}const vo={};function xA(){const s={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?s.emulator.push(e):s.prod.push(e);return s}function wA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Ev=!1;function RA(s,e){if(typeof window>"u"||typeof document>"u"||!sm(window.location.host)||vo[s]===e||vo[s]||Ev)return;vo[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=xA().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,L){x.setAttribute("width","24"),x.setAttribute("id",L),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ev=!0,d()},x}function E(x,L){x.setAttribute("id",L),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=wA(r),L=i("text"),W=document.getElementById(L)||document.createElement("span"),R=i("learnmore"),Y=document.getElementById(R)||document.createElement("a"),B=i("preprendIcon"),it=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ct=x.element;g(ct),E(Y,R);const dt=y();m(it,B),ct.append(it,W,Y,dt),document.body.appendChild(ct)}c?(W.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function CA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){const s=am()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DA(){return!NA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const OA="FirebaseError";class ll extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=OA,Object.setPrototypeOf(this,ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J0.prototype.create)}}class J0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?MA(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ll(o,g,r)}}function MA(s,e){return s.replace(jA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const jA=/\{\$([^}]+)}/g;function So(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(Tv(c)&&Tv(d)){if(!So(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Tv(s){return s!==null&&typeof s=="object"}function is(s){return s&&s._delegate?s._delegate:s}class xo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qs="[DEFAULT]";class LA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new bA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zA(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UA(s){return s===qs?void 0:s}function zA(s){return s.instantiationMode==="EAGER"}class PA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Xt||(Xt={}));const BA={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},kA=Xt.INFO,HA={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},qA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=HA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=kA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const FA=(s,e)=>e.some(i=>s instanceof i);let bv,Av;function GA(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t_=new WeakMap,Cd=new WeakMap,e_=new WeakMap,dd=new WeakMap,rm=new WeakMap;function YA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Wa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&t_.set(i,s)}).catch(()=>{}),rm.set(e,s),e}function KA(s){if(Cd.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Cd.set(s,e)}let Nd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||e_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Wa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XA(s){Nd=s(Nd)}function $A(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(md(this),e,...i);return e_.set(r,e.sort?e.sort():[e]),Wa(r)}:QA().includes(s)?function(...e){return s.apply(md(this),e),Wa(t_.get(this))}:function(...e){return Wa(s.apply(md(this),e))}}function ZA(s){return typeof s=="function"?$A(s):(s instanceof IDBTransaction&&KA(s),FA(s,GA())?new Proxy(s,Nd):s)}function Wa(s){if(s instanceof IDBRequest)return YA(s);if(dd.has(s))return dd.get(s);const e=ZA(s);return e!==s&&(dd.set(s,e),rm.set(e,s)),e}const md=s=>rm.get(s);function JA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Wa(d);return r&&d.addEventListener("upgradeneeded",m=>{r(Wa(d.result),m.oldVersion,m.newVersion,Wa(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),g.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const WA=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],pd=new Map;function Sv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=tS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WA.includes(i)))return;const c=async function(d,...g){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&m.done]))[0]};return pd.set(e,c),c}XA(s=>({...s,get:(e,i,r)=>Sv(e,i)||s.get(e,i,r),has:(e,i)=>!!Sv(e,i)||s.has(e,i)}));class eS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nS(s){return s.getComponent()?.type==="VERSION"}const Dd="@firebase/app",xv="0.14.8";const ga=new W0("@firebase/app"),iS="@firebase/app-compat",aS="@firebase/analytics-compat",sS="@firebase/analytics",rS="@firebase/app-check-compat",lS="@firebase/app-check",oS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",pS="@firebase/installations",gS="@firebase/installations-compat",yS="@firebase/messaging",vS="@firebase/messaging-compat",_S="@firebase/performance",ES="@firebase/performance-compat",TS="@firebase/remote-config",bS="@firebase/remote-config-compat",AS="@firebase/storage",SS="@firebase/storage-compat",xS="@firebase/firestore",wS="@firebase/ai",RS="@firebase/firestore-compat",CS="firebase",NS="12.9.0";const Vd="[DEFAULT]",DS={[Dd]:"fire-core",[iS]:"fire-core-compat",[sS]:"fire-analytics",[aS]:"fire-analytics-compat",[lS]:"fire-app-check",[rS]:"fire-app-check-compat",[oS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[pS]:"fire-iid",[gS]:"fire-iid-compat",[yS]:"fire-fcm",[vS]:"fire-fcm-compat",[_S]:"fire-perf",[ES]:"fire-perf-compat",[TS]:"fire-rc",[bS]:"fire-rc-compat",[AS]:"fire-gcs",[SS]:"fire-gcs-compat",[xS]:"fire-fst",[RS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};const Dc=new Map,VS=new Map,Id=new Map;function wv(s,e){try{s.container.addComponent(e)}catch(i){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Vc(s){const e=s.name;if(Id.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,s);for(const i of Dc.values())wv(i,s);for(const i of VS.values())wv(i,s);return!0}function IS(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function OS(s){return s==null?!1:s.settings!==void 0}const MS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new J0("app","Firebase",MS);class jS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}const LS=NS;function n_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Vd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(i||(i=Z0()),!i)throw ts.create("no-options");const c=Dc.get(o);if(c){if(So(i,c.options)&&So(r,c.config))return c;throw ts.create("duplicate-app",{appName:o})}const d=new PA(o);for(const m of Id.values())d.addComponent(m);const g=new jS(i,r,d);return Dc.set(o,g),g}function US(s=Vd){const e=Dc.get(s);if(!e&&s===Vd&&Z0())return n_();if(!e)throw ts.create("no-app",{appName:s});return e}function Yr(s,e,i){let r=DS[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(d.join(" "));return}Vc(new xo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zS="firebase-heartbeat-database",PS=1,wo="firebase-heartbeat-store";let gd=null;function i_(){return gd||(gd=JA(zS,PS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(wo)}catch(i){console.warn(i)}}}}).catch(s=>{throw ts.create("idb-open",{originalErrorMessage:s.message})})),gd}async function BS(s){try{const i=(await i_()).transaction(wo),r=await i.objectStore(wo).get(a_(s));return await i.done,r}catch(e){if(e instanceof ll)ga.warn(e.message);else{const i=ts.create("idb-get",{originalErrorMessage:e?.message});ga.warn(i.message)}}}async function Rv(s,e){try{const r=(await i_()).transaction(wo,"readwrite");await r.objectStore(wo).put(e,a_(s)),await r.done}catch(i){if(i instanceof ll)ga.warn(i.message);else{const r=ts.create("idb-set",{originalErrorMessage:i?.message});ga.warn(r.message)}}}function a_(s){return`${s.name}!${s.options.appId}`}const kS=1024,HS=30;class qS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const o=QS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ga.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:i,unsentEntries:r}=FS(this._heartbeatsCache.heartbeats),o=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ga.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function FS(s,e=kS){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Nv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Nv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class GS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nv(s){return Nc(JSON.stringify({version:2,heartbeats:s})).length}function QS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function YS(s){Vc(new xo("platform-logger",e=>new eS(e),"PRIVATE")),Vc(new xo("heartbeat",e=>new qS(e),"PRIVATE")),Yr(Dd,xv,s),Yr(Dd,xv,"esm2020"),Yr("fire-js","")}YS("");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var es,s_;(function(){var s;function e(D,w){function C(){}C.prototype=w.prototype,D.F=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(j,O,z){for(var N=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)N[Yt-2]=arguments[Yt];return w.prototype[O].apply(j,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,C){C||(C=0);const j=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)j[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)j[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],O=D.g[2];let z=D.g[3],N;N=w+(z^C&(O^z))+j[0]+3614090360&4294967295,w=C+(N<<7&4294967295|N>>>25),N=z+(O^w&(C^O))+j[1]+3905402710&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(C^z&(w^C))+j[2]+606105819&4294967295,O=z+(N<<17&4294967295|N>>>15),N=C+(w^O&(z^w))+j[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(z^C&(O^z))+j[4]+4118548399&4294967295,w=C+(N<<7&4294967295|N>>>25),N=z+(O^w&(C^O))+j[5]+1200080426&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(C^z&(w^C))+j[6]+2821735955&4294967295,O=z+(N<<17&4294967295|N>>>15),N=C+(w^O&(z^w))+j[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(z^C&(O^z))+j[8]+1770035416&4294967295,w=C+(N<<7&4294967295|N>>>25),N=z+(O^w&(C^O))+j[9]+2336552879&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(C^z&(w^C))+j[10]+4294925233&4294967295,O=z+(N<<17&4294967295|N>>>15),N=C+(w^O&(z^w))+j[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(z^C&(O^z))+j[12]+1804603682&4294967295,w=C+(N<<7&4294967295|N>>>25),N=z+(O^w&(C^O))+j[13]+4254626195&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(C^z&(w^C))+j[14]+2792965006&4294967295,O=z+(N<<17&4294967295|N>>>15),N=C+(w^O&(z^w))+j[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(O^z&(C^O))+j[1]+4129170786&4294967295,w=C+(N<<5&4294967295|N>>>27),N=z+(C^O&(w^C))+j[6]+3225465664&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(z^w))+j[11]+643717713&4294967295,O=z+(N<<14&4294967295|N>>>18),N=C+(z^w&(O^z))+j[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(C^O))+j[5]+3593408605&4294967295,w=C+(N<<5&4294967295|N>>>27),N=z+(C^O&(w^C))+j[10]+38016083&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(z^w))+j[15]+3634488961&4294967295,O=z+(N<<14&4294967295|N>>>18),N=C+(z^w&(O^z))+j[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(C^O))+j[9]+568446438&4294967295,w=C+(N<<5&4294967295|N>>>27),N=z+(C^O&(w^C))+j[14]+3275163606&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(z^w))+j[3]+4107603335&4294967295,O=z+(N<<14&4294967295|N>>>18),N=C+(z^w&(O^z))+j[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(C^O))+j[13]+2850285829&4294967295,w=C+(N<<5&4294967295|N>>>27),N=z+(C^O&(w^C))+j[2]+4243563512&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(z^w))+j[7]+1735328473&4294967295,O=z+(N<<14&4294967295|N>>>18),N=C+(z^w&(O^z))+j[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(C^O^z)+j[5]+4294588738&4294967295,w=C+(N<<4&4294967295|N>>>28),N=z+(w^C^O)+j[8]+2272392833&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^C)+j[11]+1839030562&4294967295,O=z+(N<<16&4294967295|N>>>16),N=C+(O^z^w)+j[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(C^O^z)+j[1]+2763975236&4294967295,w=C+(N<<4&4294967295|N>>>28),N=z+(w^C^O)+j[4]+1272893353&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^C)+j[7]+4139469664&4294967295,O=z+(N<<16&4294967295|N>>>16),N=C+(O^z^w)+j[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(C^O^z)+j[13]+681279174&4294967295,w=C+(N<<4&4294967295|N>>>28),N=z+(w^C^O)+j[0]+3936430074&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^C)+j[3]+3572445317&4294967295,O=z+(N<<16&4294967295|N>>>16),N=C+(O^z^w)+j[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(C^O^z)+j[9]+3654602809&4294967295,w=C+(N<<4&4294967295|N>>>28),N=z+(w^C^O)+j[12]+3873151461&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^C)+j[15]+530742520&4294967295,O=z+(N<<16&4294967295|N>>>16),N=C+(O^z^w)+j[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(O^(C|~z))+j[0]+4096336452&4294967295,w=C+(N<<6&4294967295|N>>>26),N=z+(C^(w|~O))+j[7]+1126891415&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~C))+j[14]+2878612391&4294967295,O=z+(N<<15&4294967295|N>>>17),N=C+(z^(O|~w))+j[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=w+(O^(C|~z))+j[12]+1700485571&4294967295,w=C+(N<<6&4294967295|N>>>26),N=z+(C^(w|~O))+j[3]+2399980690&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~C))+j[10]+4293915773&4294967295,O=z+(N<<15&4294967295|N>>>17),N=C+(z^(O|~w))+j[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=w+(O^(C|~z))+j[8]+1873313359&4294967295,w=C+(N<<6&4294967295|N>>>26),N=z+(C^(w|~O))+j[15]+4264355552&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~C))+j[6]+2734768916&4294967295,O=z+(N<<15&4294967295|N>>>17),N=C+(z^(O|~w))+j[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=w+(O^(C|~z))+j[4]+4149444226&4294967295,w=C+(N<<6&4294967295|N>>>26),N=z+(C^(w|~O))+j[11]+3174756917&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~C))+j[2]+718787259&4294967295,O=z+(N<<15&4294967295|N>>>17),N=C+(z^(O|~w))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const C=w-this.blockSize,j=this.C;let O=this.h,z=0;for(;z<w;){if(O==0)for(;z<=C;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<w;)if(j[O++]=D.charCodeAt(z++),O==this.blockSize){o(this,j),O=0;break}}else for(;z<w;)if(j[O++]=D[z++],O==this.blockSize){o(this,j),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)D[w++]=this.g[C]>>>j&255;return D};function c(D,w){var C=g;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function d(D,w){this.h=w;const C=[];let j=!0;for(let O=D.length-1;O>=0;O--){const z=D[O]|0;j&&z==w||(C[O]=z,j=!1)}this.g=C}var g={};function m(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return Y(y(-D));const w=[];let C=1;for(let j=0;D>=C;j++)w[j]=D/C|0,C*=4294967296;return new d(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return Y(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let j=b;for(let z=0;z<D.length;z+=8){var O=Math.min(8,D.length-z);const N=parseInt(D.substring(z,z+O),w);O<8?(O=y(Math.pow(w,O)),j=j.j(O).add(y(N))):(j=j.j(C),j=j.add(y(N)))}return j}var b=m(0),x=m(1),L=m(16777216);s=d.prototype,s.m=function(){if(R(this))return-Y(this).m();let D=0,w=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);D+=(j>=0?j:4294967296+j)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(R(this))return"-"+Y(this).toString(D);const w=y(Math.pow(D,6));var C=this;let j="";for(;;){const O=dt(C,w).g;C=B(C,O.j(w));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=O,W(C))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function R(D){return D.h==-1}s.l=function(D){return D=B(this,D),R(D)?-1:W(D)?0:1};function Y(D){const w=D.g.length,C=[];for(let j=0;j<w;j++)C[j]=~D.g[j];return new d(C,~D.h).add(x)}s.abs=function(){return R(this)?Y(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),C=[];let j=0;for(let O=0;O<=w;O++){let z=j+(this.i(O)&65535)+(D.i(O)&65535),N=(z>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);j=N>>>16,z&=65535,N&=65535,C[O]=N<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function B(D,w){return D.add(Y(w))}s.j=function(D){if(W(this)||W(D))return b;if(R(this))return R(D)?Y(this).j(Y(D)):Y(Y(this).j(D));if(R(D))return Y(this.j(Y(D)));if(this.l(L)<0&&D.l(L)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,C=[];for(var j=0;j<2*w;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<D.g.length;O++){const z=this.i(j)>>>16,N=this.i(j)&65535,Yt=D.i(O)>>>16,ye=D.i(O)&65535;C[2*j+2*O]+=N*ye,it(C,2*j+2*O),C[2*j+2*O+1]+=z*ye,it(C,2*j+2*O+1),C[2*j+2*O+1]+=N*Yt,it(C,2*j+2*O+1),C[2*j+2*O+2]+=z*Yt,it(C,2*j+2*O+2)}for(D=0;D<w;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=w;D<2*w;D++)C[D]=0;return new d(C,0)};function it(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ct(D,w){this.g=D,this.h=w}function dt(D,w){if(W(w))throw Error("division by zero");if(W(D))return new ct(b,b);if(R(D))return w=dt(Y(D),w),new ct(Y(w.g),Y(w.h));if(R(w))return w=dt(D,Y(w)),new ct(Y(w.g),w.h);if(D.g.length>30){if(R(D)||R(w))throw Error("slowDivide_ only works with positive integers.");for(var C=x,j=w;j.l(D)<=0;)C=wt(C),j=wt(j);var O=Nt(C,1),z=Nt(j,1);for(j=Nt(j,2),C=Nt(C,2);!W(j);){var N=z.add(j);N.l(D)<=0&&(O=O.add(C),z=N),j=Nt(j,1),C=Nt(C,1)}return w=B(D,O.j(w)),new ct(O,w)}for(O=b;D.l(w)>=0;){for(C=Math.max(1,Math.floor(D.m()/w.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=y(C),N=z.j(w);R(N)||N.l(D)>0;)C-=j,z=y(C),N=z.j(w);W(z)&&(z=x),O=O.add(z),D=B(D,N)}return new ct(O,D)}s.B=function(D){return dt(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let j=0;j<w;j++)C[j]=this.i(j)&D.i(j);return new d(C,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let j=0;j<w;j++)C[j]=this.i(j)|D.i(j);return new d(C,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let j=0;j<w;j++)C[j]=this.i(j)^D.i(j);return new d(C,this.h^D.h)};function wt(D){const w=D.g.length+1,C=[];for(let j=0;j<w;j++)C[j]=D.i(j)<<1|D.i(j-1)>>>31;return new d(C,D.h)}function Nt(D,w){const C=w>>5;w%=32;const j=D.g.length-C,O=[];for(let z=0;z<j;z++)O[z]=w>0?D.i(z+C)>>>w|D.i(z+C+1)<<32-w:D.i(z+C);return new d(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,es=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var r_,mo,l_,bc,Od,o_,u_,c_;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,p){if(p)t:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var _=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&_.push([A,p[A]]);return _}});var c=c||{},d=this||self;function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function m(u,p,_){return u.call.apply(u.bind,arguments)}function y(u,p,_){return y=m,y.apply(null,arguments)}function E(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,P,G){for(var ot=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ot[jt-2]=arguments[jt];return p.prototype[P].apply(A,ot)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const p=u.length;if(p>0){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function W(u,p){for(let A=1;A<arguments.length;A++){const P=arguments[A];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const G=P.length||0;u.length=_+G;for(let ot=0;ot<G;ot++)u[_+ot]=P[ot]}else u.push(P)}}class R{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Y(u){d.setTimeout(()=>{throw u},0)}function B(){var u=D;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class it{constructor(){this.h=this.g=null}add(p,_){const A=ct.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ct=new R(()=>new dt,u=>u.reset());class dt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Nt=!1,D=new it,w=()=>{const u=Promise.resolve(void 0);wt=()=>{u.then(C)}};function C(){for(var u;u=B();){try{u.h.call(u.g)}catch(_){Y(_)}var p=ct;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Nt=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Yt(u,p){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}b(Yt,O),Yt.prototype.init=function(u,p){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),K=0;function ut(u,p,_,A,P){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=P,this.key=++K,this.da=this.fa=!1}function vt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function $t(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function I(u){const p={};for(const _ in u)p[_]=u[_];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(u,p){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let G=0;G<$.length;G++)_=$[G],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function ht(u){this.src=u,this.g={},this.h=0}ht.prototype.add=function(u,p,_,A,P){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const ot=Ct(u,p,A,P);return ot>-1?(p=u[ot],_||(p.fa=!1)):(p=new ut(p,this.src,G,!!A,P),p.fa=_,u.push(p)),p};function St(u,p){const _=p.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,p,void 0),G;(G=P>=0)&&Array.prototype.splice.call(A,P,1),G&&(vt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ct(u,p,_,A){for(let P=0;P<u.length;++P){const G=u[P];if(!G.da&&G.listener==p&&G.capture==!!_&&G.ha==A)return P}return-1}var et="closure_lm_"+(Math.random()*1e6|0),rt={};function J(u,p,_,A,P){if(Array.isArray(p)){for(let G=0;G<p.length;G++)J(u,p[G],_,A,P);return null}return _=yi(_),u&&u[ye]?u.J(p,_,g(A)?!!A.capture:!1,P):Tt(u,p,_,!1,A,P)}function Tt(u,p,_,A,P,G){if(!p)throw Error("Invalid event type");const ot=g(P)?!!P.capture:!!P;let jt=Ie(u);if(jt||(u[et]=jt=new ht(u)),_=jt.add(p,_,A,ot,G),_.proxy)return _;if(A=Dt(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)z||(P=ot),P===void 0&&(P=!1),u.addEventListener(p.toString(),A,P);else if(u.attachEvent)u.attachEvent(Mt(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Dt(){function u(_){return p.call(u.src,u.listener,_)}const p=pe;return u}function Zt(u,p,_,A,P){if(Array.isArray(p))for(var G=0;G<p.length;G++)Zt(u,p[G],_,A,P);else A=g(A)?!!A.capture:!!A,_=yi(_),u&&u[ye]?(u=u.i,G=String(p).toString(),G in u.g&&(p=u.g[G],_=Ct(p,_,A,P),_>-1&&(vt(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[G],u.h--)))):u&&(u=Ie(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ct(p,_,A,P)),(_=u>-1?p[u]:null)&&ne(_))}function ne(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ye])St(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(Mt(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Ie(p))?(St(_,u),_.h==0&&(_.src=null,p[et]=null)):vt(u)}}}function Mt(u){return u in rt?rt[u]:rt[u]="on"+u}function pe(u,p){if(u.da)u=!0;else{p=new Yt(p,this);const _=u.listener,A=u.ha||u.src;u.fa&&ne(u),u=_.call(A,p)}return u}function Ie(u){return u=u[et],u instanceof ht?u:null}var kn="__closure_events_fn_"+(Math.random()*1e9>>>0);function yi(u){return typeof u=="function"?u:(u[kn]||(u[kn]=function(p){return u.handleEvent(p)}),u[kn])}function Gt(){j.call(this),this.i=new ht(this),this.M=this,this.G=null}b(Gt,j),Gt.prototype[ye]=!0,Gt.prototype.removeEventListener=function(u,p,_,A){Zt(this,u,p,_,A)};function ie(u,p){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new O(p,u);else if(p instanceof O)p.target=p.target||u;else{var P=p;p=new O(A,u),lt(p,P)}P=!0;let G,ot;if(_)for(ot=_.length-1;ot>=0;ot--)G=p.g=_[ot],P=be(G,A,!0,p)&&P;if(G=p.g=u,P=be(G,A,!0,p)&&P,P=be(G,A,!1,p)&&P,_)for(ot=0;ot<_.length;ot++)G=p.g=_[ot],P=be(G,A,!1,p)&&P}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let A=0;A<_.length;A++)vt(_[A]);delete u.g[p],u.h--}}this.G=null},Gt.prototype.J=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},Gt.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function be(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let G=0;G<p.length;++G){const ot=p[G];if(ot&&!ot.da&&ot.capture==_){const jt=ot.listener,Oe=ot.ha||ot.src;ot.fa&&St(u.i,ot),P=jt.call(Oe,A)!==!1&&P}}return P&&!A.defaultPrevented}function _a(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function Gi(u){u.g=_a(()=>{u.g=null,u.i&&(u.i=!1,Gi(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class se extends j{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(u){j.call(this),this.h=u,this.g={}}b(Qi,j);var ai=[];function Yi(u){zt(u.g,function(p,_){this.g.hasOwnProperty(_)&&ne(p)},u),u.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),Yi(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=d.JSON.stringify,Js=d.JSON.parse,Ws=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tr(){}function ds(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){O.call(this,"d")}b(Ue,O);function vn(){O.call(this,"c")}b(vn,O);var ve={},ms=null;function Ki(){return ms=ms||new Gt}ve.Ia="serverreachability";function ps(u){O.call(this,ve.Ia,u)}b(ps,O);function Hn(u){const p=Ki();ie(p,new ps(p))}ve.STAT_EVENT="statevent";function st(u,p){O.call(this,ve.STAT_EVENT,u),this.stat=p}b(st,O);function bt(u){const p=Ki();ie(p,new st(p,u))}ve.Ja="timingevent";function pt(u,p){O.call(this,ve.Ja,u),this.size=p}b(pt,O);function en(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function qo(u,p,_,A,P,G){u.info(function(){if(u.g)if(G){var ot="",jt=G.split("&");for(let te=0;te<jt.length;te++){var Oe=jt[te].split("=");if(Oe.length>1){const Ae=Oe[0];Oe=Oe[1];const Yn=Ae.split("_");ot=Yn.length>=2&&Yn[1]=="type"?ot+(Ae+"="+Oe+"&"):ot+(Ae+"=redacted&")}}}else ot=null;else ot=G;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+_+`
`+ot})}function er(u,p,_,A,P,G,ot){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+_+`
`+G+" "+ot})}function qn(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+nr(u,_)+(A?" "+A:"")})}function vi(u,p){u.info(function(){return"TIMEOUT: "+p})}Nn.prototype.info=function(){};function nr(u,p){if(!u.g)return p;if(!p)return null;try{const G=JSON.parse(p);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var _=G[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return yn(G)}catch{return p}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},we={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gs;function ys(){}b(ys,tr),ys.prototype.g=function(){return new XMLHttpRequest},gs=new ys;function Xi(u){return encodeURIComponent(String(u))}function Fo(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function si(u,p,_,A){this.j=u,this.i=p,this.l=_,this.S=A||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var ze={},Ze={};function Ei(u,p,_){u.M=1,u.A=vs(Be(p)),u.u=_,u.R=!0,ir(u,null)}function ir(u,p){u.F=Date.now(),Ti(u),u.B=Be(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),lr(_.i,"t",A),u.C=0,_=u.j.L,u.h=new ri,u.g=su(u.j,_?p:null,!u.u),u.P>0&&(u.O=new se(y(u.Y,u,u.g),u.P)),p=u.V,_=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ai[0]=P.toString()),P=ai);for(let G=0;G<P.length;G++){const ot=J(_,P[G],A||p.handleEvent,!1,p.h||p);if(!ot)break;p.g[ot.key]=ot}p=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Hn(),qo(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const p=this.O;p&&ui(u)==3?p.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)t:{const jt=ui(this.g),Oe=this.g.ya(),te=this.g.ca();if(!(jt<3)&&(jt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||jt!=4||Oe==7||(Oe==8||te<=0?Hn(3):Hn(2)),bi(this);var p=this.g.ca();this.X=p;var _=uh(this);if(this.o=p==200,er(this.i,this.v,this.B,this.l,this.S,jt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var G=A;break e}}G=null}if(u=G)qn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,bt(12),Dn(this),Fn(this);break t}}if(this.R){u=!0;let Ae;for(;!this.K&&this.C<_.length;)if(Ae=Qo(this,_),Ae==Ze){jt==4&&(this.m=4,bt(14),u=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==ze){this.m=4,bt(15),qn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else qn(this.i,this.l,Ae,null),Ai(this,Ae);if(Go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||_.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)qn(this.i,this.l,_,"[Invalid Chunked Response]"),Dn(this),Fn(this);else if(_.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),wl(ot),ot.P=!0,bt(11))}}else qn(this.i,this.l,_,null),Ai(this,_);jt==4&&Dn(this),this.o&&!this.K&&(jt==4?eu(this.j,this):(this.o=!1,Ti(this)))}else Zi(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),Dn(this),Fn(this)}}}catch{}};function uh(u){if(!Go(u))return u.g.la();const p=nn(u.g);if(p==="")return"";let _="";const A=p.length,P=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<A;G++)u.h.h=!0,_+=u.h.i.decode(p[G],{stream:!(P&&G==A-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function Go(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qo(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?Ze:(_=Number(p.substring(_,A)),isNaN(_)?ze:(A+=1,A+_>p.length?Ze:(p=p.slice(A,A+_),u.C=A+_,p)))}si.prototype.cancel=function(){this.K=!0,Dn(this)};function Ti(u){u.T=Date.now()+u.H,ar(u,u.H)}function ar(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=en(y(u.aa,u),p)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vi(this.i,this.B),this.M!=2&&(Hn(),bt(17)),Dn(this),this.m=2,Fn(this)):ar(this,this.T-u)};function Fn(u){u.j.I==0||u.K||eu(u.j,u)}function Dn(u){bi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Yi(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Ai(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||xi(_.h,u))){if(!u.L&&xi(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)fr(_),Ra(_);else break t;xs(_),bt(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=en(y(_.Va,_),6e3));Si(_.h)<=1&&_.ta&&(_.ta=void 0)}else Vi(_,11)}else if((u.L||_.g==u)&&fr(_),!N(p))for(P=_.Ba.g.parse(p),p=0;p<P.length;p++){let te=P[p];const Ae=te[0];if(!(Ae<=_.K))if(_.K=Ae,te=te[1],_.I==2)if(te[0]=="c"){_.M=te[1],_.ba=te[2];const Yn=te[3];Yn!=null&&(_.ka=Yn,_.j.info("VER="+_.ka));const Ii=te[4];Ii!=null&&(_.za=Ii,_.j.info("SVER="+_.za));const ci=te[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const hi=u.g;if(hi){const ws=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var G=A.h;G.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ml(G,G.h),G.h=null))}if(A.G){const dr=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;dr&&(A.wa=dr,re(A.J,A.G,dr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var ot=u;if(A.na=au(A,A.L?A.ba:null,A.W),ot.L){pl(A.h,ot);var jt=ot,Oe=A.O;Oe&&(jt.H=Oe),jt.D&&(bi(jt),Ti(jt)),A.g=ot}else Wo(A);_.i.length>0&&Di(_)}else te[0]!="stop"&&te[0]!="close"||Vi(_,7);else _.I==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?Vi(_,7):Sl(_):te[0]!="noop"&&_.l&&_.l.qa(te),_.A=0)}}Hn(4)}catch{}}var Pe=class{constructor(u,p){this.g=u,this.map=p}};function fl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function xi(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ml(u,p){u.g?u.g.add(p):u.h=p}function pl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}fl.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return L(u.i)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let P,G=null;A>=0?(P=u[_].substring(0,A),G=u[_].substring(A+1)):P=u[_],p(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Vn?(this.l=u.l,Je(this,u.j),this.o=u.o,this.g=u.g,Ea(this,u.u),this.h=u.h,yl(this,Zo(u.i)),this.m=u.m):u&&(p=String(u).match(Yo))?(this.l=!1,Je(this,p[1]||"",!0),this.o=wi(p[2]||""),this.g=wi(p[3]||"",!0),Ea(this,p[4]),this.h=wi(p[5]||"",!0),yl(this,p[6]||"",!0),this.m=wi(p[7]||"")):(this.l=!1,this.i=new ba(null,this.l))}Vn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(_s(p,rr,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(_s(p,rr,!0),"@"),u.push(Xi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_s(_,_.charAt(0)=="/"?vl:Ko,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_s(_,Xo)),u.join("")},Vn.prototype.resolve=function(u){const p=Be(this);let _=!!u.j;_?Je(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var A=u.h;if(_)Ea(p,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=p.h.lastIndexOf("/");P!=-1&&(A=p.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let ot=0;ot<P.length;){const jt=P[ot++];jt=="."?A&&ot==P.length&&G.push(""):jt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ot==P.length&&G.push("")):(G.push(jt),A=!0)}A=G.join("/")}else A=P}return _?p.h=A:_=u.i.toString()!=="",_?yl(p,Zo(u.i)):_=!!u.m,_&&(p.m=u.m),p};function Be(u){return new Vn(u)}function Je(u,p,_){u.j=_?wi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ea(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function yl(u,p,_){p instanceof ba?(u.i=p,or(u.i,u.l)):(_||(p=_s(p,Ta)),u.i=new ba(p,u.l))}function re(u,p,_){u.i.set(p,_)}function vs(u){return re(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _s(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,_n),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rr=/[#\/\?@]/g,Ko=/[#\?:]/g,vl=/[#\?]/g,Ta=/[#\?@]/g,Xo=/#/g;function ba(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&sr(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}s=ba.prototype,s.add=function(u,p){En(this),this.i=null,u=Aa(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function $o(u,p){En(u),p=Aa(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function _l(u,p){return En(u),p=Aa(u,p),u.g.has(p)}s.forEach=function(u,p){En(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(p,P,A,this)},this)},this)};function El(u,p){En(u);let _=[];if(typeof p=="string")_l(u,p)&&(_=_.concat(u.g.get(Aa(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}s.set=function(u,p){return En(this),this.i=null,u=Aa(this,u),_l(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=El(this,u),u.length>0?String(u[0]):p):p};function lr(u,p,_){$o(u,p),_.length>0&&(u.i=null,u.g.set(Aa(u,p),L(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var _=p[A];const P=Xi(_);_=El(this,_);for(let G=0;G<_.length;G++){let ot=P;_[G]!==""&&(ot+="="+Xi(_[G])),u.push(ot)}}return this.i=u.join("&")};function Zo(u){const p=new ba;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Aa(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function or(u,p){p&&!u.j&&(En(u),u.i=null,u.g.forEach(function(_,A){const P=A.toLowerCase();A!=P&&($o(this,A),lr(this,P,_))},u)),u.j=p}function li(u,p){const _=new Nn;if(d.Image){const A=new Image;A.onload=E(Gn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Gn,_,"TestLoadImage: error",!1,p,A),A.onabort=E(Gn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Gn,_,"TestLoadImage: timeout",!1,p,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function Tl(u,p){const _=new Nn,A=new AbortController,P=setTimeout(()=>{A.abort(),Gn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(P),G.ok?Gn(_,"TestPingServer: ok",!0,p):Gn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Gn(_,"TestPingServer: error",!1,p)})}function Gn(u,p,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Sa(){this.g=new Ws}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ri,tr),Ri.prototype.g=function(){return new Es(this.i,this.h)};function Es(u,p){Gt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Es,Gt),s=Es.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ur(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ur(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?xa(this):oi(this),this.readyState==3&&ur(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,xa(this))},s.Na=function(u){this.g&&(this.response=u,xa(this))},s.ga=function(){this.g&&xa(this)};function xa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let p="";return zt(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Ts(u,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Qn(_),typeof u=="string"?_!=null&&Xi(_):re(u,p,_))}function ue(u){Gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ue,Gt);var Ci=/^https?$/i,bl=["POST","PUT"];s=ue.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gs.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(G){bs(this,G);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bl,p,void 0)>=0)||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of _)this.g.setRequestHeader(G,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){bs(this,G)}};function bs(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Al(u),$i(u)}function Al(u){u.A||(u.A=!0,ie(u,"complete"),ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ie(this,"complete"),ie(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ue.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},s.Xa=function(){As(this)};function As(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(ie(u,"readystatechange"),ui(u)==4){u.h=!1;try{const G=u.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=G===0){let ot=String(u.D).match(Yo)[1]||null;!ot&&d.self&&d.self.location&&(ot=d.self.location.protocol.slice(0,-1)),A=!Ci.test(ot?ot.toLowerCase():"")}_=A}if(_)ie(u,"complete"),ie(u,"success");else{u.o=6;try{var P=ui(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Al(u)}}finally{$i(u)}}}}function $i(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||ie(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Js(p)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const p={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(N(u[A]))continue;var _=Fo(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=p[P]||[];p[P]=G,G.push(_)}$t(p,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function wa(u){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fl(u&&u.concurrentRequestLimit),this.Ba=new Sa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=wa.prototype,s.ka=8,s.I=1,s.connect=function(u,p,_,A){bt(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=au(this,null,this.W),Di(this)};function Sl(u){if(cr(u),u.I==3){var p=u.V++,_=Be(u.J);if(re(_,"SID",u.M),re(_,"RID",p),re(_,"TYPE","terminate"),Ss(u,_),p=new si(u,u.j,p),p.M=2,p.A=vs(Be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.A,_=!0),_||(p.g=su(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ti(p)}iu(u)}function Ra(u){u.g&&(wl(u),u.g.cancel(),u.g=null)}function cr(u){Ra(u),u.v&&(d.clearTimeout(u.v),u.v=null),fr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!dl(u.h)&&!u.m){u.m=!0;var p=u.Ea;wt||w(),Nt||(wt(),Nt=!0),D.add(p,u),u.D=0}}function hr(u,p){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=en(y(u.Ea,u,p),nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new si(this,this.j,u);let G=this.o;if(this.U&&(G?(G=I(G),lt(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Jo(this,P,p),_=Be(this.J),re(_,"RID",u),re(_,"CVER",22),this.G&&re(_,"X-HTTP-Session-Id",this.G),Ss(this,_),G&&(this.R?p="headers="+Xi(Qn(G))+"&"+p:this.u&&Ts(_,this.u,G)),ml(this.h,P),this.Ra&&re(_,"TYPE","init"),this.S?(re(_,"$req",p),re(_,"SID","null"),P.U=!0,Ei(P,_,null)):Ei(P,_,p),this.I=2}}else this.I==3&&(u?xl(this,u):this.i.length==0||dl(this.h)||xl(this))};function xl(u,p){var _;p?_=p.l:_=u.V++;const A=Be(u.J);re(A,"SID",u.M),re(A,"RID",_),re(A,"AID",u.K),Ss(u,A),u.u&&u.o&&Ts(A,u.u,u.o),_=new si(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Jo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ml(u.h,_),Ei(_,A,p)}function Ss(u,p){u.H&&zt(u.H,function(_,A){re(p,A,_)}),u.l&&zt({},function(_,A){re(p,A,_)})}function Jo(u,p,_){_=Math.min(u.i.length,_);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let jt=-1;for(;;){const Oe=["count="+_];jt==-1?_>0?(jt=P[0].g,Oe.push("ofs="+jt)):jt=0:Oe.push("ofs="+jt);let te=!0;for(let Ae=0;Ae<_;Ae++){var G=P[Ae].g;const Yn=P[Ae].map;if(G-=jt,G<0)jt=Math.max(0,P[Ae].g-100),te=!1;else try{G="req"+G+"_"||"";try{var ot=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ii,ci]of ot){let hi=ci;g(ci)&&(hi=yn(ci)),Oe.push(G+Ii+"="+encodeURIComponent(hi))}}catch(Ii){throw Oe.push(G+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Yn)}}if(te){ot=Oe.join("&");break t}}ot=void 0}return u=u.i.splice(0,_),p.G=u,ot}function Wo(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;wt||w(),Nt||(wt(),Nt=!0),D.add(p,u),u.A=0}}function xs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=en(y(u.Da,u),nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=en(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ra(this),tu(this))};function wl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function tu(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Be(u.na);re(p,"RID","rpc"),re(p,"SID",u.M),re(p,"AID",u.K),re(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&re(p,"TO",u.ia),re(p,"TYPE","xmlhttp"),Ss(u,p),u.u&&u.o&&Ts(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=vs(Be(p)),_.u=null,_.R=!0,ir(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Ra(this),xs(this),bt(19))};function fr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function eu(u,p){var _=null;if(u.g==p){fr(u),wl(u),u.g=null;var A=2}else if(xi(u.h,p))_=p.G,pl(u.h,p),A=1;else return;if(u.I!=0){if(p.o)if(A==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var P=u.D;A=Ki(),ie(A,new pt(A,_)),Di(u)}else Wo(u);else if(P=p.m,P==3||P==0&&p.X>0||!(A==1&&hr(u,p)||A==2&&xs(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),P){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function nu(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function Vi(u,p){if(u.j.info("Error code "+p),p==2){var _=y(u.bb,u),A=u.Ua;const P=!A;A=new Vn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Je(A,"https"),vs(A),P?li(A.toString(),_):Tl(A.toString(),_)}else bt(2);u.I=0,u.l&&u.l.pa(p),iu(u),cr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function iu(u){if(u.I=0,u.ja=[],u.l){const p=gl(u.h);(p.length!=0||u.i.length!=0)&&(W(u.ja,p),W(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function au(u,p,_){var A=_ instanceof Vn?Be(_):new Vn(_);if(A.g!="")p&&(A.g=p+"."+A.g),Ea(A,A.u);else{var P=d.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const G=new Vn(null);A&&Je(G,A),p&&(G.g=p),P&&Ea(G,P),_&&(G.h=_),A=G}return _=u.G,p=u.wa,_&&p&&re(A,_,p),re(A,"VER",u.ka),Ss(u,A),A}function su(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new ue(new Ri({ab:_})):new ue(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}s=ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ca(){}Ca.prototype.g=function(u,p){return new pn(u,p)};function pn(u,p){Gt.call(this),this.g=new wa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!N(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ji(this)}b(pn,Gt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Sl(this.g)},pn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=yn(u),u=_);p.i.push(new Pe(p.Ya++,u)),p.I==3&&Di(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,pn.Z.N.call(this)};function lu(u){Ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(lu,Ue);function ou(){vn.call(this),this.status=1}b(ou,vn);function Ji(u){this.g=u}b(Ji,ru),Ji.prototype.ra=function(){ie(this.g,"a")},Ji.prototype.qa=function(u){ie(this.g,new lu(u))},Ji.prototype.pa=function(u){ie(this.g,new ou)},Ji.prototype.oa=function(){ie(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,c_=function(){return new Ca},u_=function(){return Ki()},o_=ve,Od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,bc=_i,we.COMPLETE="complete",l_=we,ds.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,mo=ds,ue.prototype.listenOnce=ue.prototype.K,ue.prototype.getLastError=ue.prototype.Ha,ue.prototype.getLastErrorCode=ue.prototype.ya,ue.prototype.getStatus=ue.prototype.ca,ue.prototype.getResponseJson=ue.prototype.La,ue.prototype.getResponseText=ue.prototype.la,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Fa,r_=ue}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let ol="12.9.0";function KS(s){ol=s}const Qs=new W0("@firebase/firestore");function qr(){return Qs.logLevel}function ft(s,...e){if(Qs.logLevel<=Xt.DEBUG){const i=e.map(lm);Qs.debug(`Firestore (${ol}): ${s}`,...i)}}function ya(s,...e){if(Qs.logLevel<=Xt.ERROR){const i=e.map(lm);Qs.error(`Firestore (${ol}): ${s}`,...i)}}function Ys(s,...e){if(Qs.logLevel<=Xt.WARN){const i=e.map(lm);Qs.warn(`Firestore (${ol}): ${s}`,...i)}}function lm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Rt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,h_(s,r,i)}function h_(s,e,i){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ya(r),new Error(r)}function ae(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||h_(e,o,r)}function Ot(s,e){return s}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ll{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class f_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class $S{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZS{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ae(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let c=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ns)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new f_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class JS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class WS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new JS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ae(this.o===void 0,3512);const r=c=>{c.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ft("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function e2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=e2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function qt(s,e){return s<e?-1:s>e?1:0}function Md(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return yd(o)===yd(c)?qt(o,c):yd(o)?1:-1}return qt(s.length,e.length)}const n2=55296,i2=57343;function yd(s){const e=s.charCodeAt(0);return e>=n2&&e<=i2}function Jr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Iv="__name__";class Ui{constructor(e,i,r){i===void 0?i=0:i>e.length&&Rt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Rt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Ui.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return qt(e.length,i.length)}static compareSegments(e,i){const r=Ui.isNumericId(e),o=Ui.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):Md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class Ce extends Ui{construct(e,i,r){return new Ce(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Ce(i)}static emptyPath(){return new Ce([])}}const a2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ui{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return a2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new un([Iv])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new yt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new yt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new yt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class At{constructor(e){this.path=e}static fromPath(e){return new At(Ce.fromString(e))}static fromName(e){return new At(Ce.fromString(e).popFirst(5))}static empty(){return new At(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ce.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Ce(e.slice()))}}function s2(s,e,i){if(!i)throw new yt(at.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function r2(s,e,i,r){if(e===!0&&r===!0)throw new yt(at.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ov(s){if(!At.isDocumentKey(s))throw new yt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function d_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function um(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Rt(12329,{type:typeof s})}function zi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new yt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=um(s);throw new yt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Qe(s,e){const i={typeString:s};return e&&(i.value=e),i}function Lo(s,e){if(!d_(s))throw new yt(at.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new yt(at.INVALID_ARGUMENT,i);return!0}const Mv=-62135596800,jv=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*jv);return new Te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Mv)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lo(e,Te._jsonSchema))return new Te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:Qe("string",Te._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Te(0,0))}static max(){return new Vt(new Te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ro=-1;function l2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Vt.fromTimestamp(r===1e9?new Te(i+1,0):new Te(i,r));return new as(o,At.empty(),e)}function o2(s){return new as(s.readTime,s.key,Ro)}class as{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new as(Vt.min(),At.empty(),Ro)}static max(){return new as(Vt.max(),At.empty(),Ro)}}function u2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=At.comparator(s.documentKey,e.documentKey),i!==0?i:qt(s.largestBatchId,e.largestBatchId))}const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(s){if(s.code!==at.FAILED_PRECONDITION||s.message!==c2)throw s;ft("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new nt(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.reject(i)}static resolve(e){return new nt(((i,r)=>{i(e)}))}static reject(e){return new nt(((i,r)=>{r(e)}))}static waitFor(e){return new nt(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(m=>r(m)))})),d=!0,c===o&&i()}))}static or(e){let i=nt.resolve(!1);for(const r of e)i=i.next((o=>o?nt.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new nt(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let m=0;m<c;m++){const y=m;i(e[y]).next((E=>{d[y]=E,++g,g===c&&r(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new nt(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function f2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function cl(s){return s.name==="IndexedDbTransactionError"}class Yc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yc.ce=-1;const cm=-1;function Kc(s){return s==null}function Ic(s){return s===0&&1/s==-1/0}function d2(s){return typeof s=="number"&&Number.isInteger(s)&&!Ic(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const m_="";function m2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Lv(e)),e=p2(s.get(i),e);return Lv(e)}function p2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case m_:i+="";break;default:i+=c}}return i}function Lv(s){return s+m_+""}function Uv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function hs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function p_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ne{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new Ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new on(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Rt(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $e(this.comparator);return i.data=e,i}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new $e(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Jr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class g_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new g_("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(s){if(ae(!!s,39018),typeof s=="string"){let e=0;const i=g2.exec(s);if(ae(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(s.seconds),nanos:Le(s.nanos)}}function Le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rs(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const y_="server_timestamp",v_="__type__",__="__previous_value__",E_="__local_write_time__";function hm(s){return(s?.mapValue?.fields||{})[v_]?.stringValue===y_}function Xc(s){const e=s.mapValue.fields[__];return hm(e)?Xc(e):e}function Co(s){const e=ss(s.mapValue.fields[E_].timestampValue);return new Te(e.seconds,e.nanos)}class y2{constructor(e,i,r,o,c,d,g,m,y,E,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=b}}const Oc="(default)";class No{constructor(e,i){this.projectId=e,this.database=i||Oc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}function v2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new yt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(s.options.projectId,e)}const T_="__type__",_2="__max__",pc={mapValue:{}},b_="__vector__",Mc="value";function ls(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?hm(s)?4:T2(s)?9007199254740991:E2(s)?10:11:Rt(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=ls(s);if(i!==ls(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Co(s).isEqual(Co(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ss(o.timestampValue),g=ss(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return rs(o.bytesValue).isEqual(rs(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Le(o.geoPointValue.latitude)===Le(c.geoPointValue.latitude)&&Le(o.geoPointValue.longitude)===Le(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Le(o.integerValue)===Le(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Le(o.doubleValue),g=Le(c.doubleValue);return d===g?Ic(d)===Ic(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Jr(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Uv(d)!==Uv(g))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(g[m]===void 0||!qi(d[m],g[m])))return!1;return!0})(s,e);default:return Rt(52216,{left:s})}}function Do(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function Wr(s,e){if(s===e)return 0;const i=ls(s),r=ls(e);if(i!==r)return qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Le(c.integerValue||c.doubleValue),m=Le(d.integerValue||d.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(s,e);case 3:return Pv(s.timestampValue,e.timestampValue);case 4:return Pv(Co(s),Co(e));case 5:return Md(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=rs(c),m=rs(d);return g.compareTo(m)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),m=d.split("/");for(let y=0;y<g.length&&y<m.length;y++){const E=qt(g[y],m[y]);if(E!==0)return E}return qt(g.length,m.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=qt(Le(c.latitude),Le(d.latitude));return g!==0?g:qt(Le(c.longitude),Le(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Bv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},m=d.fields||{},y=g[Mc]?.arrayValue,E=m[Mc]?.arrayValue,b=qt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:Bv(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===pc.mapValue&&d===pc.mapValue)return 0;if(c===pc.mapValue)return 1;if(d===pc.mapValue)return-1;const g=c.fields||{},m=Object.keys(g),y=d.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let b=0;b<m.length&&b<E.length;++b){const x=Md(m[b],E[b]);if(x!==0)return x;const L=Wr(g[m[b]],y[E[b]]);if(L!==0)return L}return qt(m.length,E.length)})(s.mapValue,e.mapValue);default:throw Rt(23264,{he:i})}}function Pv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qt(s,e);const i=ss(s),r=ss(e),o=qt(i.seconds,r.seconds);return o!==0?o:qt(i.nanos,r.nanos)}function Bv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Wr(i[o],r[o]);if(c)return c}return qt(i.length,r.length)}function tl(s){return jd(s)}function jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ss(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return rs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return At.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=jd(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${jd(i.fields[d])}`;return o+"}"})(s.mapValue):Rt(61005,{value:s})}function Ac(s){switch(ls(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xc(s);return e?16+Ac(e):16;case 5:return 2*s.stringValue.length;case 6:return rs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ac(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return hs(r.fields,((c,d)=>{o+=c.length+Ac(d)})),o})(s.mapValue);default:throw Rt(13486,{value:s})}}function Ld(s){return!!s&&"integerValue"in s}function fm(s){return!!s&&"arrayValue"in s}function kv(s){return!!s&&"nullValue"in s}function Hv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sc(s){return!!s&&"mapValue"in s}function E2(s){return(s?.mapValue?.fields||{})[T_]?.stringValue===b_}function _o(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return hs(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=_o(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=_o(s.arrayValue.values[i]);return e}return{...s}}function T2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_2}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Sc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(i)}setAll(e){let i=un.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const m=this.getFieldsMap(i);this.applyChanges(m,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=_o(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){hs(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Rn(_o(this.value))}}function A_(s){const e=[];return hs(s.fields,((i,r)=>{const o=new un([i]);if(Sc(r)){const c=A_(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Pn(e)}class mn{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new mn(e,0,Vt.min(),Vt.min(),Vt.min(),Rn.empty(),0)}static newFoundDocument(e,i,r,o){return new mn(e,1,i,Vt.min(),r,o,0)}static newNoDocument(e,i){return new mn(e,2,i,Vt.min(),Vt.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Vt.min(),Vt.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jc{constructor(e,i){this.position=e,this.inclusive=i}}function qv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=At.comparator(At.fromName(d.referenceValue),i.key):r=Wr(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}class Lc{constructor(e,i="asc"){this.field=e,this.dir=i}}function b2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class S_{}class Xe extends S_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new S2(e,i,r):i==="array-contains"?new R2(e,r):i==="in"?new C2(e,r):i==="not-in"?new N2(e,r):i==="array-contains-any"?new D2(e,r):new Xe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new x2(e,r):new w2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wr(i,this.value)):i!==null&&ls(this.value)===ls(i)&&this.matchesComparison(Wr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends S_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fi(e,i)}matches(e){return x_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x_(s){return s.op==="and"}function w_(s){return A2(s)&&x_(s)}function A2(s){for(const e of s.filters)if(e instanceof Fi)return!1;return!0}function Ud(s){if(s instanceof Xe)return s.field.canonicalString()+s.op.toString()+tl(s.value);if(w_(s))return s.filters.map((e=>Ud(e))).join(",");{const e=s.filters.map((i=>Ud(i))).join(",");return`${s.op}(${e})`}}function R_(s,e){return s instanceof Xe?(function(r,o){return o instanceof Xe&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(s,e):s instanceof Fi?(function(r,o){return o instanceof Fi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&R_(d,o.filters[g])),!0):!1})(s,e):void Rt(19439)}function C_(s){return s instanceof Xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(s):s instanceof Fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(C_).join(" ,")+"}"})(s):"Filter"}class S2 extends Xe{constructor(e,i,r){super(e,i,r),this.key=At.fromName(r.referenceValue)}matches(e){const i=At.comparator(e.key,this.key);return this.matchesComparison(i)}}class x2 extends Xe{constructor(e,i){super(e,"in",i),this.keys=N_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class w2 extends Xe{constructor(e,i){super(e,"not-in",i),this.keys=N_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function N_(s,e){return(e.arrayValue?.values||[]).map((i=>At.fromName(i.referenceValue)))}class R2 extends Xe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return fm(i)&&Do(i.arrayValue,this.value)}}class C2 extends Xe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class N2 extends Xe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class D2 extends Xe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Do(this.value.arrayValue,r)))}}class V2{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Gv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new V2(s,e,i,r,o,c,d)}function dm(s){const e=Ot(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Ud(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Kc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>tl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>tl(r))).join(",")),e.Te=i}return e.Te}function mm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!b2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!R_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fv(s.startAt,e.startAt)&&Fv(s.endAt,e.endAt)}function zd(s){return At.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class $c{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I2(s,e,i,r,o,c,d,g){return new $c(s,e,i,r,o,c,d,g)}function Zc(s){return new $c(s)}function Qv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function O2(s){return At.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function M2(s){return s.collectionGroup!==null}function Eo(s){const e=Ot(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new $e(un.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Lc(c,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new Lc(un.keyField(),r))}return e.Ie}function Pi(s){const e=Ot(s);return e.Ee||(e.Ee=j2(e,Eo(s))),e.Ee}function j2(s,e){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Lc(o.field,c)}));const i=s.endAt?new jc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new jc(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Pd(s,e,i){return new $c(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Jc(s,e){return mm(Pi(s),Pi(e))&&s.limitType===e.limitType}function D_(s){return`${dm(Pi(s))}|lt:${s.limitType}`}function Fr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>C_(o))).join(", ")}]`),Kc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function Wc(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):At.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Eo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,m){const y=qv(d,g,m);return d.inclusive?y<=0:y<0})(r.startAt,Eo(r),o)||r.endAt&&!(function(d,g,m){const y=qv(d,g,m);return d.inclusive?y>=0:y>0})(r.endAt,Eo(r),o))})(s,e)}function L2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function V_(s){return(e,i)=>{let r=!1;for(const o of Eo(s)){const c=U2(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function U2(s,e,i){const r=s.field.isKeyField()?At.comparator(e.key,i.key):(function(c,d,g){const m=d.data.field(c),y=g.data.field(c);return m!==null&&y!==null?Wr(m,y):Rt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:s.dir})}}class $s{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}const z2=new Ne(At.comparator);function va(){return z2}const I_=new Ne(At.comparator);function po(...s){let e=I_;for(const i of s)e=e.insert(i.key,i);return e}function O_(s){let e=I_;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Fs(){return To()}function M_(){return To()}function To(){return new $s((s=>s.toString()),((s,e)=>s.isEqual(e)))}const P2=new Ne(At.comparator),B2=new $e(At.comparator);function Ft(...s){let e=B2;for(const i of s)e=e.add(i);return e}const k2=new $e(qt);function H2(){return k2}function pm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function j_(s){return{integerValue:""+s}}function q2(s,e){return d2(e)?j_(e):pm(s,e)}class th{constructor(){this._=void 0}}function F2(s,e,i){return s instanceof Uc?(function(o,c){const d={fields:{[v_]:{stringValue:y_},[E_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&hm(c)&&(c=Xc(c)),c&&(d.fields[__]=c),{mapValue:d}})(i,e):s instanceof el?U_(s,e):s instanceof Vo?z_(s,e):(function(o,c){const d=L_(o,c),g=Yv(d)+Yv(o.Ae);return Ld(d)&&Ld(o.Ae)?j_(g):pm(o.serializer,g)})(s,e)}function G2(s,e,i){return s instanceof el?U_(s,e):s instanceof Vo?z_(s,e):i}function L_(s,e){return s instanceof zc?(function(r){return Ld(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Uc extends th{}class el extends th{constructor(e){super(),this.elements=e}}function U_(s,e){const i=P_(e);for(const r of s.elements)i.some((o=>qi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Vo extends th{constructor(e){super(),this.elements=e}}function z_(s,e){let i=P_(e);for(const r of s.elements)i=i.filter((o=>!qi(o,r)));return{arrayValue:{values:i}}}class zc extends th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yv(s){return Le(s.integerValue||s.doubleValue)}function P_(s){return fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Q2{constructor(e,i){this.field=e,this.transform=i}}function Y2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof el&&o instanceof el||r instanceof Vo&&o instanceof Vo?Jr(r.elements,o.elements,qi):r instanceof zc&&o instanceof zc?qi(r.Ae,o.Ae):r instanceof Uc&&o instanceof Uc})(s.transform,e.transform)}class K2{constructor(e,i){this.version=e,this.transformResults=i}}class Bi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class eh{}function B_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new H_(s.key,Bi.none()):new Uo(s.key,s.data,Bi.none());{const i=s.data,r=Rn.empty();let o=new $e(un.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new fs(s.key,r,new Pn(o.toArray()),Bi.none())}}function X2(s,e,i){s instanceof Uo?(function(o,c,d){const g=o.value.clone(),m=Xv(o.fieldTransforms,c,d.transformResults);g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof fs?(function(o,c,d){if(!xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Xv(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(k_(o)),m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function bo(s,e,i,r){return s instanceof Uo?(function(c,d,g,m){if(!xc(c.precondition,d))return g;const y=c.value.clone(),E=$v(c.fieldTransforms,m,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof fs?(function(c,d,g,m){if(!xc(c.precondition,d))return g;const y=$v(c.fieldTransforms,m,d),E=d.data;return E.setAll(k_(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,i,r):(function(c,d,g){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function $2(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=L_(r.transform,o||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function Kv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Jr(r,o,((c,d)=>Y2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Uo extends eh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends eh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function k_(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Xv(s,e,i){const r=new Map;ae(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,G2(d,g,i[o]))}return r}function $v(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,F2(c,d,e))}return r}class H_ extends eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class J2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&X2(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=bo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=bo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=M_();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const m=B_(d,g);m!==null&&r.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Vt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&Jr(this.mutations,e.mutations,((i,r)=>Kv(i,r)))&&Jr(this.baseMutations,e.baseMutations,((i,r)=>Kv(i,r)))}}class gm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return P2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new gm(e,i,r,o)}}class W2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ge,Kt;function ex(s){switch(s){case at.OK:return Rt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Rt(15467,{code:s})}}function q_(s){if(s===void 0)return ya("GRPC error has no .code"),at.UNKNOWN;switch(s){case Ge.OK:return at.OK;case Ge.CANCELLED:return at.CANCELLED;case Ge.UNKNOWN:return at.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return at.INTERNAL;case Ge.UNAVAILABLE:return at.UNAVAILABLE;case Ge.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ge.NOT_FOUND:return at.NOT_FOUND;case Ge.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ge.ABORTED:return at.ABORTED;case Ge.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ge.DATA_LOSS:return at.DATA_LOSS;default:return Rt(39323,{code:s})}}(Kt=Ge||(Ge={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";function nx(){return new TextEncoder}const ix=new es([4294967295,4294967295],0);function Zv(s){const e=nx().encode(s),i=new s_;return i.update(e),new Uint8Array(i.digest())}function Jv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new es([i,r],0),new es([o,c],0)]}class ym{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new go(`Invalid padding: ${i}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new go(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=es.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(es.fromNumber(r)));return o.compare(ix)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Zv(e),[r,o]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ym(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Zv(e),[r,o]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,zo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new nh(Vt.min(),o,new Ne(qt),va(),Ft())}}class zo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new zo(r,i,Ft(),Ft(),Ft())}}class wc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class F_{constructor(e,i){this.targetId=e,this.Ce=i}}class G_{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Wv{constructor(){this.ve=0,this.Fe=t0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ft(),i=Ft(),r=Ft();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Rt(38017,{changeType:c})}})),new zo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=t0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ax{constructor(e){this.Ge=e,this.ze=new Map,this.je=va(),this.He=gc(),this.Je=gc(),this.Ze=new Ne(qt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Rt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(zd(c))if(r===0){const d=new At(c.path);this.et(i,d,mn.newNoDocument(d,Vt.min()))}else ae(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),m=g?this.ct(g,e,d):1;if(m!==0){this.it(i);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=rs(r).toUint8Array()}catch(m){if(m instanceof g_)return Ys("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new ym(d,o,c)}catch(m){return Ys(m instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&zd(g.target)){const m=new At(g.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,mn.newNoDocument(m,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Ft();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new nh(e,i,this.Ze,this.je,r);return this.je=va(),this.He=gc(),this.Je=gc(),this.Ze=new Ne(qt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Wv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new $e(qt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new $e(qt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function gc(){return new Ne(At.comparator)}function t0(){return new Ne(At.comparator)}const sx={asc:"ASCENDING",desc:"DESCENDING"},rx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lx={and:"AND",or:"OR"};class ox{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bd(s,e){return s.useProto3Json||Kc(e)?e:{value:e}}function Pc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ux(s,e){return Pc(s,e.toTimestamp())}function ki(s){return ae(!!s,49232),Vt.fromTimestamp((function(i){const r=ss(i);return new Te(r.seconds,r.nanos)})(s))}function vm(s,e){return kd(s,e).canonicalString()}function kd(s,e){const i=(function(o){return new Ce(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Y_(s){const e=Ce.fromString(s);return ae(J_(e),10190,{key:e.toString()}),e}function Hd(s,e){return vm(s.databaseId,e.path)}function vd(s,e){const i=Y_(e);if(i.get(1)!==s.databaseId.projectId)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new At(X_(i))}function K_(s,e){return vm(s.databaseId,e)}function cx(s){const e=Y_(s);return e.length===4?Ce.emptyPath():X_(e)}function qd(s){return new Ce(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function X_(s){return ae(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function e0(s,e,i){return{name:Hd(s,e),fields:i.value.mapValue.fields}}function hx(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Rt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(ae(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(ae(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?at.UNKNOWN:q_(y.code);return new yt(E,y.message||"")})(d);i=new G_(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=vd(s,r.document.name),c=ki(r.document.updateTime),d=r.document.createTime?ki(r.document.createTime):Vt.min(),g=new Rn({mapValue:{fields:r.document.fields}}),m=mn.newFoundDocument(o,c,d,g),y=r.targetIds||[],E=r.removedTargetIds||[];i=new wc(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=vd(s,r.document),c=r.readTime?ki(r.readTime):Vt.min(),d=mn.newNoDocument(o,c),g=r.removedTargetIds||[];i=new wc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=vd(s,r.document),c=r.removedTargetIds||[];i=new wc([],c,o,null)}else{if(!("filter"in e))return Rt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new tx(o,c),g=r.targetId;i=new F_(g,d)}}return i}function fx(s,e){let i;if(e instanceof Uo)i={update:e0(s,e.key,e.value)};else if(e instanceof H_)i={delete:Hd(s,e.key)};else if(e instanceof fs)i={update:e0(s,e.key,e.data),updateMask:Tx(e.fieldMask)};else{if(!(e instanceof Z2))return Rt(16599,{dt:e.type});i={verify:Hd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof el)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Rt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:ux(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Rt(27497)})(s,e.precondition)),i}function dx(s,e){return s&&s.length>0?(ae(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?ki(o.updateTime):ki(c);return d.isEqual(Vt.min())&&(d=ki(c)),new K2(d,o.transformResults||[])})(i,e)))):[]}function mx(s,e){return{documents:[K_(s,e.path)]}}function px(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=K_(s,o);const c=(function(y){if(y.length!==0)return Z_(Fi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(x){return{field:Gr(x.field),direction:vx(x.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Bd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function gx(s){let e=cx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ae(r===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(b){const x=$_(b);return x instanceof Fi&&w_(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(W){return new Lc(Qr(W.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let x;return x=typeof b=="object"?b.value:b,Kc(x)?null:x})(i.limit));let m=null;i.startAt&&(m=(function(b){const x=!!b.before,L=b.values||[];return new jc(L,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const x=!b.before,L=b.values||[];return new jc(L,x)})(i.endAt)),I2(e,o,d,c,g,"F",m,y)}function yx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function $_(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qr(i.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qr(i.unaryFilter.field);return Xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qr(i.unaryFilter.field);return Xe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qr(i.unaryFilter.field);return Xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xe.create(Qr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fi.create(i.compositeFilter.filters.map((r=>$_(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(i.compositeFilter.op))})(s):Rt(30097,{filter:s})}function vx(s){return sx[s]}function _x(s){return rx[s]}function Ex(s){return lx[s]}function Gr(s){return{fieldPath:s.canonicalString()}}function Qr(s){return un.fromServerFormat(s.fieldPath)}function Z_(s){return s instanceof Xe?(function(i){if(i.op==="=="){if(Hv(i.value))return{unaryFilter:{field:Gr(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:Gr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hv(i.value))return{unaryFilter:{field:Gr(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:Gr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gr(i.field),op:_x(i.op),value:i.value}}})(s):s instanceof Fi?(function(i){const r=i.getFilters().map((o=>Z_(o)));return r.length===1?r[0]:{compositeFilter:{op:Ex(i.op),filters:r}}})(s):Rt(54877,{filter:s})}function Tx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function J_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function W_(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ja{constructor(e,i,r,o,c=Vt.min(),d=Vt.min(),g=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bx{constructor(e){this.yt=e}}function Ax(s){const e=gx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pd(e,e.limit,"L"):e}class Sx{constructor(){this.Sn=new xx}addToCollectionParentIndex(e,i){return this.Sn.add(i),nt.resolve()}getCollectionParents(e,i){return nt.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return nt.resolve()}deleteFieldIndex(e,i){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,i){return nt.resolve()}getDocumentsMatchingTarget(e,i){return nt.resolve(null)}getIndexType(e,i){return nt.resolve(0)}getFieldIndexes(e,i){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,i){return nt.resolve(as.min())}getMinOffsetFromCollectionGroup(e,i){return nt.resolve(as.min())}updateCollectionGroup(e,i,r){return nt.resolve()}updateIndexEntries(e,i){return nt.resolve()}}class xx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new $e(Ce.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $e(Ce.comparator)).toArray()}}const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(tE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class nl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}const i0="LruGarbageCollector",wx=1048576;function a0([s,e],[i,r]){const o=qt(s,i);return o===0?qt(e,r):o}class Rx{constructor(e){this.Pr=e,this.buffer=new $e(a0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();a0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Cx{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ft(i0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){cl(i)?ft(i0,"Ignoring IndexedDB error during garbage collection: ",i):await ul(i)}await this.Ar(3e5)}))}}class Nx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return nt.resolve(Yc.ce);const r=new Rx(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(n0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,d,g,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,g=Date.now(),this.removeTargets(e,r,i)))).next((b=>(c=b,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),qr()<=Xt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(m-g)+`ms
	Removed ${b} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function Dx(s,e){return new Nx(s,e)}class Vx{constructor(){this.changes=new $s((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?nt.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ix{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Ox{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&bo(r.mutation,o,Pn.empty(),Te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ft()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ft()){const o=Fs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=po();return c.forEach(((g,m)=>{d=d.insert(g,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Fs();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ft())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=va();const d=To(),g=(function(){return To()})();return i.forEach(((m,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof fs)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),bo(E.mutation,y,E.mutation.getFieldMask(),Te.now())):d.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new Ix(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=To();let o=new Ne(((d,g)=>d-g)),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((m=>{const y=i.get(m);if(y===null)return;let E=r.get(m)||Pn.empty();E=g.applyToLocalView(y,E),r.set(m,E);const b=(o.get(g.batchId)||Ft()).add(m);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),y=m.key,E=m.value,b=M_();E.forEach((x=>{if(!c.has(x)){const L=B_(i.get(x),r.get(x));L!==null&&b.set(x,L),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return nt.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return O2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):M2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):nt.resolve(Fs());let g=Ro,m=c;return d.next((y=>nt.forEach(y,((E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{m=m.insert(E,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,m,y,Ft()))).next((E=>({batchId:g,changes:O_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new At(i)).next((r=>{let o=po();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=po();return this.indexManager.getCollectionParents(e,c).next((g=>nt.forEach(g,(m=>{const y=(function(b,x){return new $c(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((m,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,mn.newInvalidDocument(E)))}));let g=po();return d.forEach(((m,y)=>{const E=c.get(m);E!==void 0&&bo(E.mutation,y,Pn.empty(),Te.now()),Wc(i,y)&&(g=g.insert(m,y))})),g}))}}class Mx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return nt.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(i)),nt.resolve()}getNamedQuery(e,i){return nt.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Ax(o.bundledQuery),readTime:ki(o.readTime)}})(i)),nt.resolve()}}class jx{constructor(){this.overlays=new Ne(At.comparator),this.Lr=new Map}getOverlay(e,i){return nt.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Fs();return nt.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),nt.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(e,i,r){const o=Fs(),c=i.length+1,d=new At(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const m=g.getNext().value,y=m.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&m.largestBatchId>r&&o.set(m.getKey(),m)}return nt.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Ne(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=Fs(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Fs(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return nt.resolve(g)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new W2(i,r));let c=this.Lr.get(i);c===void 0&&(c=Ft(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class Lx{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,nt.resolve()}}class _m{constructor(){this.kr=new $e(tn.Kr),this.qr=new $e(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new tn(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new tn(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new At(new Ce([])),r=new tn(i,e),o=new tn(i,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new At(new Ce([])),r=new tn(i,e),o=new tn(i,e+1);let c=Ft();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new tn(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return At.comparator(e.key,i.key)||qt(e.Hr,i.Hr)}static Ur(e,i){return qt(e.Hr,i.Hr)||At.comparator(e.key,i.key)}}class Ux{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new $e(tn.Kr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new J2(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new tn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return nt.resolve(d)}lookupMutationBatch(e,i){return nt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return nt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?cm:this.Yn-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),nt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new $e(qt);return i.forEach((o=>{const c=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;At.isDocumentKey(c)||(c=c.child(""));const d=new tn(new At(c),0);let g=new $e(qt);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(m.Hr)),!0)}),d),nt.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ae(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(i.mutations,(o=>{const c=new tn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new tn(i,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class zx{constructor(e){this.ti=e,this.docs=(function(){return new Ne(At.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return nt.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let r=va();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=va();const d=i.path,g=new At(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||u2(o2(E),r)<=0||(o.has(E.key)||Wc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return nt.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Rt(9500)}ni(e,i){return nt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Px(this)}getSize(e){return nt.resolve(this.size)}}class Px extends Vx{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),nt.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Bx{constructor(e){this.persistence=e,this.ri=new $s((i=>dm(i)),mm),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.ii=0,this.si=new _m,this.targetCount=0,this.oi=nl._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),nt.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new nl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,nt.resolve()}updateTargetData(e,i){return this.lr(i),nt.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),nt.waitFor(c).next((()=>o))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return nt.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),nt.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),nt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),nt.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return nt.resolve(r)}containsKey(e,i){return nt.resolve(this.si.containsKey(i))}}class eE{constructor(e,i){this._i={},this.overlays={},this.ai=new Yc(0),this.ui=!1,this.ui=!0,this.ci=new Lx,this.referenceDelegate=e(this),this.li=new Bx(this),this.indexManager=new Sx,this.remoteDocumentCache=(function(o){return new zx(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new bx(i),this.Pi=new Mx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new jx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new Ux(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ft("MemoryPersistence","Starting transaction:",e);const o=new kx(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class kx extends h2{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Ri=new _m,this.Ai=null}static Vi(e){return new Em(e)}get di(){if(this.Ai)return this.Ai;throw Rt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),nt.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),nt.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=At.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Vt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Bc{constructor(e,i){this.persistence=e,this.fi=new $s((r=>m2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Dx(this,i)}static Vi(e,i){return new Bc(e,i)}Ti(){}Ii(e){return nt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return nt.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?nt.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Vt.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),nt.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),nt.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ac(e.data.value)),i}wr(e,i,r){return nt.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Ft(),o=Ft();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Tm(e,i.fromCache,r,o)}}class Hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return DA()?8:f2(CA())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Hx;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(qr()<=Xt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Fr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(qr()<=Xt.DEBUG&&ft("QueryEngine","Query:",Fr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(qr()<=Xt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Fr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):nt.resolve())}gs(e,i){if(Qv(i))return nt.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Pd(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ft(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((m=>{const y=this.bs(i,g);return this.Ss(i,y,d,m.readTime)?this.gs(e,Pd(i,null,"F")):this.Ds(e,y,i,m)}))))})))))}ps(e,i,r,o){return Qv(i)||o.isEqual(Vt.min())?nt.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?nt.resolve(null):(qr()<=Xt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fr(i)),this.Ds(e,d,i,l2(o,Ro)).next((g=>g)))}))}bs(e,i){let r=new $e(V_(e));return i.forEach(((o,c)=>{Wc(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return qr()<=Xt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Fr(i)),this.fs.getDocumentsMatchingQuery(e,i,as.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const bm="LocalStore",Fx=3e8;class Gx{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Ne(qt),this.Fs=new $s((c=>dm(c)),mm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ox(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Qx(s,e,i,r){return new Gx(s,e,i,r)}async function nE(s,e){const i=Ot(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let m=Ft();for(const y of o){d.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return i.localDocuments.getDocuments(r,m).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Yx(s,e){const i=Ot(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,y,E){const b=y.batch,x=b.keys();let L=nt.resolve();return x.forEach((W=>{L=L.next((()=>E.getEntry(m,W))).next((R=>{const Y=y.docVersions.get(W);ae(Y!==null,48541),R.version.compareTo(Y)<0&&(b.applyToRemoteDocument(R,y),R.isValidDocument()&&(R.setReadTime(y.commitVersion),E.addEntry(R)))}))})),L.next((()=>g.mutationQueue.removeMutationBatch(m,b)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let m=Ft();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(m=m.add(g.batch.mutations[y].key));return m})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function iE(s){const e=Ot(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Kx(s,e){const i=Ot(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((E,b)=>{const x=o.get(b);if(!x)return;g.push(i.li.removeMatchingKeys(c,E.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,b))));let L=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(cn.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),o=o.insert(b,L),(function(R,Y,B){return R.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Fx?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(x,L,E)&&g.push(i.li.updateTargetData(c,L))}));let m=va(),y=Ft();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Xx(c,d,e.documentUpdates).next((E=>{m=E.Bs,y=E.Ls}))),!r.isEqual(Vt.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return nt.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,y))).next((()=>m))})).then((c=>(i.vs=o,c)))}function Xx(s,e,i){let r=Ft(),o=Ft();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=va();return i.forEach(((g,m)=>{const y=c.get(g);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(Vt.min())?(e.removeEntry(g,m.readTime),d=d.insert(g,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(g,m)):ft(bm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function $x(s,e){const i=Ot(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Zx(s,e){const i=Ot(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,nt.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ja(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Fd(s,e,i){const r=Ot(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!cl(d))throw d;ft(bm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function s0(s,e,i){const r=Ot(s);let o=Vt.min(),c=Ft();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,y,E){const b=Ot(m),x=b.Fs.get(E);return x!==void 0?nt.resolve(b.vs.get(x)):b.li.getTargetData(y,E)})(r,d,Pi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((m=>{c=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:Vt.min(),i?c:Ft()))).next((g=>(Jx(r,L2(e),g),{documents:g,ks:c})))))}function Jx(s,e,i){let r=s.Ms.get(e)||Vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class r0{constructor(){this.activeTargetIds=H2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wx{constructor(){this.vo=new r0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new r0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tw{Mo(e){}shutdown(){}}const l0="ConnectivityMonitor";class o0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ft(l0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ft(l0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yc=null;function Gd(){return yc===null?yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():yc++,"0x"+yc.toString(16)}const _d="RestConnection",ew={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class nw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Oc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const d=Gd(),g=this.Qo(e,i.toUriEncodedString());ft(_d,`Sending RPC '${e}' ${d}:`,g,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:y}=new URL(g),E=sm(y);return this.zo(e,g,m,r,E).then((b=>(ft(_d,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Ys(_d,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",r),b}))}jo(e,i,r,o,c,d){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=ew[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class iw{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",fo=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Kr extends nw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Kr.c_){const e=u_();fo(e,o_.STAT_EVENT,(i=>{i.stat===Od.PROXY?ft(fn,"STAT_EVENT: detected buffering proxy"):i.stat===Od.NOPROXY&&ft(fn,"STAT_EVENT: detected no buffering proxy")})),Kr.c_=!0}}zo(e,i,r,o,c){const d=Gd();return new Promise(((g,m)=>{const y=new r_;y.setWithCredentials(!0),y.listenOnce(l_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case bc.NO_ERROR:const b=y.getResponseJson();ft(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case bc.TIMEOUT:ft(fn,`RPC '${e}' ${d} timed out`),m(new yt(at.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const x=y.getStatus();if(ft(fn,`RPC '${e}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const W=L?.error;if(W&&W.status&&W.message){const R=(function(B){const it=B.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(it)>=0?it:at.UNKNOWN})(W.status);m(new yt(R,W.message))}else m(new yt(at.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new yt(at.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ft(fn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ft(fn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,r,15)}))}T_(e,i,r){const o=Gd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");ft(fn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let b=!1,x=!1;const L=new iw({Ho:W=>{x?ft(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(b||(ft(fn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ft(fn,`RPC '${e}' stream ${o} sending:`,W),E.send(W))},Jo:()=>E.close()});return fo(E,mo.EventType.OPEN,(()=>{x||(ft(fn,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),fo(E,mo.EventType.CLOSE,(()=>{x||(x=!0,ft(fn,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),fo(E,mo.EventType.ERROR,(W=>{x||(x=!0,Ys(fn,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),L.o_(new yt(at.UNAVAILABLE,"The operation could not be completed")))})),fo(E,mo.EventType.MESSAGE,(W=>{if(!x){const R=W.data[0];ae(!!R,16349);const Y=R,B=Y?.error||Y[0]?.error;if(B){ft(fn,`RPC '${e}' stream ${o} received error:`,B);const it=B.status;let ct=(function(Nt){const D=Ge[Nt];if(D!==void 0)return q_(D)})(it),dt=B.message;it==="NOT_FOUND"&&dt.includes("database")&&dt.includes("does not exist")&&dt.includes(this.databaseId.database)&&Ys(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ct===void 0&&(ct=at.INTERNAL,dt="Unknown error status: "+it+" with message "+B.message),x=!0,L.o_(new yt(ct,dt)),E.close()}else ft(fn,`RPC '${e}' stream ${o} received:`,R),L.__(R)}})),Kr.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return c_()}}function aw(s){return new Kr(s)}function Ed(){return typeof document<"u"?document:null}function ih(s){return new ox(s,!0)}Kr.c_=!1;class aE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const u0="PersistentStream";class sE{constructor(e,i,r,o,c,d,g,m){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(ya(i.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new yt(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ft(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ft(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sw extends sE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=hx(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Vt.min():d.readTime?ki(d.readTime):Vt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=qd(this.serializer),i.addTarget=(function(c,d){let g;const m=d.target;if(g=zd(m)?{documents:mx(c,m)}:{query:px(c,m).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Q_(c,d.resumeToken);const y=Bd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Vt.min())>0){g.readTime=Pc(c,d.snapshotVersion.toTimestamp());const y=Bd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=yx(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=qd(this.serializer),i.removeTarget=e,this.K_(i)}}class rw extends sE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=dx(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=qd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>fx(this.serializer,r)))};this.K_(i)}}class lw{}class ow extends lw{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,kd(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(at.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,kd(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yt(at.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function uw(s,e,i,r){return new ow(s,e,i,r)}class cw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ya(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class hw{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Zs(this)&&(ft(Ks,"Restarting streams for network reachability change."),await(async function(m){const y=Ot(m);y.Ea.add(4),await Po(y),y.Va.set("Unknown"),y.Ea.delete(4),await ah(y)})(this))}))})),this.Va=new cw(r,o)}}async function ah(s){if(Zs(s))for(const e of s.Ra)await e(!0)}async function Po(s){for(const e of s.Ra)await e(!1)}function rE(s,e){const i=Ot(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),wm(i)?xm(i):hl(i).O_()&&Sm(i,e))}function Am(s,e){const i=Ot(s),r=hl(i);i.Ia.delete(e),r.O_()&&lE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Zs(i)&&i.Va.set("Unknown"))}function Sm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}hl(s).Z_(e)}function lE(s,e){s.da.$e(e),hl(s).X_(e)}function xm(s){s.da=new ax({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),hl(s).start(),s.Va.ua()}function wm(s){return Zs(s)&&!hl(s).x_()&&s.Ia.size>0}function Zs(s){return Ot(s).Ea.size===0}function oE(s){s.da=void 0}async function fw(s){s.Va.set("Online")}async function dw(s){s.Ia.forEach(((e,i)=>{Sm(s,e)}))}async function mw(s,e){oE(s),wm(s)?(s.Va.ha(e),xm(s)):s.Va.set("Unknown")}async function pw(s,e,i){if(s.Va.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(r){ft(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kc(s,r)}else if(e instanceof wc?s.da.Xe(e):e instanceof F_?s.da.st(e):s.da.tt(e),!i.isEqual(Vt.min()))try{const r=await iE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(m.resumeToken,d))}})),g.targetMismatches.forEach(((m,y)=>{const E=c.Ia.get(m);if(!E)return;c.Ia.set(m,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),lE(c,m);const b=new Ja(E.target,m,y,E.sequenceNumber);Sm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ft(Ks,"Failed to raise snapshot:",r),await kc(s,r)}}async function kc(s,e,i){if(!cl(e))throw e;s.Ea.add(1),await Po(s),s.Va.set("Offline"),i||(i=()=>iE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ft(Ks,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await ah(s)}))}function uE(s,e){return e().catch((i=>kc(s,i,e)))}async function sh(s){const e=Ot(s),i=os(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cm;for(;gw(e);)try{const o=await $x(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,yw(e,o)}catch(o){await kc(e,o)}cE(e)&&hE(e)}function gw(s){return Zs(s)&&s.Ta.length<10}function yw(s,e){s.Ta.push(e);const i=os(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function cE(s){return Zs(s)&&!os(s).x_()&&s.Ta.length>0}function hE(s){os(s).start()}async function vw(s){os(s).ra()}async function _w(s){const e=os(s);for(const i of s.Ta)e.ea(i.mutations)}async function Ew(s,e,i){const r=s.Ta.shift(),o=gm.from(r,e,i);await uE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await sh(s)}async function Tw(s,e){e&&os(s).Y_&&await(async function(r,o){if((function(d){return ex(d)&&d!==at.ABORTED})(o.code)){const c=r.Ta.shift();os(r).B_(),await uE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await sh(r)}})(s,e),cE(s)&&hE(s)}async function c0(s,e){const i=Ot(s);i.asyncQueue.verifyOperationInProgress(),ft(Ks,"RemoteStore received new credentials");const r=Zs(i);i.Ea.add(3),await Po(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await ah(i)}async function bw(s,e){const i=Ot(s);e?(i.Ea.delete(2),await ah(i)):e||(i.Ea.add(2),await Po(i),i.Va.set("Unknown"))}function hl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ot(i);return c.sa(),new sw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:fw.bind(null,s),Yo:dw.bind(null,s),t_:mw.bind(null,s),J_:pw.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),wm(s)?xm(s):s.Va.set("Unknown")):(await s.ma.stop(),oE(s))}))),s.ma}function os(s){return s.fa||(s.fa=(function(i,r,o){const c=Ot(i);return c.sa(),new rw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vw.bind(null,s),t_:Tw.bind(null,s),ta:_w.bind(null,s),na:Ew.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await sh(s)):(await s.fa.stop(),s.Ta.length>0&&(ft(Ks,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Rm{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new Rm(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(s,e){if(ya("AsyncQueue",`${e}: ${s}`),cl(s))return new yt(at.UNAVAILABLE,`${e}: ${s}`);throw s}class Xr{static emptySet(e){return new Xr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||At.comparator(i.key,r.key):(i,r)=>At.comparator(i.key,r.key),this.keyedMap=po(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Xr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class h0{constructor(){this.ga=new Ne(At.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Rt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class il{constructor(e,i,r,o,c,d,g,m,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new il(e,i,Xr.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class Aw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Sw{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ot(i),c=o.queries;o.queries=f0(),c.forEach(((d,g)=>{for(const m of g.ba)m.onError(r)}))})(this,new yt(at.ABORTED,"Firestore shutting down"))}}function f0(){return new $s((s=>D_(s)),Jc)}async function fE(s,e){const i=Ot(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new Aw,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Cm(d,`Initialization of query '${Fr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Nm(i)}async function dE(s,e){const i=Ot(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function xw(s,e){const i=Ot(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(r=!0);d.wa=o}}r&&Nm(i)}function ww(s,e,i){const r=Ot(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function Nm(s){s.Ca.forEach((e=>{e.next()}))}var Qd,d0;(d0=Qd||(Qd={})).Ma="default",d0.Cache="cache";class mE{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qd.Cache}}class pE{constructor(e){this.key=e}}class gE{constructor(e){this.key=e}}class Rw{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.eu=V_(e),this.tu=new Xr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new h0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const x=o.get(E),L=Wc(this.query,b)?b:null,W=!!x&&this.mutatedKeys.has(x.key),R=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Y=!1;x&&L?x.data.isEqual(L.data)?W!==R&&(r.track({type:3,doc:L}),Y=!0):this.su(x,L)||(r.track({type:2,doc:L}),Y=!0,(m&&this.eu(L,m)>0||y&&this.eu(L,y)<0)&&(g=!0)):!x&&L?(r.track({type:0,doc:L}),Y=!0):x&&!L&&(r.track({type:1,doc:x}),Y=!0,(m||y)&&(g=!0)),Y&&(L?(d=d.add(L),c=R?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,b)=>(function(L,W){const R=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Vt:Y})}};return R(L)-R(W)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,d.length!==0||y?{snapshot:new il(this.query,e.tu,c,d,e.mutatedKeys,m===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new gE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new pE(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ft();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dm="SyncEngine";class Cw{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Nw{constructor(e){this.key=e,this.hu=!1}}class Dw{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((g=>D_(g)),Jc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ne(At.comparator),this.Au=new Map,this.Vu=new _m,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vw(s,e,i=!0){const r=bE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yE(r,e,i,!0),o}async function Iw(s,e){const i=bE(s);await yE(i,e,!0,!1)}async function yE(s,e,i,r){const o=await Zx(s.localStore,Pi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await Ow(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&rE(s.remoteStore,o),g}async function Ow(s,e,i,r,o){s.pu=(b,x,L)=>(async function(R,Y,B,it){let ct=Y.view.ru(B);ct.Ss&&(ct=await s0(R.localStore,Y.query,!1).then((({documents:D})=>Y.view.ru(D,ct))));const dt=it&&it.targetChanges.get(Y.targetId),wt=it&&it.targetMismatches.get(Y.targetId)!=null,Nt=Y.view.applyChanges(ct,R.isPrimaryClient,dt,wt);return p0(R,Y.targetId,Nt.au),Nt.snapshot})(s,b,x,L);const c=await s0(s.localStore,e,!0),d=new Rw(e,c.ks),g=d.ru(c.documents),m=zo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,m);p0(s,i,y.au);const E=new Cw(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function Mw(s,e,i){const r=Ot(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Jc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Am(r.remoteStore,o.targetId),Yd(r,o.targetId)})).catch(ul)):(Yd(r,o.targetId),await Fd(r.localStore,o.targetId,!0))}async function jw(s,e){const i=Ot(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Am(i.remoteStore,r.targetId))}async function Lw(s,e,i){const r=qw(s);try{const o=await(function(d,g){const m=Ot(d),y=Te.now(),E=g.reduce(((L,W)=>L.add(W.key)),Ft());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let W=va(),R=Ft();return m.xs.getEntries(L,E).next((Y=>{W=Y,W.forEach(((B,it)=>{it.isValidDocument()||(R=R.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(L,W))).next((Y=>{b=Y;const B=[];for(const it of g){const ct=$2(it,b.get(it.key).overlayedDocument);ct!=null&&B.push(new fs(it.key,ct,A_(ct.value.mapValue),Bi.exists(!0)))}return m.mutationQueue.addMutationBatch(L,y,B,g)})).next((Y=>{x=Y;const B=Y.applyToLocalDocumentSet(b,R);return m.documentOverlayCache.saveOverlays(L,Y.batchId,B)}))})).then((()=>({batchId:x.batchId,changes:O_(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,m){let y=d.du[d.currentUser.toKey()];y||(y=new Ne(qt)),y=y.insert(g,m),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await Bo(r,o.changes),await sh(r.remoteStore)}catch(o){const c=Cm(o,"Failed to persist write");i.reject(c)}}async function vE(s,e){const i=Ot(s);try{const r=await Kx(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ae(d.hu,14607):o.removedDocuments.size>0&&(ae(d.hu,42227),d.hu=!1))})),await Bo(i,r,e)}catch(r){await ul(r)}}function m0(s,e,i){const r=Ot(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const m=Ot(d);m.onlineState=g;let y=!1;m.queries.forEach(((E,b)=>{for(const x of b.ba)x.va(g)&&(y=!0)})),y&&Nm(m)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Uw(s,e,i){const r=Ot(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Ne(At.comparator);d=d.insert(c,mn.newNoDocument(c,Vt.min()));const g=Ft().add(c),m=new nh(Vt.min(),new Map,new Ne(qt),d,g);await vE(r,m),r.Ru=r.Ru.remove(c),r.Au.delete(e),Vm(r)}else await Fd(r.localStore,e,!1).then((()=>Yd(r,e,i))).catch(ul)}async function zw(s,e){const i=Ot(s),r=e.batch.batchId;try{const o=await Yx(i.localStore,e);EE(i,r,null),_E(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Bo(i,o)}catch(o){await ul(o)}}async function Pw(s,e,i){const r=Ot(s);try{const o=await(function(d,g){const m=Ot(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return m.mutationQueue.lookupMutationBatch(y,g).next((b=>(ae(b!==null,37113),E=b.keys(),m.mutationQueue.removeMutationBatch(y,b)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>m.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);EE(r,e,i),_E(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Bo(r,o)}catch(o){await ul(o)}}function _E(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function EE(s,e,i){const r=Ot(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Yd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||TE(s,r)}))}function TE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Am(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Vm(s))}function p0(s,e,i){for(const r of i)r instanceof pE?(s.Vu.addReference(r.key,e),Bw(s,r)):r instanceof gE?(ft(Dm,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||TE(s,r.key)):Rt(19791,{wu:r})}function Bw(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ft(Dm,"New document in limbo: "+i),s.Eu.add(r),Vm(s))}function Vm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new At(Ce.fromString(e)),r=s.fu.next();s.Au.set(r,new Nw(i)),s.Ru=s.Ru.insert(i,r),rE(s.remoteStore,new Ja(Pi(Zc(i.path)),r,"TargetPurposeLimboResolution",Yc.ce))}}async function Bo(s,e,i){const r=Ot(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,m)=>{d.push(r.pu(m,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Tm.Es(m.targetId,y);c.push(E)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(m,y){const E=Ot(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(y,(x=>nt.forEach(x.Ts,(L=>E.persistence.referenceDelegate.addReference(b,x.targetId,L))).next((()=>nt.forEach(x.Is,(L=>E.persistence.referenceDelegate.removeReference(b,x.targetId,L)))))))))}catch(b){if(!cl(b))throw b;ft(bm,"Failed to update sequence numbers: "+b)}for(const b of y){const x=b.targetId;if(!b.fromCache){const L=E.vs.get(x),W=L.snapshotVersion,R=L.withLastLimboFreeSnapshotVersion(W);E.vs=E.vs.insert(x,R)}}})(r.localStore,c))}async function kw(s,e){const i=Ot(s);if(!i.currentUser.isEqual(e)){ft(Dm,"User change. New user:",e.toKey());const r=await nE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((m=>{m.reject(new yt(at.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bo(i,r.Ns)}}function Hw(s,e){const i=Ot(s),r=i.Au.get(e);if(r&&r.hu)return Ft().add(r.key);{let o=Ft();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function bE(s){const e=Ot(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=vE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uw.bind(null,e),e.Pu.J_=xw.bind(null,e.eventManager),e.Pu.yu=ww.bind(null,e.eventManager),e}function qw(s){const e=Ot(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pw.bind(null,e),e}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Qx(this.persistence,new qx,e.initialUser,this.serializer)}Cu(e){return new eE(Em.Vi,this.serializer)}Du(e){return new Wx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class Fw extends Hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ae(this.persistence.referenceDelegate instanceof Bc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Cx(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new eE((r=>Bc.Vi(r,i)),this.serializer)}}class Kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kw.bind(null,this.syncEngine),await bw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Sw})()}createDatastore(e){const i=ih(e.databaseInfo.databaseId),r=aw(e.databaseInfo);return uw(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new hw(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>m0(this.syncEngine,i,0)),(function(){return o0.v()?new o0:new tw})())}createSyncEngine(e,i){return(function(o,c,d,g,m,y,E){const b=new Dw(o,c,d,g,m,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ot(i);ft(Ks,"RemoteStore shutting down."),r.Ea.add(5),await Po(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kd.provider={build:()=>new Kd};class AE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const us="FirestoreClient";class Gw{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ft(us,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ft(us,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Cm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Td(s,e){s.asyncQueue.verifyOperationInProgress(),ft(us,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await nE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function g0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Qw(s);ft(us,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>c0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>c0(e.remoteStore,o))),s._onlineComponents=e}async function Qw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ft(us,"Using user provided OfflineComponentProvider");try{await Td(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ys("Error using user provided cache. Falling back to memory cache: "+i),await Td(s,new Hc)}}else ft(us,"Using default OfflineComponentProvider"),await Td(s,new Fw(void 0));return s._offlineComponents}async function SE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ft(us,"Using user provided OnlineComponentProvider"),await g0(s,s._uninitializedComponentsProvider._online)):(ft(us,"Using default OnlineComponentProvider"),await g0(s,new Kd))),s._onlineComponents}function Yw(s){return SE(s).then((e=>e.syncEngine))}async function Xd(s){const e=await SE(s),i=e.eventManager;return i.onListen=Vw.bind(null,e.syncEngine),i.onUnlisten=Mw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Iw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jw.bind(null,e.syncEngine),i}function Kw(s,e,i,r){const o=new AE(r),c=new mE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>fE(await Xd(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>dE(await Xd(s),c)))}}function Xw(s,e,i={}){const r=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,m,y){const E=new AE({next:x=>{E.Nu(),d.enqueueAndForget((()=>dE(c,b)));const L=x.docs.has(g);!L&&x.fromCache?y.reject(new yt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&m&&m.source==="server"?y.reject(new yt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new mE(Zc(g.path),E,{includeMetadataChanges:!0,Ka:!0});return fE(c,b)})(await Xd(s),s.asyncQueue,e,i,r))),r.promise}function $w(s,e){const i=new ns;return s.asyncQueue.enqueueAndForget((async()=>Lw(await Yw(s),e,i))),i.promise}function xE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Zw="ComponentProvider",y0=new Map;function Jw(s,e,i,r,o){return new y2(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,xE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const wE="firestore.googleapis.com",v0=!0;class _0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=v0}else this.host=e.host,this.ssl=e.ssl??v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wx)throw new yt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XS;switch(r.type){case"firstParty":return new WS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=y0.get(i);r&&(ft(Zw,"Removing Datastore"),y0.delete(i),r.terminate())})(this),Promise.resolve()}}function Ww(s,e,i,r={}){s=zi(s,Im);const o=sm(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(AA(`https://${g}`),RA("Firestore",!0)),c.host!==wE&&c.host!==g&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:g,ssl:o,emulatorOptions:r};if(!So(m,d)&&(s._setSettings(m),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=dn.MOCK_USER;else{y=SA(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new yt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(b)}s._authCredentials=new $S(new f_(y,E))}}class rh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rh(this.firestore,e,this._query)}}class Ye{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Lo(i,Ye._jsonSchema))return new Ye(e,r||null,new At(Ce.fromString(i.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),referencePath:Qe("string")};class Io extends rh{constructor(e,i,r){super(e,i,Zc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new At(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function de(s,e,...i){if(s=is(s),arguments.length===1&&(e=om.newId()),s2("doc","path",e),s instanceof Im){const r=Ce.fromString(e,...i);return Ov(r),new Ye(s,null,new At(r))}{if(!(s instanceof Ye||s instanceof Io))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ce.fromString(e,...i));return Ov(r),new Ye(s.firestore,s instanceof Io?s.converter:null,new At(r))}}const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aE(this,"async_queue_retry"),this._c=()=>{const r=Ed();r&&ft(E0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;ft(E0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ya("INTERNAL UNHANDLED ERROR: ",b0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Rm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function b0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class al extends Im{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new T0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function tR(s,e){const i=typeof s=="object"?s:US(),r=typeof s=="string"?s:Oc,o=IS(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=TA("firestore");c&&Ww(o,...c)}return o}function Om(s){if(s._terminated)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||eR(s),s._firestoreClient}function eR(s){const e=s._freezeSettings(),i=Jw(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Gw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(cn.fromBase64String(e))}catch(i){throw new yt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lo(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Qe("string",ni._jsonSchemaVersion),bytes:Qe("string")};class Mm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new yt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lh{constructor(e){this._methodName=e}}class Hi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new yt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new yt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Lo(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Qe("string",Hi._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};class pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lo(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new pi(e.vectorValues);throw new yt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Qe("string",pi._jsonSchemaVersion),vectorValues:Qe("object")};const nR=/^__.*__$/;class iR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Uo(e,this.data,i,this.fieldTransforms)}}class RE{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new fs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function CE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{dataSource:s})}}class oh{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new oh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(CE(this.dataSource)&&nR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class aR{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||ih(e)}createContext(e,i,r,o=!1){return new oh({dataSource:e,methodName:i,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NE(s){const e=s._freezeSettings(),i=ih(s._databaseId);return new aR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function sR(s,e,i,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Lm("Data must be an object, but it was:",d,r);const g=DE(r,d);let m,y;if(c.merge)m=new Pn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const x=Oo(e,b,i);if(!d.contains(x))throw new yt(at.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);OE(E,x)||E.push(x)}m=new Pn(E),y=d.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,y=d.fieldTransforms;return new iR(new Rn(g),m,y)}class ko extends lh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ko}}function rR(s,e,i){return new oh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jm extends lh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=rR(this,e,!0),r=this.Ac.map((c=>Ho(c,i))),o=new el(r);return new Q2(e.path,o)}isEqual(e){return e instanceof jm&&So(this.Ac,e.Ac)}}function lR(s,e,i,r){const o=s.createContext(1,e,i);Lm("Data must be an object, but it was:",o,r);const c=[],d=Rn.empty();hs(r,((m,y)=>{const E=IE(e,m,i);y=is(y);const b=o.childContextForFieldPath(E);if(y instanceof ko)c.push(E);else{const x=Ho(y,b);x!=null&&(c.push(E),d.set(E,x))}}));const g=new Pn(c);return new RE(d,g,o.fieldTransforms)}function oR(s,e,i,r,o,c){const d=s.createContext(1,e,i),g=[Oo(e,r,i)],m=[o];if(c.length%2!=0)throw new yt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(Oo(e,c[x])),m.push(c[x+1]);const y=[],E=Rn.empty();for(let x=g.length-1;x>=0;--x)if(!OE(y,g[x])){const L=g[x];let W=m[x];W=is(W);const R=d.childContextForFieldPath(L);if(W instanceof ko)y.push(L);else{const Y=Ho(W,R);Y!=null&&(y.push(L),E.set(L,Y))}}const b=new Pn(y);return new RE(E,b,d.fieldTransforms)}function Ho(s,e){if(VE(s=is(s)))return Lm("Unsupported field value:",e,s),DE(s,e);if(s instanceof lh)return(function(r,o){if(!CE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let m=Ho(g,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=is(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Te.fromDate(r);return{timestampValue:Pc(o.serializer,c)}}if(r instanceof Te){const c=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pc(o.serializer,c)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:Q_(o.serializer,r._byteString)};if(r instanceof Ye){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof pi)return(function(d,g){const m=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[T_]:{stringValue:b_},[Mc]:{arrayValue:{values:m.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return pm(g.serializer,E)}))}}}}}})(r,o);if(W_(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${um(r)}`)})(s,e)}function DE(s,e){const i={};return p_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(s,((r,o)=>{const c=Ho(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function VE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Te||s instanceof Hi||s instanceof ni||s instanceof Ye||s instanceof lh||s instanceof pi||W_(s))}function Lm(s,e,i){if(!VE(i)||!d_(i)){const r=um(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Oo(s,e,i){if((e=is(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return IE(s,e);throw qc("Field path arguments must be of type string or ",s,!1,void 0,i)}const uR=new RegExp("[~\\*/\\[\\]]");function IE(s,e,i){if(e.search(uR)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Mm(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function qc(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${o}`),m+=")"),new yt(at.INVALID_ARGUMENT,g+s+m)}function OE(s,e){return s.some((i=>i.isEqual(e)))}class cR{convertValue(e,i="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Rt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return hs(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Mc].arrayValue?.values?.map((r=>Le(r.doubleValue)));return new pi(i)}convertGeoPoint(e){return new Hi(Le(e.latitude),Le(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Xc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Co(e));default:return null}}convertTimestamp(e){const i=ss(e);return new Te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Ce.fromString(e);ae(J_(r),9688,{name:e});const o=new No(r.get(1),r.get(3)),c=new At(r.popFirst(5));return o.isEqual(i)||ya(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ME extends cR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,i)}}function _t(){return new ko("deleteField")}function hR(...s){return new jm("arrayUnion",s)}const A0="@firebase/firestore",S0="4.11.0";function x0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class jE{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Oo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fR extends jE{data(){return super.data()}}function dR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new yt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function mR(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class yo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends jE{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Oo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:Qe("string",Gs._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Rc extends Gs{data(e={}){return super.data(e)}}class $r{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Rc(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const m=new Rc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new yo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const m=new Rc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new yo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:pR(g.type),doc:m,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$r._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:s})}}$r._jsonSchemaVersion="firestore/querySnapshot/1.0",$r._jsonSchema={type:Qe("string",$r._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};function w0(s){s=zi(s,Ye);const e=zi(s.firestore,al),i=Om(e);return Xw(i,s._key).then((r=>UE(e,s,r)))}function bd(s,e,i){s=zi(s,Ye);const r=zi(s.firestore,al),o=mR(s.converter,e,i),c=NE(r);return LE(r,[sR(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Bi.none())])}function Re(s,e,i,...r){s=zi(s,Ye);const o=zi(s.firestore,al),c=NE(o);let d;return d=typeof(e=is(e))=="string"||e instanceof Mm?oR(c,"updateDoc",s._key,e,i,r):lR(c,"updateDoc",s._key,e),LE(o,[d.toMutation(s._key,Bi.exists(!0))])}function gR(s,...e){s=is(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||x0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(x0(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ye)d=zi(s.firestore,al),g=Zc(s._key.path),c={next:y=>{e[r]&&e[r](UE(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=zi(s,rh);d=zi(y.firestore,al),g=y._query;const E=new ME(d);c={next:b=>{e[r]&&e[r](new $r(d,E,y,b))},error:e[r+1],complete:e[r+2]},dR(s._query)}const m=Om(d);return Kw(m,g,o,c)}function LE(s,e){const i=Om(s);return $w(i,e)}function UE(s,e,i){const r=i.docs.get(e._key),o=new ME(s);return new Gs(s,o,e._key,r,new yo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){KS(LS),Vc(new xo("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new al(new ZS(r.getProvider("auth-internal")),new t2(d,r.getProvider("app-check-internal")),v2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Yr(A0,S0,e),Yr(A0,S0,"esm2020")})();var yR="firebase",vR="12.9.0";Yr(yR,vR,"app");const _R={apiKey:"AIzaSyDM_UZv-hVnnC6Tw7TNRHM2sn7b6oEQjAk",authDomain:"werewolf-eb4e3.firebaseapp.com",projectId:"werewolf-eb4e3",storageBucket:"werewolf-eb4e3.firebasestorage.app",messagingSenderId:"170818985903",appId:"1:170818985903:web:bc5e13deef119b0c48195a"},ER=n_(_R),me=tR(ER),TR=["werewolf","seer","bodyguard","witch","hunter","fool","detective","silencer","cupid","villager"],Ad=4,Zr=["werewolf","seer","bodyguard","witch","hunter","fool","detective","silencer","cupid","villager"],zE={werewolf:1,seer:1,bodyguard:1,witch:0,hunter:0,fool:0,detective:0,silencer:0,cupid:0,villager:1},bR={lobby:"Lobby",night:"Night",day:"Day",voting:"Voting",final:"Final Plea",results:"Results"},Hs={night:45,day:120,voting:45,final:30};function AR(){const s="ww_player_id",e=localStorage.getItem(s);if(e)return e;const i=crypto.randomUUID();return localStorage.setItem(s,i),i}function Sd(){return localStorage.getItem("ww_player_name")??""}function vc(s){localStorage.setItem("ww_player_name",s)}function SR(){const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<5;i+=1)e+=s[Math.floor(Math.random()*s.length)];return e}function PE(s){const e=[...s];for(let i=e.length-1;i>0;i-=1){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function xR(s){const e=Math.max(1,Math.floor(s/4)),i=Array.from({length:e},()=>"werewolf");for(s>=5&&i.push("seer"),s>=6&&i.push("bodyguard"),s>=7&&i.push("hunter"),s>=8&&i.push("witch"),s>=9&&i.push("fool"),s>=10&&i.push("detective"),s>=11&&i.push("silencer"),s>=12&&i.push("cupid");i.length<s;)i.push("villager");return PE(i)}function wR(s){const e=s?.customRoles??{};return Zr.reduce((i,r)=>{const o=e[r],c=typeof o=="number"&&Number.isFinite(o)?Math.max(0,Math.floor(o)):0;return i[r]=c,i},{})}function RR(s,e){const i=Zr.reduce((o,c)=>o+(e[c]??0),0);if(i!==s)return{deck:null,error:`Custom roles must total ${s}. Current total is ${i}.`};if((e.werewolf??0)<1)return{deck:null,error:"Custom roles must include at least one werewolf."};const r=[];return Zr.forEach(o=>{const c=e[o]??0;for(let d=0;d<c;d+=1)r.push(o)}),{deck:PE(r)}}function R0(s){return s==="werewolf"}function CR(s,e){return R0(s)===R0(e)}function NR(s){switch(s){case"night":return"day";case"day":return"voting";case"voting":return"final";case"final":return"night";default:return"night"}}function DR(s){if(!s)return null;const e={};Object.values(s).forEach(r=>{e[r]=(e[r]??0)+1});const i=Object.entries(e).filter(([r])=>r!=="skip");return i.length===0?null:(i.sort((r,o)=>o[1]-r[1]),i.length>1&&i[0][1]===i[1][1]?{targetId:null,votes:i[0][1],isTie:!0}:{targetId:i[0][0],votes:i[0][1],isTie:!1})}function BE(s,e){if(!e)return{};const i=e.werewolfTarget,r=e.bodyguardProtect,o=i&&i!==r?i:void 0,c=e.seerInspect,d=s.find(x=>x.id===c),g=e.detectiveTargetA,m=e.detectiveTargetB,y=s.find(x=>x.id===g),E=s.find(x=>x.id===m),b={};return o&&(b.pendingVictimId=o),r&&(b.bodyguardSavedId=r),d&&(b.seerResult={targetId:d.id,role:d.role??"villager"}),y&&E&&(b.detectiveResult={targetIds:[y.id,E.id],sameTeam:CR(y.role,E.role)}),b}function VR(s,e,i,r){const o=BE(s,e),c=new Set,d={},g=e?.witchHeal?"heal":e?.witchPoisonTarget?"poison":"pass",m=e?.witchPoisonTarget,y=o.pendingVictimId??r,E=!!(!i?.healUsed&&g==="heal"&&y),b=!!(!i?.poisonUsed&&g==="poison"&&m);o.bodyguardSavedId&&(d.bodyguardSavedId=o.bodyguardSavedId),o.seerResult&&(d.seerResult=o.seerResult),o.detectiveResult&&(d.detectiveResult=o.detectiveResult),y&&!E&&c.add(y),E&&y&&(d.witchSavedId=y),b&&m&&(c.add(m),d.witchPoisonedId=m);const x=Array.from(c);return x.length>0&&(d.killedIds=x,d.killedId=x[0]),d}function C0(s){const e=s.filter(o=>o.isAlive),i=e.filter(o=>o.role==="werewolf").length,r=e.length-i;return i===0&&e.length>0?{winner:"villagers",reason:"All werewolves are eliminated."}:i>=r&&e.length>0?{winner:"werewolves",reason:"Werewolves have majority control."}:null}function xd(s,e){if(!e||e.length!==2)return s;const[i,r]=e,o=new Set(s);return o.has(i)&&!o.has(r)&&o.add(r),o.has(r)&&!o.has(i)&&o.add(i),Array.from(o)}const kE=q.createContext(null);function IR({children:s}){const e=q.useMemo(()=>AR(),[]),[i,r]=q.useState(Sd()),[o,c]=q.useState(""),[d,g]=q.useState(""),[m,y]=q.useState(null),[E,b]=q.useState(""),[x,L]=q.useState(""),[W,R]=q.useState(!1),[Y,B]=q.useState(!1),[it,ct]=q.useState(Date.now());q.useEffect(()=>{const et=setInterval(()=>ct(Date.now()),1e3);return()=>clearInterval(et)},[]),q.useEffect(()=>{if(!d)return;const et=de(me,"rooms",d),rt=gR(et,J=>{if(!J.exists()){y(null),g(""),L("Room ended.");return}y(J.data())});return()=>rt()},[d]),q.useEffect(()=>{if(!m||m.players?.[e]||Y)return;const et=Sd().trim();if(!et)return;B(!0);const rt=de(me,"rooms",m.code);Re(rt,{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:et,isHost:m.hostId===e,isAlive:!0,isReady:!1,joinedAt:Date.now()}}).finally(()=>B(!1))},[e,Y,m]),q.useEffect(()=>{if(!m||m.status==="lobby"||m.status==="results"||!m.players?.[e]?.isHost)return;const et=Hs[m.status];et&&(m.phaseEndsAt||Re(de(me,"rooms",m.code),{phaseEndsAt:Date.now()+et*1e3,updatedAt:Date.now()}))},[e,m]),q.useEffect(()=>{m&&(m.status==="lobby"||m.status==="results"||m.players?.[e]?.isHost&&m.phaseEndsAt&&(it<m.phaseEndsAt||vt()))},[it,e,m]);const dt=m?.players?.[e],wt=dt?.isHost??!1,Nt=async et=>{!m||!wt||m.status==="lobby"&&await Re(de(me,"rooms",m.code),{gameMode:et,updatedAt:Date.now()})},D=async(et,rt)=>{if(!m||!wt||m.status!=="lobby")return;const J=Math.max(0,Math.min(16,Math.floor(rt)));await Re(de(me,"rooms",m.code),{[`customRoles.${et}`]:J,updatedAt:Date.now()})},w=async()=>{const et=i.trim();if(!et)return L("Please enter a name."),null;vc(et),L(""),b("Creating room..."),R(!0);let rt="",J=!0,Tt=0;for(;J&&Tt<5;)Tt+=1,rt=SR(),J=(await w0(de(me,"rooms",rt))).exists();if(J)return R(!1),b(""),L("Could not create a unique room code. Try again."),null;const Dt=Date.now(),Zt={id:e,name:et,isHost:!0,isAlive:!0,isReady:!1,isSpectator:!1,joinedAt:Dt},ne={id:rt,code:rt,status:"lobby",hostId:e,gameMode:"classic",customRoles:{...zE},createdAt:Dt,updatedAt:Dt,players:{[e]:Zt},dayCount:0};return await bd(de(me,"rooms",rt),ne),g(rt),c(rt),b(""),R(!1),rt},C=async()=>{const et=i.trim(),rt=o.trim().toUpperCase();if(!et)return L("Please enter a name."),null;if(!rt)return L("Enter a room code."),null;vc(et),L(""),b("Joining room..."),R(!0);const J=de(me,"rooms",rt),Tt=await w0(J);if(!Tt.exists())return R(!1),b(""),L("Room not found."),null;const Dt=Date.now(),Zt=Tt.data().status!=="lobby";return await bd(J,{updatedAt:Dt,[`players.${e}`]:{id:e,name:et,isHost:!1,isAlive:!Zt,isReady:!1,isSpectator:Zt,joinedAt:Dt}},{merge:!0}),g(rt),c(rt),b(""),R(!1),rt},j=async()=>{if(!m)return;if(!dt){L("You are not in this room. Please rejoin.");return}const et=de(me,"rooms",m.code);await Re(et,{[`players.${e}.isReady`]:!dt.isReady,updatedAt:Date.now()})},O=async()=>{if(!m||!wt)return;const et=Object.values(m.players);if(et.length<Ad){L(`Need at least ${Ad} players to start.`);return}if(!et.every(Dt=>Dt.isReady)){L("Everyone must be ready to start.");return}const rt=m.gameMode??"classic";let J=[];if(rt==="custom"){const Dt=wR(m),Zt=RR(et.length,Dt);if(!Zt.deck){L(Zt.error??"Invalid custom role setup.");return}J=Zt.deck}else J=xR(et.length);const Tt={status:"night",nightStep:J.includes("cupid")?"cupid":"main",dayCount:1,updatedAt:Date.now(),phaseEndsAt:Date.now()+Hs.night*1e3,votes:_t(),finalVotes:_t(),finalAccusedId:_t(),nightActions:_t(),bodyguardLastProtectedId:_t(),lovers:_t(),silencedPlayerId:_t(),silencedDayCount:_t(),witchState:{healUsed:!1,poisonUsed:!1},witchTurn:_t(),lastNight:_t(),lastEliminated:_t(),hunterPending:_t(),winner:_t(),winReason:_t(),chat:_t()};et.forEach((Dt,Zt)=>{Tt[`players.${Dt.id}.role`]=J[Zt],Tt[`players.${Dt.id}.isAlive`]=!0,Tt[`players.${Dt.id}.isReady`]=!1,Tt[`players.${Dt.id}.isSpectator`]=!1}),await Re(de(me,"rooms",m.code),Tt)},z=async et=>{if(!m||!dt)return;const rt=de(me,"rooms",m.code);await Re(rt,{[`votes.${e}`]:et,updatedAt:Date.now()})},N=async et=>{const rt=et.trim();!m||!rt||m.status==="lobby"&&m.players?.[e]&&(vc(rt),r(rt),await Re(de(me,"rooms",m.code),{[`players.${e}.name`]:rt,updatedAt:Date.now()}))},Yt=async et=>{!m||!dt||m.status==="final"&&dt.isAlive&&m.finalAccusedId!==e&&await Re(de(me,"rooms",m.code),{[`finalVotes.${e}`]:et,updatedAt:Date.now()})},ye=async et=>{if(!m||!dt||m.status!=="night"||m.nightStep!=="main"||!dt.isAlive)return;const J={werewolf:["werewolfTarget"],bodyguard:["bodyguardProtect"],seer:["seerInspect"],witch:[],hunter:[],fool:[],detective:["detectiveTargetA","detectiveTargetB"],silencer:["silencerTarget"],cupid:[],villager:[]}[dt.role??"villager"],Tt=Object.entries(et).filter(([pe])=>J.includes(pe));if(Tt.length===0)return;const Dt=Tt.find(([pe])=>pe==="bodyguardProtect")?.[1];if(Dt&&m.bodyguardLastProtectedId===Dt)return;const Zt=Tt.find(([pe])=>pe==="silencerTarget")?.[1];if(Zt&&Zt===e||Zt&&!m.players[Zt]?.isAlive)return;const ne=de(me,"rooms",m.code),Mt={updatedAt:Date.now()};Tt.forEach(([pe,Ie])=>{Mt[`nightActions.${pe}`]=Ie}),await Re(ne,Mt)},K=async(et,rt)=>{if(!m||!dt||m.status!=="night"||m.nightStep!=="witch"||!dt.isAlive||dt.role!=="witch")return;const J=m.witchState??{healUsed:!1,poisonUsed:!1},Tt=m.witchTurn?.pendingVictimId,Dt={updatedAt:Date.now(),"nightActions.witchHeal":_t(),"nightActions.witchPoisonTarget":_t()};if(et==="heal"){if(J.healUsed||!Tt)return;Dt["nightActions.witchHeal"]=!0}else if(et==="poison"){if(J.poisonUsed||!rt||!m.players[rt]?.isAlive)return;Dt["nightActions.witchPoisonTarget"]=rt}await Re(de(me,"rooms",m.code),Dt)},ut=async et=>{if(!m||!dt||m.status!=="night"||m.nightStep!=="cupid"||!dt.isAlive||dt.role!=="cupid"||et.length<1||et.length>2)return;const[rt,J]=et;rt&&(J&&rt===J||m.players[rt]&&(J&&!m.players[J]||await Re(de(me,"rooms",m.code),{"nightActions.cupidLoverIds":et,updatedAt:Date.now()})))},vt=async()=>{if(!m||!wt)return;const et=Object.values(m.players),rt=NR(m.status),J={status:rt,updatedAt:Date.now(),votes:_t(),finalVotes:_t(),phaseEndsAt:rt!=="lobby"&&rt!=="results"?Date.now()+Hs[rt]*1e3:_t()},Tt=[];if(m.status==="night"){if(m.nightStep==="cupid"){const se=m.nightActions?.cupidLoverIds;if(!se||se.length!==2){J.status="night",J.phaseEndsAt=Date.now()+Hs.night*1e3,await Re(de(me,"rooms",m.code),J);return}J.status="night",J.lovers=se,J.nightActions=_t(),J.nightStep="main",J.phaseEndsAt=Date.now()+Hs.night*1e3,await Re(de(me,"rooms",m.code),J);return}const Mt=BE(et,m.nightActions),pe=et.find(se=>se.role==="witch"&&se.isAlive),Ie=m.witchState??{healUsed:!1,poisonUsed:!1},kn=pe&&(!Ie.healUsed||!Ie.poisonUsed);if(!(m.nightStep==="witch")&&kn){J.status="night",J.nightStep="witch",J.witchTurn={pendingVictimId:Mt.pendingVictimId,action:"pass"},J.phaseEndsAt=Date.now()+Hs.night*1e3,await Re(de(me,"rooms",m.code),J);return}const Gt=m.witchTurn?.pendingVictimId??Mt.pendingVictimId,ie=VR(et,m.nightActions,Ie,Gt);let be=ie.killedIds??(ie.killedId?[ie.killedId]:[]);be=xd(be,m.lovers),be.length>0&&(ie.killedIds=be,ie.killedId=be[0]),be.forEach(se=>{J[`players.${se}.isAlive`]=!1,Tt.push(se)});const _a=!!(m.nightActions?.witchHeal&&Gt&&!(m.witchState?.healUsed??!1)),Gi=!!(m.nightActions?.witchPoisonTarget&&!(m.witchState?.poisonUsed??!1));J.witchState={healUsed:!!((m.witchState?.healUsed??!1)||_a),poisonUsed:!!((m.witchState?.poisonUsed??!1)||Gi)},m.nightActions?.bodyguardProtect&&(J.bodyguardLastProtectedId=m.nightActions.bodyguardProtect),J.lastNight=ie,J.nightActions=_t(),J.witchTurn=_t(),J.nightStep="main",m.nightActions?.silencerTarget&&(J.silencedPlayerId=m.nightActions.silencerTarget,J.silencedDayCount=m.dayCount||1)}if(m.status==="voting"){const Mt=DR(m.votes);Mt?.targetId?(J.status="final",J.finalAccusedId=Mt.targetId,J.finalAccusedVotes=Mt.votes,J.phaseEndsAt=Date.now()+Hs.final*1e3):(J.status="night",J.finalAccusedId=_t(),J.finalVotes=_t(),J.finalAccusedVotes=_t()),await Re(de(me,"rooms",m.code),J);return}if(m.status==="final"){const Mt=m.finalAccusedId,pe=m.finalVotes??{},Ie=Object.values(pe).filter(Gt=>Gt==="kill").length,kn=Object.values(pe).filter(Gt=>Gt==="save").length,yi=Ie>kn;if(Mt&&yi){const Gt=xd([Mt],m.lovers);if(Gt.forEach(be=>{J[`players.${be}.isAlive`]=!1,Tt.push(be)}),J.lastEliminated=Gt,et.find(be=>be.id===Mt)?.role==="fool"){J.status="results",J.phaseEndsAt=_t(),J.winner="fool",J.winReason="The Fool was voted out and wins instantly.",await Re(de(me,"rooms",m.code),J);return}}else J.lastEliminated=[];J.status="night",J.finalAccusedId=_t(),J.finalVotes=_t(),J.finalAccusedVotes=_t()}m.status==="day"&&m.silencedDayCount&&m.silencedDayCount===m.dayCount&&(J.silencedPlayerId=_t(),J.silencedDayCount=_t());const Dt=Tt.find(Mt=>et.find(Ie=>Ie.id===Mt)?.role==="hunter");Dt&&(J.hunterPending=Dt);const Zt=et.map(Mt=>Tt.includes(Mt.id)?{...Mt,isAlive:!1}:Mt),ne=C0(Zt);ne&&!Dt?(J.status="results",J.phaseEndsAt=_t(),J.winner=ne.winner,J.winReason=ne.reason):J.status==="night"&&(J.dayCount=(m.dayCount||1)+1,J.nightStep="main",J.witchTurn=_t(),J.nightActions=_t()),await Re(de(me,"rooms",m.code),J)},zt=async()=>{if(!m||!wt)return;const et={status:"lobby",updatedAt:Date.now(),phaseEndsAt:_t(),nightStep:_t(),bodyguardLastProtectedId:_t(),votes:_t(),nightActions:_t(),finalVotes:_t(),finalAccusedId:_t(),finalAccusedVotes:_t(),witchState:_t(),witchTurn:_t(),lastNight:_t(),lastEliminated:_t(),hunterPending:_t(),lovers:_t(),silencedPlayerId:_t(),silencedDayCount:_t(),winner:_t(),winReason:_t()};Object.values(m.players).forEach(rt=>{et[`players.${rt.id}.isReady`]=!1,et[`players.${rt.id}.role`]=_t(),et[`players.${rt.id}.isAlive`]=!0,et[`players.${rt.id}.isSpectator`]=!1}),await Re(de(me,"rooms",m.code),et)},$t=async()=>{if(!m)return;const et=de(me,"rooms",m.code),rt=Object.values(m.players).filter(Tt=>Tt.id!==e),J={[`players.${e}`]:_t(),updatedAt:Date.now()};if(wt&&rt.length>0){const Tt=rt[0];J.hostId=Tt.id,J[`players.${Tt.id}.isHost`]=!0}await Re(et,J),g(""),y(null)},I=async()=>{if(!m)return;const et=i.trim()||Sd().trim();if(!et){L("Enter your name to rejoin.");return}vc(et);const rt=m.status!=="lobby";await bd(de(me,"rooms",m.code),{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:et,isHost:m.hostId===e,isAlive:!rt,isReady:!1,isSpectator:rt,joinedAt:Date.now()}},{merge:!0})},$=async et=>{if(!m||!dt)return;if(!dt.isAlive){L("Eliminated players cannot chat.");return}if((m.status==="day"||m.status==="final")&&m.silencedPlayerId===e&&m.silencedDayCount===m.dayCount){L("You are silenced for today.");return}if(m.status==="night"&&dt.role!=="werewolf"){L("Only werewolves can chat at night.");return}const rt=et.trim();rt&&await Re(de(me,"rooms",m.code),{chat:hR({id:crypto.randomUUID(),senderId:e,senderName:dt.name,message:rt,audience:m.status==="night"?"werewolves":"all",createdAt:Date.now()}),updatedAt:Date.now()})},lt=async et=>{if(!m||!m.players?.[e]?.isHost||!m.players?.[et]||et===e)return;const rt={[`players.${et}`]:_t(),updatedAt:Date.now()};m.hostId===et&&(rt.hostId=e,rt[`players.${e}.isHost`]=!0),await Re(de(me,"rooms",m.code),rt)},ht=async et=>{if(!m||!dt||!m.hunterPending||m.hunterPending!==e||!et)return;const rt=m.players[et];if(!rt||!rt.isAlive)return;const J=Object.values(m.players),Tt=xd([et],m.lovers),Dt=J.map(Mt=>Tt.includes(Mt.id)?{...Mt,isAlive:!1}:Mt),Zt=C0(Dt),ne={hunterPending:_t(),lastEliminated:[...m.lastEliminated??[],...Tt],updatedAt:Date.now()};Tt.forEach(Mt=>{ne[`players.${Mt}.isAlive`]=!1}),Zt&&(ne.status="results",ne.phaseEndsAt=_t(),ne.winner=Zt.winner,ne.winReason=Zt.reason),await Re(de(me,"rooms",m.code),ne)},St=m?.phaseEndsAt?Math.max(0,Math.ceil((m.phaseEndsAt-it)/1e3)):null,Ct={playerId:e,playerName:i,setPlayerName:r,roomCode:o,setRoomCode:c,activeCode:d,setActiveCode:g,updatePlayerName:N,room:m,status:E,error:x,loading:W,me:dt,isHost:wt,rolesPalette:TR,phaseLabels:bR,minPlayers:Ad,countdown:St,setGameMode:Nt,setCustomRoleCount:D,createRoom:w,joinRoom:C,leaveRoom:$t,rejoinRoom:I,toggleReady:j,startGame:O,advancePhase:vt,resetLobby:zt,setVote:z,setFinalVote:Yt,setNightAction:ye,setWitchAction:K,setCupidAction:ut,sendChat:$,sendHunterShot:ht,removePlayer:lt};return S.jsx(kE.Provider,{value:Ct,children:s})}function HE(){const s=q.useContext(kE);if(!s)throw new Error("useRoom must be used within RoomProvider");return s}const qE=q.createContext(null),N0="ww_theme";function OR({children:s}){const[e,i]=q.useState(()=>localStorage.getItem(N0)==="light"?"light":"dark");q.useEffect(()=>{const o=document.documentElement;e==="light"?o.classList.add("theme-light"):o.classList.remove("theme-light"),localStorage.setItem(N0,e)},[e]);const r=q.useMemo(()=>({theme:e,toggleTheme:()=>i(o=>o==="dark"?"light":"dark")}),[e]);return S.jsx(qE.Provider,{value:r,children:s})}function FE(){const s=q.useContext(qE);if(!s)throw new Error("useTheme must be used within ThemeProvider");return s}const MR=[{icon:"",title:"Werewolves",text:"Hunt at night"},{icon:"",title:"Seer",text:"Reveal one role"},{icon:"",title:"Bodyguard",text:"Protect one player"},{icon:"",title:"Witch",text:"Heal or poison once"},{icon:"",title:"Hunter",text:"Final revenge shot"},{icon:"",title:"Fool",text:"Wins if voted out"},{icon:"",title:"Detective",text:"Compare two players"},{icon:"",title:"Silencer",text:"Mutes a voice"},{icon:"",title:"Cupid",text:"Links two lovers"}];function jR(){const[s,e]=q.useState("create"),i=Gc(),{theme:r,toggleTheme:o}=FE(),{playerName:c,setPlayerName:d,roomCode:g,setRoomCode:m,room:y,loading:E,status:b,error:x,createRoom:L,joinRoom:W}=HE(),R=async()=>{const B=await L();B&&i(`/room/${B}`)},Y=async()=>{const B=await W();B&&i(`/room/${B}`)};return S.jsx("div",{className:"h-dvh overflow-hidden bg-ashen text-slate-100",children:S.jsxs("div",{className:"relative h-full overflow-hidden",children:[S.jsx("div",{className:"hero-glow"}),S.jsx("div",{className:"lobby-fireflies"}),S.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-80",children:[S.jsx("div",{className:"parallax-layer parallax-slow"}),S.jsx("div",{className:"parallax-layer parallax-fast"})]}),S.jsxs("div",{className:"lobby-shell relative z-10 mx-auto flex h-full w-full max-w-7xl flex-col px-4 py-4 sm:px-6 sm:py-5 lg:px-8",children:[S.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950 shadow-ember",children:"W"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-ashen-300 sm:text-xs",children:"Werewolf Online"}),S.jsx("h1",{className:"font-display text-2xl sm:text-3xl",children:"Night Council"})]})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[S.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"Social Deduction"}),S.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"One Screen Lobby"}),S.jsx("button",{onClick:o,className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:r==="dark"?"Light Mode":"Dark Mode"})]})]}),S.jsxs("main",{className:"mt-3 grid min-h-0 flex-1 gap-3 lg:grid-cols-[minmax(0,1.15fr)_minmax(280px,0.85fr)] xl:gap-4",children:[S.jsxs("section",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/70 p-3 shadow-inky backdrop-blur sm:p-4",children:[S.jsxs("div",{className:"grid gap-3 md:grid-cols-[minmax(0,1.1fr)_minmax(220px,0.9fr)]",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("div",{className:"inline-flex items-center gap-2 rounded-full border border-ashen-600 bg-ashen-800/70 px-3 py-1 text-[11px] uppercase tracking-[0.22em] text-ashen-200",children:"The Village Awaits"}),S.jsx("h2",{className:"mt-2 font-display text-2xl leading-tight sm:text-3xl xl:text-4xl",children:"Bluff hard. Vote smart. Survive the night."}),S.jsx("p",{className:"lobby-tight-copy mt-2 text-sm text-ashen-200",children:"Join your friends, receive a secret role, and outplay the pack before dawn."})]}),S.jsxs("div",{className:"hero-art lobby-float-card",children:[S.jsx("div",{className:"mist"}),S.jsx("div",{className:"moon-orbit",children:S.jsx("div",{className:"moon"})}),S.jsx("svg",{viewBox:"0 0 420 180",className:"wolf-silhouette","aria-hidden":"true",children:S.jsx("path",{fill:"currentColor",d:"M0 160h420v20H0zM85 150l28-22 15 5 18-20 24 12 18-13 28 10 16-9 25 11 20-15 26 13 17-6 29 14v40H85z"})})]})]}),S.jsxs("div",{className:"mt-3 grid gap-2 rounded-2xl border border-ashen-700 bg-ashen-900/80 p-3 sm:p-4",children:[S.jsx("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/60 p-1",children:S.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[S.jsx("button",{onClick:()=>e("create"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${s==="create"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Create"}),S.jsx("button",{onClick:()=>e("join"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${s==="join"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Join"})]})}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Your name"}),S.jsx("input",{value:c,onChange:B=>d(B.target.value),placeholder:"Enter a nickname",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm text-ashen-100 outline-none focus:border-ember"})]}),s==="join"&&S.jsxs("div",{className:"grid gap-2",children:[S.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Room code"}),S.jsx("input",{value:g,onChange:B=>m(B.target.value.toUpperCase()),placeholder:"ABCDE",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm uppercase tracking-[0.2em] text-ashen-100 outline-none focus:border-ember"})]}),s==="create"?S.jsx("button",{onClick:R,disabled:E,className:"lobby-cta rounded-lg px-5 py-2.5 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Summon Room"}):S.jsx("button",{onClick:Y,disabled:E,className:"rounded-lg border border-ashen-500 bg-ashen-800/40 px-5 py-2.5 text-sm font-semibold text-ashen-100 transition hover:border-ember disabled:opacity-60",children:"Enter Room"}),S.jsxs("div",{className:"min-h-5 text-xs sm:text-sm",children:[b&&S.jsx("p",{className:"text-ashen-300",children:b}),x&&S.jsx("p",{className:"text-ember",children:x})]})]}),S.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:MR.map(B=>S.jsxs("div",{className:"lobby-float-card rounded-xl border border-ashen-700 bg-ashen-900/80 px-3 py-2.5",children:[S.jsx("p",{className:"text-lg leading-none",children:B.icon}),S.jsx("p",{className:"mt-1 font-display text-sm",children:B.title}),S.jsx("p",{className:"text-xs text-ashen-300",children:B.text})]},B.title))})]}),S.jsxs("aside",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/80 p-3 shadow-inky backdrop-blur sm:p-4",children:[S.jsx("h3",{className:"font-display text-lg sm:text-xl",children:"Tonight's Briefing"}),S.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-200 sm:grid-cols-3 lg:grid-cols-1",children:[S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[S.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Night"}),S.jsx("p",{className:"mt-1 text-xs",children:"Werewolves strike. Seer, Bodyguard, and Witch act in secret."})]}),S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[S.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Day"}),S.jsx("p",{className:"mt-1 text-xs",children:"Debate, accuse, and force lies into the open."})]}),S.jsxs("div",{className:"lobby-optional rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[S.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Vote"}),S.jsx("p",{className:"mt-1 text-xs",children:"Majority decides who faces elimination."})]})]}),S.jsxs("div",{className:"mt-3 min-h-0 flex-1 rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[S.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Players in room"}),S.jsx("div",{className:"mt-2 flex h-full max-h-40 flex-wrap content-start gap-2 overflow-y-auto pr-1 text-xs text-ashen-200",children:y?Object.values(y.players).map(B=>S.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-700/80 px-3 py-1",children:B.name},B.id)):"Waiting for players"})]})]})]})]})]})})}const LR={werewolf:"",seer:"",bodyguard:"",witch:"",hunter:"",fool:"",detective:"",silencer:"",cupid:"",villager:""},UR=["#F7D7C4","#E9C4A3","#D8A57E","#B98364","#8D5E3C","#7C4A2B"],zR=["#1F2937","#4B2E2A","#A16207","#6B7280","#111827","#3F2E1E"],PR=["#22D3EE","#F97316","#A78BFA","#10B981","#F43F5E","#38BDF8"],BR=["none","glasses","hat","scar","earring","headband"],kR=["round","sleepy","wink","focused"],HR=["smile","smirk","neutral","open"],qR=["short","swoop","curly","spiky"],FR=["hoodie","tee","collar"];function Za(s,e){return s[e%s.length]}function GR(s){let e=0;for(let i=0;i<s.length;i+=1)e=(e*31+s.charCodeAt(i))%1e4;return e}function QR({seed:s,sizeClass:e="h-14 w-14"}){const i=Za(UR,s),r=Za(zR,s+3),o=Za(PR,s+7),c=Za(BR,s+11),d=Za(kR,s+13),g=Za(HR,s+17),m=Za(qR,s+19),y=Za(FR,s+23),E=c==="glasses",b=c==="hat",x=c==="scar",L=c==="earring",W=c==="headband";return S.jsxs("svg",{viewBox:"0 0 140 140",className:e,"aria-hidden":"true",children:[S.jsx("rect",{x:"0",y:"0",width:"140",height:"140",fill:"none"}),S.jsx("circle",{cx:"70",cy:"56",r:"26",fill:i}),S.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),m==="short"&&S.jsx("path",{d:"M42 50c6-12 16-18 28-18 12 0 22 6 28 18",fill:r}),m==="swoop"&&S.jsx("path",{d:"M36 54c8-18 24-26 40-26 12 0 22 6 28 14",fill:r}),m==="curly"&&S.jsx("path",{d:"M40 54c6-14 18-20 30-20 12 0 22 6 30 20",fill:r}),m==="spiky"&&S.jsx("path",{d:"M42 54l10-16 10 10 8-12 8 12 8-10 12 16",fill:r}),S.jsx("path",{d:"M42 62c4 14 16 24 28 24s24-10 28-24",fill:"none"}),b&&S.jsxs(S.Fragment,{children:[S.jsx("rect",{x:"36",y:"28",width:"68",height:"10",fill:"#0F172A"}),S.jsx("rect",{x:"50",y:"14",width:"40",height:"18",rx:"4",fill:"#0F172A"})]}),E&&S.jsxs(S.Fragment,{children:[S.jsx("rect",{x:"44",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),S.jsx("rect",{x:"76",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),S.jsx("rect",{x:"64",y:"56",width:"12",height:"2",fill:"#111827"})]}),W&&S.jsx("rect",{x:"38",y:"44",width:"64",height:"8",rx:"4",fill:"#F97316"}),x&&S.jsx("rect",{x:"78",y:"46",width:"18",height:"3",rx:"1.5",fill:"#9CA3AF"}),L&&S.jsx("circle",{cx:"96",cy:"70",r:"4",fill:"#FBBF24"}),d==="round"&&S.jsxs(S.Fragment,{children:[S.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),S.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"})]}),d==="sleepy"&&S.jsxs(S.Fragment,{children:[S.jsx("rect",{x:"56",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"}),S.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="wink"&&S.jsxs(S.Fragment,{children:[S.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),S.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="focused"&&S.jsxs(S.Fragment,{children:[S.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),S.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"}),S.jsx("path",{d:"M54 54h12",stroke:"#1F2937",strokeWidth:"2"}),S.jsx("path",{d:"M74 54h12",stroke:"#1F2937",strokeWidth:"2"})]}),g==="smile"&&S.jsx("path",{d:"M60 74c6 6 14 6 20 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="smirk"&&S.jsx("path",{d:"M62 74c6 3 12 3 18 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="neutral"&&S.jsx("path",{d:"M62 74h18",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="open"&&S.jsx("circle",{cx:"70",cy:"76",r:"5",fill:"#1F2937"}),y==="hoodie"&&S.jsx("path",{d:"M38 132c6-20 22-32 32-32h0c10 0 26 12 32 32",fill:o}),y==="tee"&&S.jsx("path",{d:"M32 132c10-26 24-36 38-36h0c14 0 28 10 38 36",fill:o}),y==="collar"&&S.jsxs(S.Fragment,{children:[S.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),S.jsx("path",{d:"M60 90l10 12 10-12",fill:"#F8FAFC",opacity:"0.8"})]})]})}function YR(){const s=Gc(),{code:e}=pb(),[i,r]=q.useState(""),[o,c]=q.useState(""),[d,g]=q.useState(!1),[m,y]=q.useState(!1),{theme:E,toggleTheme:b}=FE(),{playerId:x,setActiveCode:L,updatePlayerName:W,room:R,error:Y,me:B,isHost:it,countdown:ct,phaseLabels:dt,setGameMode:wt,setCustomRoleCount:Nt,toggleReady:D,rejoinRoom:w,leaveRoom:C,startGame:j,advancePhase:O,resetLobby:z,setVote:N,setNightAction:Yt,setWitchAction:ye,setFinalVote:K,setCupidAction:ut,sendChat:vt,sendHunterShot:zt,removePlayer:$t}=HE();q.useEffect(()=>{e&&L(e)},[e,L]),q.useEffect(()=>{c(B?.name??"")},[B?.name]),q.useEffect(()=>{if(!R||R.status==="lobby"){g(!1),y(!1);return}B?.role&&(m||d||g(!0))},[B?.role,m,R,d]),q.useEffect(()=>{if(!d)return;const st=setTimeout(()=>{g(!1),y(!0)},2600);return()=>clearTimeout(st)},[d]);const I=q.useMemo(()=>R?Object.values(R.players).sort((st,bt)=>st.joinedAt!==bt.joinedAt?st.joinedAt-bt.joinedAt:st.id.localeCompare(bt.id)):[],[R]),$=q.useMemo(()=>I.filter(st=>st.isAlive),[I]),lt=R?.gameMode??"classic",ht=q.useMemo(()=>R?Zr.reduce((st,bt)=>{const pt=R.customRoles?.[bt];return st[bt]=typeof pt=="number"&&Number.isFinite(pt)?Math.max(0,Math.floor(pt)):0,st},{}):{...zE},[R]),St=Zr.reduce((st,bt)=>st+(ht[bt]??0),0),Ct=(ht.werewolf??0)>0,et=St===I.length,rt=lt==="classic"||Ct&&et,J=R?.votes?.[x],Tt=R?.nightActions,Dt=R?.lastNight,Zt=R?.status==="night",ne=R?.nightStep==="main",Mt=R?.status==="night"&&R?.nightStep==="witch",pe=R?.status==="night"&&R?.nightStep==="cupid",Ie=R?.status==="final",kn=R?.witchTurn?.pendingVictimId?R.players[R.witchTurn.pendingVictimId]?.name??"Unknown":null,yi=R?.players?.[x],Gt=B?.role==="werewolf",ie=R?.status==="day"&&R?.silencedPlayerId===x&&R?.silencedDayCount===R?.dayCount,be=R?.lovers??[],_a=be.includes(x),Gi=_a?be.find(st=>st!==x):void 0,se=Gi?R?.players?.[Gi]:void 0,Qi=be.length===2&&m,ai=pe?"Waiting for Cupid to act.":"Waiting for the Witch to act.",Yi=!!(B?.isAlive&&!ie&&(!Zt||Gt)),yn=R?.hunterPending===x,Js=!!(R?.hunterPending&&!yn),Ws=!!(Mt&&B?.isAlive&&B.role==="witch"),tr=!!(Ie&&yi?.isAlive&&R?.finalAccusedId!==x),ds=!!(Qi&&_a&&se),Cn=q.useMemo(()=>R?Object.values(R.players).filter(st=>st.role==="werewolf"):[],[R]),Ue=R?.status==="day"&&!!(B?.role==="seer"&&Dt?.seerResult||B?.role==="detective"&&Dt?.detectiveResult),vn=!!(ds||R?.status==="night"&&B?.isAlive||Mt||pe||Ue||R?.status==="voting"&&B?.isAlive||Ie||R?.status==="results"||Js||yn),ve=R?.chat?.filter(st=>(st.audience??"all")==="all"||Gt),ms=q.useMemo(()=>{if(!R)return[];const st=[];if(R.lastNight){const bt=R.lastNight.killedIds??(R.lastNight.killedId?[R.lastNight.killedId]:[]);if(bt.length>0){const pt=bt.map(en=>R.players[en]?.name??"Someone").join(", ");st.push(`Night: ${pt} ${bt.length===1?"was":"were"} taken.`)}else st.push("Night: No one was eliminated.")}if(R.lastEliminated)if(R.lastEliminated.length>0){const bt=R.lastEliminated.map(pt=>R.players[pt]?.name??"Someone").join(", ");st.push(`Vote: ${bt} ${R.lastEliminated.length===1?"was":"were"} eliminated.`)}else st.push("Vote: No elimination.");return st},[R]),Ki=q.useRef(null);q.useEffect(()=>{const st=Ki.current;st&&(st.scrollTop=st.scrollHeight)},[ve?.length,R?.status]);const ps=async()=>{await vt(i),r("")},Hn=async()=>{await C(),s("/")};return R?S.jsx("div",{className:"min-h-screen bg-ashen text-slate-100 lg:h-screen lg:overflow-hidden",children:S.jsxs("div",{className:"relative overflow-hidden",children:[S.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-70",children:[S.jsx("div",{className:"parallax-layer parallax-slow"}),S.jsx("div",{className:"parallax-layer parallax-fast"})]}),S.jsx("div",{className:"hero-glow"}),S.jsxs("div",{className:"relative z-10 mx-auto px-5 py-6 lg:h-full",children:[d&&S.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-ashen/90 px-6",children:S.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-ashen-700 bg-ashen-900/90 p-8 text-center shadow-inky",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Role Draw"}),S.jsx("h2",{className:"mt-3 font-display text-2xl",children:"Spinning the wheel..."}),S.jsx("div",{className:"mt-6 grid place-items-center",children:S.jsx("div",{className:"role-wheel"})}),S.jsx("p",{className:"mt-4 text-sm text-ashen-300",children:"Your role is being revealed."})]})}),S.jsxs("header",{className:"flex flex-col gap-4 lg:grid lg:grid-cols-[1fr_auto_1fr] lg:items-center",children:[S.jsxs("div",{className:"flex items-center gap-3 lg:justify-self-start",children:[S.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950",children:"W"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-ashen-400",children:"Werewolf Online"}),S.jsxs("h1",{className:"font-display text-2xl",children:["Room ",R.code]})]})]}),S.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 rounded-full border border-ember/40 bg-ember/10 px-4 py-2 text-xs text-ember-100 shadow-[0_0_20px_rgba(245,176,76,0.35)]",children:[S.jsx("span",{className:"uppercase tracking-[0.28em]",children:"Stage"}),S.jsx("span",{className:"rounded-full border border-ember/30 bg-ashen-900/70 px-2 py-1 text-[11px] text-ashen-100",children:dt[R.status]}),Mt&&S.jsx("span",{className:"rounded-full border border-emerald-500/40 bg-emerald-500/10 px-2 py-1 text-[11px] text-emerald-200",children:"Witch Turn"}),ct!==null&&R.status!=="lobby"&&R.status!=="results"&&S.jsxs("span",{className:"rounded-full border border-ember/40 bg-ember/20 px-2 py-1 text-[11px] font-semibold text-ember",children:[ct,"s"]})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-3 lg:justify-self-end",children:[R.status==="lobby"&&B&&S.jsx("button",{onClick:D,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:B.isReady?"Unready":"Ready"}),R.status==="lobby"&&!B&&S.jsx("button",{onClick:w,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Rejoin Room"}),R.status==="lobby"&&it&&S.jsx("button",{onClick:j,disabled:!rt,className:"h-9 min-w-[110px] rounded-lg bg-ember px-3 py-2 text-xs font-semibold text-slate-950 disabled:cursor-not-allowed disabled:opacity-60",children:"Start Game"}),it&&R.status!=="results"&&S.jsx("button",{onClick:O,className:"h-9 min-w-[110px] rounded-lg bg-ember px-3 py-2 text-xs font-semibold text-slate-950",children:"Advance Phase"}),it&&S.jsx("button",{onClick:z,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Reset to Lobby"}),S.jsx("button",{onClick:b,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:E==="dark"?"Light Mode":"Dark Mode"}),S.jsx("button",{onClick:Hn,className:"h-9 min-w-[110px] rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Leave Room"})]})]}),ms.length>0&&S.jsx("div",{className:"mt-3 rounded-2xl border border-ashen-700 bg-ashen-900/70 px-4 py-2 text-xs text-ashen-200 shadow-inky",children:S.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[S.jsx("span",{className:"rounded-full bg-ember/15 px-2 py-1 text-[10px] uppercase tracking-[0.3em] text-ember",children:"Events"}),ms.map(st=>S.jsx("span",{className:"rounded-full border border-ashen-700 bg-ashen-800/60 px-3 py-1",children:st},st))]})}),S.jsxs("main",{className:"mt-4 grid gap-4 lg:h-[calc(100vh-160px)] lg:grid-cols-[1.25fr_0.75fr] lg:overflow-hidden",children:[S.jsx("section",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:S.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 lg:flex lg:h-full lg:flex-col",children:[S.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Players"}),S.jsx("h3",{className:"font-display text-xl",children:"Village Roster"})]}),S.jsxs("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:[$.length," alive / ",I.length," total"]})]}),S.jsx("div",{className:"mt-2 grid flex-1 auto-rows-fr gap-2 overflow-hidden sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:16}).map((st,bt)=>{const pt=I[bt];if(!pt)return S.jsx("div",{className:"rounded-2xl border border-dashed border-ashen-700/60 bg-ashen-900/40 p-3 text-xs text-ashen-500",children:"Empty slot"},`slot-${bt}`);const en=pt.id===x,Nn=(en||R.status==="results")&&pt.role,er=(R.status==="night"?B?.role==="werewolf"?[Tt?.werewolfTarget]:B?.role==="bodyguard"?[Tt?.bodyguardProtect]:B?.role==="seer"?[Tt?.seerInspect]:B?.role==="witch"?[Tt?.witchPoisonTarget]:B?.role==="silencer"?[Tt?.silencerTarget]:B?.role==="detective"?[Tt?.detectiveTargetA,Tt?.detectiveTargetB]:B?.role==="cupid"&&pe?Tt?.cupidLoverIds??[]:[]:[]).filter(Boolean),qn=R.status==="voting"&&J===pt.id||R.status==="night"&&er.includes(pt.id),vi=R.status==="voting"?Object.values(R.votes??{}).filter(we=>we===pt.id).length:0,nr=R.status==="voting"?Object.entries(R.votes??{}).filter(([,we])=>we===pt.id).map(([we])=>R.players[we]?.name??"Someone"):[],_i=R.status==="voting"?!!B?.isAlive:R.status==="night"?!!(B?.isAlive&&(pe&&B.role==="cupid"||ne&&(B.role==="werewolf"||B.role==="bodyguard"||B.role==="seer"||B.role==="detective"||B.role==="silencer"))):!!yn;return S.jsxs("div",{onClick:()=>{if(_i&&pt.isAlive){if(R.status==="voting"){N(pt.id===x?"skip":pt.id);return}if(R.status==="night"){if(pe){if(B?.role!=="cupid")return;const we=Tt?.cupidLoverIds??[];if(we.length===0){ut([pt.id]);return}if(we.length===1){if(we[0]===pt.id)return;ut([we[0],pt.id]);return}if(we.length===2){if(we.includes(pt.id))return;ut([we[0],pt.id])}return}if(!ne)return;if(B?.role==="werewolf"&&pt.id!==x&&Yt({werewolfTarget:pt.id}),B?.role==="bodyguard"){if(pt.id===R.bodyguardLastProtectedId)return;Yt({bodyguardProtect:pt.id})}if(B?.role==="seer"&&pt.id!==x&&Yt({seerInspect:pt.id}),B?.role==="detective"){const we=Tt?.detectiveTargetA,gs=Tt?.detectiveTargetB;we?!gs&&pt.id!==we?Yt({detectiveTargetB:pt.id}):pt.id!==we&&Yt({detectiveTargetB:pt.id}):Yt({detectiveTargetA:pt.id})}B?.role==="silencer"&&pt.id!==x&&Yt({silencerTarget:pt.id});return}yn&&pt.id!==x&&zt(pt.id)}},className:`player-card relative flex h-full flex-col overflow-hidden rounded-2xl border bg-ashen-800/70 transition ${en?"border-ember shadow-[0_0_0_2px_rgba(245,176,76,0.35),0_14px_24px_rgba(0,0,0,0.35)]":"border-ashen-700"} ${pt.isAlive?"opacity-100":"opacity-40"} ${qn?"outline outline-2 outline-emerald-400/80":""} ${_i?"cursor-pointer":""}`,children:[S.jsxs("div",{className:"absolute left-2 top-2 z-10 flex items-center gap-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-ashen-100",children:[S.jsx("span",{children:pt.name}),en&&S.jsx("span",{className:"text-[9px] text-ember",children:"You"})]}),S.jsxs("div",{className:"relative grid flex-1 place-items-center gap-2 bg-ashen-900/40 p-3 pt-7",children:[S.jsx("div",{className:"relative grid h-20 w-full place-items-center overflow-hidden rounded-xl border border-ashen-700 bg-ashen-800/60",children:S.jsx(QR,{seed:GR(pt.id),sizeClass:"h-16 w-16"})}),!pt.isAlive&&S.jsx("div",{className:"absolute right-2 top-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] text-ashen-300","aria-label":"Eliminated",children:""})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-1 px-2 py-2 text-[9px] uppercase tracking-[0.2em] text-ashen-200",children:[S.jsx("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1",children:pt.isSpectator?"Spectator":pt.isAlive?"Active":"Out"}),R.status==="voting"&&vi>0&&S.jsxs("span",{className:"rounded-full bg-ember/20 px-2 py-1 text-ember",children:["Votes Received ",vi]}),R.status==="voting"&&nr.length>0&&S.jsxs("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1 text-ashen-100",children:["Voted by ",nr.join(", ")]}),R.status==="lobby"&&S.jsx("span",{className:`rounded-full px-2 py-1 ${pt.isReady?"bg-emerald-500/20 text-emerald-200":"bg-ashen-700/70 text-ashen-300"}`,children:pt.isReady?"Ready":"Not Ready"}),pt.isHost&&S.jsx("span",{className:"rounded-full bg-ember/20 px-2 py-1 text-ember",children:"Crown"}),Nn&&pt.role&&S.jsxs("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1 text-ashen-100",children:[LR[pt.role]," ",pt.role]}),it&&!en&&S.jsx("button",{onClick:()=>$t(pt.id),className:"rounded-full bg-rose-500/20 px-2 py-1 text-rose-200",children:"Remove"})]})]},pt.id)})})]})}),S.jsxs("aside",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:[R.status==="lobby"&&B&&S.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 shadow-inky",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Your name"}),S.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[S.jsx("input",{value:o,onChange:st=>c(st.target.value),placeholder:"Enter a nickname",className:"flex-1 rounded-lg border border-ashen-600 bg-ashen-800/80 px-3 py-2 text-sm text-ashen-100 outline-none focus:border-ember"}),S.jsx("button",{onClick:()=>W(o),className:"rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Save"})]}),S.jsx("p",{className:"mt-1 text-[11px] text-ashen-400",children:"Name changes are allowed in the lobby only."})]}),R.status==="lobby"&&it&&S.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 shadow-inky",children:[S.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Game setup"}),S.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[S.jsx("button",{onClick:()=>wt("classic"),className:`rounded-full px-3 py-1 text-[11px] font-semibold ${lt==="classic"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Classic"}),S.jsx("button",{onClick:()=>wt("custom"),className:`rounded-full px-3 py-1 text-[11px] font-semibold ${lt==="custom"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Custom"})]})]}),lt==="custom"&&S.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[Zr.map(st=>S.jsxs("div",{className:"flex items-center justify-between gap-2",children:[S.jsx("span",{className:"capitalize text-xs text-ashen-200",children:st}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>Nt(st,(ht[st]??0)-1),className:"rounded-md border border-ashen-500 px-2 py-0.5 text-xs text-ashen-100",children:"-"}),S.jsx("span",{className:"w-5 text-center text-xs text-ashen-100",children:ht[st]??0}),S.jsx("button",{onClick:()=>Nt(st,(ht[st]??0)+1),className:"rounded-md border border-ashen-500 px-2 py-0.5 text-xs text-ashen-100",children:"+"})]})]},st)),S.jsxs("p",{className:"text-xs text-ashen-300 sm:col-span-2",children:["Total roles: ",St," / Players: ",I.length]}),!Ct&&S.jsx("p",{className:"text-xs text-ember sm:col-span-2",children:"Custom setup must include at least 1 werewolf."}),!et&&S.jsx("p",{className:"text-xs text-ember sm:col-span-2",children:"Role total must match player count."})]})]}),vn&&S.jsx("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 lg:max-h-[38%] lg:overflow-y-auto",children:S.jsxs("div",{className:"grid gap-3",children:[S.jsx("div",{children:ds&&S.jsxs("p",{className:"mt-2 text-xs text-ashen-300",children:["Lover: ",se?.name," (",se?.role??"unknown",")"]})}),S.jsxs("div",{className:"space-y-3",children:[R.status==="night"&&B?.isAlive&&S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Night actions"}),Gt&&m&&S.jsxs("p",{className:"mt-2 text-xs text-ashen-300",children:["Pack:"," ",Cn.map(st=>st.id===x?`${st.name} (You)`:st.name).join(", ")]}),S.jsxs("p",{className:"mt-2",children:[B.role==="werewolf"&&(ne?"Click a player in the grid to choose the werewolf target.":ai),B.role==="bodyguard"&&(ne?"Click a player in the grid to protect them. You cannot protect the same player as last night.":ai),B.role==="bodyguard"&&ne&&R.bodyguardLastProtectedId&&` Last protected: ${R.players[R.bodyguardLastProtectedId]?.name??"Unknown"}.`,B.role==="seer"&&(ne?"Click a player in the grid to inspect them.":ai),B.role==="detective"&&(ne?"Select two players to learn if they share a team.":ai),B.role==="silencer"&&(ne?"Click a player to silence them for tomorrow.":ai),B.role==="cupid"&&(pe?"Choose two players to become lovers.":"You have no further night action."),B.role==="witch"&&(Mt?"Choose to heal the pending victim, poison a player, or pass.":"Wait for Werewolf, Bodyguard, and Seer to finish. You act next."),B.role==="fool"&&"You have no night action.",B.role==="villager"&&"You have no night action.",B.role==="hunter"&&"You have no night action."]})]}),Mt&&S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Witch turn"}),S.jsx("p",{className:"mt-2",children:kn?`Pending victim: ${kn}.`:"No pending victim tonight."}),Ws&&S.jsxs("div",{className:"mt-3 space-y-2",children:[!R.witchState?.healUsed&&R.witchTurn?.pendingVictimId&&S.jsx("button",{onClick:()=>ye("heal"),className:"rounded-lg bg-emerald-500/20 px-3 py-2 text-xs font-semibold text-emerald-200",children:"Use Heal Potion"}),!R.witchState?.poisonUsed&&S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-ashen-400",children:"Poison target:"}),S.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:$.filter(st=>st.id!==x).map(st=>S.jsx("button",{onClick:()=>ye("poison",st.id),className:"rounded-full bg-rose-500/20 px-3 py-1 text-xs text-rose-200",children:st.name},st.id))})]}),S.jsx("button",{onClick:()=>ye("pass"),className:"rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Pass"})]})]}),pe&&S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Cupid turn"}),B?.role==="cupid"?S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"mt-2",children:"Select two players in the grid to become lovers."}),Tt?.cupidLoverIds?.length?S.jsxs("p",{className:"mt-2 text-xs text-ashen-300",children:["Selected:"," ",Tt.cupidLoverIds.map(st=>R.players[st]?.name??"Unknown").join(", ")]}):null]}):S.jsx("p",{className:"mt-2",children:"Cupid is choosing the lovers."})]}),R.status==="day"&&Ue&&S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[B?.role==="seer"&&Dt?.seerResult&&S.jsxs("p",{className:"text-ashen-100",children:["Your vision: ",R.players[Dt.seerResult.targetId]?.name," is a"," ",Dt.seerResult.role,"."]}),B?.role==="detective"&&Dt?.detectiveResult&&S.jsxs("p",{className:"text-ashen-100",children:["Your investigation: ",R.players[Dt.detectiveResult.targetIds[0]]?.name," and"," ",R.players[Dt.detectiveResult.targetIds[1]]?.name," are"," ",Dt.detectiveResult.sameTeam?"on the same team.":"on different teams."]})]}),R.status==="voting"&&B?.isAlive&&S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Voting"}),S.jsx("p",{className:"mt-2",children:"Click a player card in the grid to vote. Click your own card to skip."}),R.votes&&S.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-ashen-300",children:Object.entries(Object.values(R.votes).reduce((st,bt)=>(bt==="skip"||(st[bt]=(st[bt]??0)+1),st),{})).sort((st,bt)=>bt[1]-st[1]).map(([st,bt])=>S.jsxs("span",{className:"rounded-full border border-ashen-700 bg-ashen-900/50 px-2 py-1",children:[R.players[st]?.name??"Someone",": ",bt]},st))}),S.jsxs("div",{className:"mt-2 text-sm text-ashen-300",children:[Object.values(R.votes??{}).length," vote(s) cast."]})]}),Ie&&S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Final Plea"}),S.jsxs("p",{className:"mt-2",children:["Accused: ",R.finalAccusedId?R.players[R.finalAccusedId]?.name??"Unknown":""]}),typeof R.finalAccusedVotes=="number"&&S.jsxs("p",{className:"mt-1 text-xs text-ashen-300",children:["Received ",R.finalAccusedVotes," vote",R.finalAccusedVotes===1?"":"s","."]}),S.jsx("p",{className:"mt-1 text-xs text-ashen-300",children:"Cast your vote to save or eliminate."}),tr&&S.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[S.jsx("button",{onClick:()=>K("save"),className:"rounded-full border border-emerald-500/40 bg-emerald-500/10 px-3 py-1 text-xs text-emerald-200",children:"Save"}),S.jsx("button",{onClick:()=>K("kill"),className:"rounded-full border border-rose-500/40 bg-rose-500/10 px-3 py-1 text-xs text-rose-200",children:"Kill"})]}),S.jsxs("div",{className:"mt-2 text-xs text-ashen-300",children:[Object.values(R.finalVotes??{}).length," vote(s) cast."]})]}),R.status==="results"&&S.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[S.jsx("p",{className:"font-display text-xl text-ashen-100",children:R.winner==="villagers"?"Villagers win!":R.winner==="werewolves"?"Werewolves win!":"The Fool wins!"}),S.jsx("p",{className:"mt-2",children:R.winReason})]}),Js&&S.jsx("div",{className:"rounded-xl border border-ember/40 bg-ember/10 p-3 text-sm text-ashen-100",children:"Waiting for the Hunter's final shot..."}),yn&&S.jsxs("div",{children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Hunter last shot"}),S.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:$.filter(st=>st.id!==x).map(st=>S.jsx("button",{onClick:()=>zt(st.id),className:"rounded-full bg-ember px-3 py-1 text-xs text-slate-950",children:st.name},st.id))}),S.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"You were eliminated. Choose one player to take with you."})]})]})]})}),S.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 shadow-inky lg:flex lg:flex-1 lg:flex-col lg:min-h-0",children:[S.jsx("h3",{className:"font-display text-xl",children:"Chat"}),S.jsx("div",{ref:Ki,className:"mt-2 flex flex-1 flex-col gap-3 overflow-y-auto rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:ve?.length?ve.map(st=>S.jsxs("div",{className:"text-sm text-ashen-200",children:[S.jsxs("span",{className:"text-ashen-400",children:[st.senderName,":"]})," ",st.message]},st.id)):S.jsx("p",{className:"text-sm text-ashen-400",children:"No messages yet."})}),Zt&&!Gt&&S.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"Night chat is for werewolves only."}),ie&&S.jsx("p",{className:"mt-2 text-xs text-rose-200",children:"You are silenced for today."}),Y&&S.jsx("p",{className:"mt-2 text-xs text-ember",children:Y}),S.jsxs("div",{className:"mt-3 flex gap-2",children:[S.jsx("input",{value:i,onChange:st=>r(st.target.value),onKeyDown:st=>{st.key==="Enter"&&!st.shiftKey&&(st.preventDefault(),Yi&&i.trim()&&ps())},placeholder:"Say something...",disabled:!Yi,className:"flex-1 rounded-lg border border-ashen-600 bg-ashen-800/80 px-3 py-2 text-sm text-ashen-100 outline-none focus:border-ember disabled:opacity-50"}),S.jsx("button",{onClick:ps,disabled:!Yi,className:"rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Send"})]})]}),S.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-4 lg:flex-none",children:[S.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Roles in play"}),S.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-100",children:[Object.entries(I.reduce((st,bt)=>(bt.role&&(st[bt.role]=(st[bt.role]??0)+1),st),{})).map(([st,bt])=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("span",{className:"capitalize",children:[st," x",bt]}),S.jsx("span",{className:"text-ashen-400",children:"Active"})]},st)),R.status==="lobby"&&S.jsx("p",{className:"text-xs text-ashen-400",children:"Roles appear after the game starts."})]})]})]})]})]})]})}):S.jsx("div",{className:"min-h-screen bg-ashen text-slate-100",children:S.jsxs("div",{className:"mx-auto max-w-3xl px-6 py-20",children:[S.jsx("h2",{className:"font-display text-2xl",children:"Room not found"}),S.jsx("p",{className:"mt-2 text-ashen-200",children:"Create a new room or check the code."}),S.jsx("button",{onClick:()=>s("/"),className:"mt-6 rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950",children:"Back to Lobby"})]})})}function KR(){return S.jsx(OR,{children:S.jsx(IR,{children:S.jsxs(Vb,{children:[S.jsx(_c,{path:"/",element:S.jsx(jR,{})}),S.jsx(_c,{path:"/room/:code",element:S.jsx(YR,{})}),S.jsx(_c,{path:"*",element:S.jsx(Nb,{to:"/",replace:!0})})]})})})}IT.createRoot(document.getElementById("app")).render(S.jsx(ST.StrictMode,{children:S.jsx(eA,{children:S.jsx(KR,{})})}));
