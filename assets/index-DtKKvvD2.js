(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function x_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var id={exports:{}},to={};var nv;function gT(){if(nv)return to;nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return to.Fragment=e,to.jsx=i,to.jsxs=i,to}var iv;function yT(){return iv||(iv=1,id.exports=gT()),id.exports}var w=yT(),ad={exports:{}},Ct={};var av;function vT(){if(av)return Ct;av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function rt(O,Z,lt){this.props=O,this.context=Z,this.refs=K,this.updater=lt||J}rt.prototype.isReactComponent={},rt.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},rt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function it(){}it.prototype=rt.prototype;function ut(O,Z,lt){this.props=O,this.context=Z,this.refs=K,this.updater=lt||J}var mt=ut.prototype=new it;mt.constructor=ut,Q(mt,rt.prototype),mt.isPureReactComponent=!0;var St=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(O,Z,lt){var q=lt.ref;return{$$typeof:r,type:O,key:Z,ref:q!==void 0?q:null,props:lt}}function M(O,Z){return x(O.type,Z,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(lt){return Z[lt]})}var D=/\/+/g;function qt(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Z.toString(36)}function se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,Z,lt,q,at){var et=typeof O;(et==="undefined"||et==="boolean")&&(O=null);var ft=!1;if(O===null)ft=!0;else switch(et){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(O.$$typeof){case r:case e:ft=!0;break;case E:return ft=O._init,Y(ft(O._payload),Z,lt,q,at)}}if(ft)return at=at(O),ft=q===""?"."+qt(O,0):q,St(at)?(lt="",ft!=null&&(lt=ft.replace(D,"$&/")+"/"),Y(at,Z,lt,"",function(le){return le})):at!=null&&(V(at)&&(at=M(at,lt+(at.key==null||O&&O.key===at.key?"":(""+at.key).replace(D,"$&/")+"/")+ft)),Z.push(at)),1;ft=0;var bt=q===""?".":q+":";if(St(O))for(var wt=0;wt<O.length;wt++)q=O[wt],et=bt+qt(q,wt),ft+=Y(q,Z,lt,et,at);else if(wt=j(O),typeof wt=="function")for(O=wt.call(O),wt=0;!(q=O.next()).done;)q=q.value,et=bt+qt(q,wt++),ft+=Y(q,Z,lt,et,at);else if(et==="object"){if(typeof O.then=="function")return Y(se(O),Z,lt,q,at);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ft}function st(O,Z,lt){if(O==null)return O;var q=[],at=0;return Y(O,q,"","",function(et){return Z.call(lt,et,at++)}),q}function yt(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(lt){(O._status===0||O._status===-1)&&(O._status=1,O._result=lt)},function(lt){(O._status===0||O._status===-1)&&(O._status=2,O._result=lt)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var Ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:st,forEach:function(O,Z,lt){st(O,function(){Z.apply(this,arguments)},lt)},count:function(O){var Z=0;return st(O,function(){Z++}),Z},toArray:function(O){return st(O,function(Z){return Z})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ct.Activity=b,Ct.Children=Ft,Ct.Component=rt,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=ut,Ct.StrictMode=s,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ct.cache=function(O){return function(){return O.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(O,Z,lt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var q=Q({},O.props),at=O.key;if(Z!=null)for(et in Z.key!==void 0&&(at=""+Z.key),Z)!R.call(Z,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&Z.ref===void 0||(q[et]=Z[et]);var et=arguments.length-2;if(et===1)q.children=lt;else if(1<et){for(var ft=Array(et),bt=0;bt<et;bt++)ft[bt]=arguments[bt+2];q.children=ft}return x(O.type,at,q)},Ct.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ct.createElement=function(O,Z,lt){var q,at={},et=null;if(Z!=null)for(q in Z.key!==void 0&&(et=""+Z.key),Z)R.call(Z,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(at[q]=Z[q]);var ft=arguments.length-2;if(ft===1)at.children=lt;else if(1<ft){for(var bt=Array(ft),wt=0;wt<ft;wt++)bt[wt]=arguments[wt+2];at.children=bt}if(O&&O.defaultProps)for(q in ft=O.defaultProps,ft)at[q]===void 0&&(at[q]=ft[q]);return x(O,et,at)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(O){return{$$typeof:g,render:O}},Ct.isValidElement=V,Ct.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:yt}},Ct.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},Ct.startTransition=function(O){var Z=C.T,lt={};C.T=lt;try{var q=O(),at=C.S;at!==null&&at(lt,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(xt,Ot)}catch(et){Ot(et)}finally{Z!==null&&lt.types!==null&&(Z.types=lt.types),C.T=Z}},Ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ct.use=function(O){return C.H.use(O)},Ct.useActionState=function(O,Z,lt){return C.H.useActionState(O,Z,lt)},Ct.useCallback=function(O,Z){return C.H.useCallback(O,Z)},Ct.useContext=function(O){return C.H.useContext(O)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(O,Z){return C.H.useDeferredValue(O,Z)},Ct.useEffect=function(O,Z){return C.H.useEffect(O,Z)},Ct.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ct.useId=function(){return C.H.useId()},Ct.useImperativeHandle=function(O,Z,lt){return C.H.useImperativeHandle(O,Z,lt)},Ct.useInsertionEffect=function(O,Z){return C.H.useInsertionEffect(O,Z)},Ct.useLayoutEffect=function(O,Z){return C.H.useLayoutEffect(O,Z)},Ct.useMemo=function(O,Z){return C.H.useMemo(O,Z)},Ct.useOptimistic=function(O,Z){return C.H.useOptimistic(O,Z)},Ct.useReducer=function(O,Z,lt){return C.H.useReducer(O,Z,lt)},Ct.useRef=function(O){return C.H.useRef(O)},Ct.useState=function(O){return C.H.useState(O)},Ct.useSyncExternalStore=function(O,Z,lt){return C.H.useSyncExternalStore(O,Z,lt)},Ct.useTransition=function(){return C.H.useTransition()},Ct.version="19.2.4",Ct}var rv;function Xd(){return rv||(rv=1,ad.exports=vT()),ad.exports}var H=Xd();const _T=x_(H);var rd={exports:{}},eo={},sd={exports:{}},ld={};var sv;function ET(){return sv||(sv=1,(function(r){function e(Y,st){var yt=Y.length;Y.push(st);t:for(;0<yt;){var Ot=yt-1>>>1,Ft=Y[Ot];if(0<o(Ft,st))Y[Ot]=st,Y[yt]=Ft,yt=Ot;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],yt=Y.pop();if(yt!==st){Y[0]=yt;t:for(var Ot=0,Ft=Y.length,O=Ft>>>1;Ot<O;){var Z=2*(Ot+1)-1,lt=Y[Z],q=Z+1,at=Y[q];if(0>o(lt,yt))q<Ft&&0>o(at,lt)?(Y[Ot]=at,Y[q]=yt,Ot=q):(Y[Ot]=lt,Y[Z]=yt,Ot=Z);else if(q<Ft&&0>o(at,yt))Y[Ot]=at,Y[q]=yt,Ot=q;else break t}}return st}function o(Y,st){var yt=Y.sortIndex-st.sortIndex;return yt!==0?yt:Y.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var m=[],y=[],E=1,b=null,S=3,j=!1,J=!1,Q=!1,K=!1,rt=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function mt(Y){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Y)s(y),st.sortIndex=st.expirationTime,e(m,st);else break;st=i(y)}}function St(Y){if(Q=!1,mt(Y),!J)if(i(m)!==null)J=!0,xt||(xt=!0,L());else{var st=i(y);st!==null&&se(St,st.startTime-Y)}}var xt=!1,C=-1,R=5,x=-1;function M(){return K?!0:!(r.unstable_now()-x<R)}function V(){if(K=!1,xt){var Y=r.unstable_now();x=Y;var st=!0;try{t:{J=!1,Q&&(Q=!1,it(C),C=-1),j=!0;var yt=S;try{e:{for(mt(Y),b=i(m);b!==null&&!(b.expirationTime>Y&&M());){var Ot=b.callback;if(typeof Ot=="function"){b.callback=null,S=b.priorityLevel;var Ft=Ot(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ft=="function"){b.callback=Ft,mt(Y),st=!0;break e}b===i(m)&&s(m),mt(Y)}else s(m);b=i(m)}if(b!==null)st=!0;else{var O=i(y);O!==null&&se(St,O.startTime-Y),st=!1}}break t}finally{b=null,S=yt,j=!1}st=void 0}}finally{st?L():xt=!1}}}var L;if(typeof ut=="function")L=function(){ut(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,qt=D.port2;D.port1.onmessage=V,L=function(){qt.postMessage(null)}}else L=function(){rt(V,0)};function se(Y,st){C=rt(function(){Y(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var yt=S;S=st;try{return Y()}finally{S=yt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=S;S=Y;try{return st()}finally{S=yt}},r.unstable_scheduleCallback=function(Y,st,yt){var Ot=r.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Ot+yt:Ot):yt=Ot,Y){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=yt+Ft,Y={id:E++,callback:st,priorityLevel:Y,startTime:yt,expirationTime:Ft,sortIndex:-1},yt>Ot?(Y.sortIndex=yt,e(y,Y),i(m)===null&&Y===i(y)&&(Q?(it(C),C=-1):Q=!0,se(St,yt-Ot))):(Y.sortIndex=Ft,e(m,Y),J||j||(J=!0,xt||(xt=!0,L()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var st=S;return function(){var yt=S;S=st;try{return Y.apply(this,arguments)}finally{S=yt}}}})(ld)),ld}var lv;function TT(){return lv||(lv=1,sd.exports=ET()),sd.exports}var od={exports:{}},nn={};var ov;function bT(){if(ov)return nn;ov=1;var r=Xd();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(m,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(m,y,null,E)},nn.flushSync=function(m){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=y,s.p=E,s.d.f()}},nn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},nn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},nn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:j}):E==="script"&&s.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},nn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);s.d.L(m,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(m,y){if(typeof m=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},nn.requestFormReset=function(m){s.d.r(m)},nn.unstable_batchedUpdates=function(m,y){return m(y)},nn.useFormState=function(m,y,E){return d.H.useFormState(m,y,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var uv;function AT(){if(uv)return od.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),od.exports=bT(),od.exports}var cv;function ST(){if(cv)return eo;cv=1;var r=TT(),e=Xd(),i=AT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function qt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case rt:return"Profiler";case K:return"StrictMode";case St:return"Suspense";case xt:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ut:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:qt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return qt(t(n))}catch{}}return null}var se=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Ot=[],Ft=-1;function O(t){return{current:t}}function Z(t){0>Ft||(t.current=Ot[Ft],Ot[Ft]=null,Ft--)}function lt(t,n){Ft++,Ot[Ft]=t.current,t.current=n}var q=O(null),at=O(null),et=O(null),ft=O(null);function bt(t,n){switch(lt(et,n),lt(at,t),lt(q,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?wy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=wy(n),t=Ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(q),lt(q,t)}function wt(){Z(q),Z(at),Z(et)}function le(t){t.memoizedState!==null&&lt(ft,t);var n=q.current,a=Ry(n,t.type);n!==a&&(lt(at,t),lt(q,a))}function Ut(t){at.current===t&&(Z(q),Z(at)),ft.current===t&&(Z(ft),$l._currentValue=yt)}var Tn,hn;function on(t){if(Tn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Tn=n&&n[1]||"",hn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tn+t+hn}var zi=!1;function On(t,n){if(!t||zi)return"";zi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var k=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){k=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){k=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&k&&typeof G.stack=="string")return[G.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var N=v.split(`
`),B=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{zi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?on(a):""}function ht(t,n){switch(t.tag){case 26:case 27:case 5:return on(t.type);case 16:return on("Lazy");case 13:return t.child!==n&&n!==null?on("Suspense Fallback"):on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return On(t.type,!1);case 11:return On(t.type.render,!1);case 1:return On(t.type,!0);case 31:return on("Activity");default:return""}}function fe(t){try{var n="",a=null;do n+=ht(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,en=r.unstable_cancelCallback,Js=r.unstable_shouldYield,kr=r.unstable_requestPaint,ke=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,Ws=r.unstable_ImmediatePriority,tl=r.unstable_UserBlockingPriority,ua=r.unstable_NormalPriority,rh=r.unstable_LowPriority,Mo=r.unstable_IdlePriority,jo=r.log,Uo=r.unstable_setDisableYieldValue,Xn=null,Qe=null;function Mn(t){if(typeof jo=="function"&&Uo(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Xn,t)}catch{}}var Ee=Math.clz32?Math.clz32:zo,Lo=Math.log,Hr=Math.LN2;function zo(t){return t>>>=0,t===0?32:31-(Lo(t)/Hr|0)|0}var ui=256,ar=262144,xe=4194304;function ci(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ci(l):(v&=T,v!==0?h=ci(v):a||(a=T&~t,a!==0&&(h=ci(a))))):(T=l&~f,T!==0?h=ci(T):v!==0?h=ci(v):a||(a=l&~t,a!==0&&(h=ci(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function sh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),t}function fi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lh(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Ee(a),W=1<<X;T[X]=0,N[X]=-1;var k=B[X];if(k!==null)for(B[X]=null,X=0;X<k.length;X++){var G=k[X];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&sr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function sr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ee(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function el(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ee(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function nl(t,n){var a=n&-n;return a=(a&42)!==0?1:lr(a),(a&(t.suspendedLanes|n))!==0?0:a}function lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bo(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Xy(t.type))}function Zn(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var Jn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Jn,He="__reactProps$"+Jn,di="__reactContainer$"+Jn,qr="__reactEvents$"+Jn,oh="__reactListeners$"+Jn,ko="__reactHandles$"+Jn,Ho="__reactResources$"+Jn,mi="__reactMarker$"+Jn;function Fr(t){delete t[Ce],delete t[He],delete t[qr],delete t[oh],delete t[ko]}function pi(t){var n=t[Ce];if(n)return n;for(var a=t.parentNode;a;){if(n=a[di]||a[Ce]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Oy(t);t!==null;){if(a=t[Ce])return a;t=Oy(t)}return n}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Ce]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function gi(t){var n=t[Ho];return n||(n=t[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(t){t[mi]=!0}var il=new Set,al={};function yi(t,n){vi(t,n),vi(t+"Capture",n)}function vi(t,n){for(al[t]=n,t=0;t<n.length;t++)il.add(n[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},ll={};function qo(t){return vt.call(ll,t)?!0:vt.call(sl,t)?!1:rl.test(t)?ll[t]=!0:(sl[t]=!0,!1)}function Gr(t,n,a){if(qo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function An(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ne(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ca(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ol(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Jt(t){if(!t._valueTracker){var n=ca(t)?"checked":"value";t._valueTracker=ol(t,n,""+t[n])}}function or(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ca(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ur=/[\n"\\]/g;function fn(t){return t.replace(ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qr(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qe(n)):t.value!==""+qe(n)&&(t.value=""+qe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?ul(t,v,qe(n)):a!=null?ul(t,v,qe(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+qe(T):t.removeAttribute("name")}function Fo(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(t);return}a=a!=null?""+qe(a):"",n=n!=null?""+qe(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Jt(t)}function ul(t,n,a){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ha(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Go(t,n,a){if(n!=null&&(n=""+qe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+qe(a):""}function fa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=qe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Jt(t)}function dn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Qo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function hl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&cl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&cl(t,f,n[f])}function Yr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(t){return da.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var fl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ma=null,Ei=null;function cr(t){var n=jn(t);if(n&&(t=n.stateNode)){var a=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(Qr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[He]||null;if(!h)throw Error(s(90));Qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&or(l)}break t;case"textarea":Go(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ha(t,!!a.multiple,n,!1)}}}var Xr=!1;function pa(t,n,a){if(Xr)return t(n,a);Xr=!0;try{var l=t(n);return l}finally{if(Xr=!1,(ma!==null||Ei!==null)&&(Bu(),ma&&(n=ma,t=Ei,Ei=ma=null,cr(n),t)))for(n=0;n<t.length;n++)cr(t[n])}}function ti(t,n){var a=t.stateNode;if(a===null)return null;var l=a[He]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(Ln)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){hr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{hr=!1}var Ti=null,dl=null,fr=null;function ml(){if(fr)return fr;var t,n=dl,a=n.length,l,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return fr=h.slice(t,1<l?1-l:void 0)}function dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function ei(){return!1}function Ye(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:ei,this.isPropagationStopped=ei,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ye(ki),ga=b({},ki,{view:0,detail:0}),pl=Ye(ga),ya,$r,Ai,Zr=b({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(ya=t.screenX-Ai.screenX,$r=t.screenY-Ai.screenY):$r=ya=0,Ai=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:$r}}),gl=Ye(Zr),mr=b({},Zr,{dataTransfer:0}),Ko=Ye(mr),Xo=b({},ga,{relatedTarget:0}),pr=Ye(Xo),yl=b({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=Ye(yl),Jr=b({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zo=Ye(Jr),Jo=b({},ki,{data:0}),Si=Ye(Jo),Wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=eu[t])?!!n[t]:!1}function va(){return nu}var un=b({},ga,{key:function(t){if(t.key){var n=Wo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iu=Ye(un),au=b({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ye(au),u=b({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),p=Ye(u),_=b({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ye(_),z=b({},Zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ye(z),ot=b({},ki,{newState:0,oldState:0}),Nt=Ye(ot),Te=[9,13,27,32],Xt=Ln&&"CompositionEvent"in window,de=null;Ln&&"documentMode"in document&&(de=document.documentMode);var zn=Ln&&"TextEvent"in window&&!de,wi=Ln&&(!Xt||de&&8<de&&11>=de),ni=" ",ii=!1;function gr(t,n){switch(t){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ts=!1;function BE(t,n){switch(t){case"compositionend":return Wr(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return t=n.data,t===ni&&ii?null:t;default:return null}}function kE(t,n){if(ts)return t==="compositionend"||!Xt&&gr(t,n)?(t=ml(),fr=dl=Ti=null,ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var HE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!HE[t.type]:n==="textarea"}function Lm(t,n,a,l){ma?Ei?Ei.push(l):Ei=[l]:ma=l,n=Yu(n,"onChange"),0<n.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var vl=null,_l=null;function qE(t){_y(t,0)}function ru(t){var n=bn(t);if(or(n))return t}function zm(t,n){if(t==="change")return n}var Pm=!1;if(Ln){var uh;if(Ln){var ch="oninput"in document;if(!ch){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),ch=typeof Bm.oninput=="function"}uh=ch}else uh=!1;Pm=uh&&(!document.documentMode||9<document.documentMode)}function km(){vl&&(vl.detachEvent("onpropertychange",Hm),_l=vl=null)}function Hm(t){if(t.propertyName==="value"&&ru(_l)){var n=[];Lm(n,_l,t,Un(t)),pa(qE,n)}}function FE(t,n,a){t==="focusin"?(km(),vl=n,_l=a,vl.attachEvent("onpropertychange",Hm)):t==="focusout"&&km()}function GE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(_l)}function QE(t,n){if(t==="click")return ru(n)}function YE(t,n){if(t==="input"||t==="change")return ru(n)}function KE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:KE;function El(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,n){var a=qm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qm(a)}}function Gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_i(t.document)}return n}function hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var XE=Ln&&"documentMode"in document&&11>=document.documentMode,es=null,fh=null,Tl=null,dh=!1;function Ym(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dh||es==null||es!==_i(l)||(l=es,"selectionStart"in l&&hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=Yu(fh,"onSelect"),0<l.length&&(n=new bi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=es)))}function yr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ns={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},mh={},Km={};Ln&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function vr(t){if(mh[t])return mh[t];if(!ns[t])return t;var n=ns[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Km)return mh[t]=n[a];return t}var Xm=vr("animationend"),$m=vr("animationiteration"),Zm=vr("animationstart"),$E=vr("transitionrun"),ZE=vr("transitionstart"),JE=vr("transitioncancel"),Jm=vr("transitionend"),Wm=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function ai(t,n){Wm.set(t,n),yi(n,[t])}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],is=0,gh=0;function lu(){for(var t=is,n=gh=is=0;n<t;){var a=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&tp(a,h,f)}}function ou(t,n,a,l){Pn[is++]=t,Pn[is++]=n,Pn[is++]=a,Pn[is++]=l,gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yh(t,n,a,l){return ou(t,n,a,l),uu(t)}function _r(t,n){return ou(t,null,null,n),uu(t)}function tp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ee(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function uu(t){if(50<ql)throw ql=0,xf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var as={};function WE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,a,l){return new WE(t,n,a,l)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,n){var a=t.alternate;return a===null?(a=wn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ep(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function cu(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")vh(t)&&(v=1);else if(typeof t=="string")v=aT(t,a,q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=wn(31,a,n,h),t.elementType=x,t.lanes=f,t;case Q:return Er(a.children,h,f,n);case K:v=8,h|=24;break;case rt:return t=wn(12,a,n,h|2),t.elementType=rt,t.lanes=f,t;case St:return t=wn(13,a,n,h),t.elementType=St,t.lanes=f,t;case xt:return t=wn(19,a,n,h),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:v=10;break t;case it:v=9;break t;case mt:v=11;break t;case C:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=wn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Er(t,n,a,l){return t=wn(7,t,l,n),t.lanes=a,t}function _h(t,n,a){return t=wn(6,t,null,n),t.lanes=a,t}function np(t){var n=wn(18,null,null,0);return n.stateNode=t,n}function Eh(t,n,a){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ip=new WeakMap;function Bn(t,n){if(typeof t=="object"&&t!==null){var a=ip.get(t);return a!==void 0?a:(n={value:t,source:n,stack:fe(n)},ip.set(t,n),n)}return{value:t,source:n,stack:fe(n)}}var rs=[],ss=0,hu=null,bl=0,kn=[],Hn=0,_a=null,Ri=1,xi="";function Fi(t,n){rs[ss++]=bl,rs[ss++]=hu,hu=t,bl=n}function ap(t,n,a){kn[Hn++]=Ri,kn[Hn++]=xi,kn[Hn++]=_a,_a=t;var l=Ri;t=xi;var h=32-Ee(l)-1;l&=~(1<<h),a+=1;var f=32-Ee(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ri=1<<32-Ee(n)+h|a<<h|l,xi=f+t}else Ri=1<<f|a<<h|l,xi=t}function Th(t){t.return!==null&&(Fi(t,1),ap(t,1,0))}function bh(t){for(;t===hu;)hu=rs[--ss],rs[ss]=null,bl=rs[--ss],rs[ss]=null;for(;t===_a;)_a=kn[--Hn],kn[Hn]=null,xi=kn[--Hn],kn[Hn]=null,Ri=kn[--Hn],kn[Hn]=null}function rp(t,n){kn[Hn++]=Ri,kn[Hn++]=xi,kn[Hn++]=_a,Ri=n.id,xi=n.overflow,_a=t}var Ke=null,ue=null,Ht=!1,Ea=null,qn=!1,Ah=Error(s(519));function Ta(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Bn(n,t)),Ah}function sp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ce]=t,n[He]=l,a){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<Gl.length;a++)jt(Gl[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),Fo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),fa(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ay(n.textContent,a)?(l.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),l.onScroll!=null&&jt("scroll",n),l.onScrollEnd!=null&&jt("scrollend",n),l.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Ta(t,!0)}function lp(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Ke=Ke.return}}function ls(t){if(t!==Ke)return!1;if(!Ht)return lp(t),Ht=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&ue&&Ta(t),lp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ue=Iy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ue=Iy(t)}else n===27?(n=ue,ja(t.type)?(t=Yf,Yf=null,ue=t):ue=n):ue=Ke?Gn(t.stateNode.nextSibling):null;return!0}function Tr(){ue=Ke=null,Ht=!1}function Sh(){var t=Ea;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Ea=null),t}function Al(t){Ea===null?Ea=[t]:Ea.push(t)}var wh=O(null),br=null,Gi=null;function ba(t,n,a){lt(wh,n._currentValue),n._currentValue=a}function Qi(t){t._currentValue=wh.current,Z(wh)}function Rh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function xh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Rh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Rh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function os(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Sn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ft.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}h=h.return}t!==null&&xh(n,t,a,l),n.flags|=262144}function fu(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){br=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xe(t){return op(br,t)}function du(t,n){return br===null&&Ar(t),op(t,n)}function op(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gi=Gi.next=n;return a}var t1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},e1=r.unstable_scheduleCallback,n1=r.unstable_NormalPriority,Ve={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new t1,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&e1(n1,function(){t.controller.abort()})}var wl=null,Dh=0,us=0,cs=null;function i1(t,n){if(wl===null){var a=wl=[];Dh=0,us=Of(),cs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dh++,n.then(up,up),n}function up(){if(--Dh===0&&wl!==null){cs!==null&&(cs.status="fulfilled");var t=wl;wl=null,us=0,cs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function a1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var cp=Y.S;Y.S=function(t,n){Yg=ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&i1(t,n),cp!==null&&cp(t,n)};var Sr=O(null);function Nh(){var t=Sr.current;return t!==null?t:re.pooledCache}function mu(t,n){n===null?lt(Sr,Sr.current):lt(Sr,n.pool)}function hp(){var t=Nh();return t===null?null:{parent:Ve._currentValue,pool:t}}var hs=Error(s(460)),Vh=Error(s(474)),pu=Error(s(542)),gu={then:function(){}};function fp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Wn,Wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(t=re,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t}throw Rr=n,hs}}function wr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rr=a,hs):a}}var Rr=null;function mp(){if(Rr===null)throw Error(s(459));var t=Rr;return Rr=null,t}function pp(t){if(t===hs||t===pu)throw Error(s(483))}var fs=null,Rl=0;function yu(t){var n=Rl;return Rl+=1,fs===null&&(fs=[]),dp(fs,t,n)}function xl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function vu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gp(t){function n(U,I){if(t){var P=U.deletions;P===null?(U.deletions=[I],U.flags|=16):P.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function h(U,I){return U=qi(U,I),U.index=0,U.sibling=null,U}function f(U,I,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<I?(U.flags|=67108866,I):P):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,I,P,$){return I===null||I.tag!==6?(I=_h(P,U.mode,$),I.return=U,I):(I=h(I,P),I.return=U,I)}function N(U,I,P,$){var _t=P.type;return _t===Q?X(U,I,P.props.children,$,P.key):I!==null&&(I.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&wr(_t)===I.type)?(I=h(I,P.props),xl(I,P),I.return=U,I):(I=cu(P.type,P.key,P.props,null,U.mode,$),xl(I,P),I.return=U,I)}function B(U,I,P,$){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=Eh(P,U.mode,$),I.return=U,I):(I=h(I,P.children||[]),I.return=U,I)}function X(U,I,P,$,_t){return I===null||I.tag!==7?(I=Er(P,U.mode,$,_t),I.return=U,I):(I=h(I,P),I.return=U,I)}function W(U,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=_h(""+I,U.mode,P),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case j:return P=cu(I.type,I.key,I.props,null,U.mode,P),xl(P,I),P.return=U,P;case J:return I=Eh(I,U.mode,P),I.return=U,I;case R:return I=wr(I),W(U,I,P)}if(se(I)||L(I))return I=Er(I,U.mode,P,null),I.return=U,I;if(typeof I.then=="function")return W(U,yu(I),P);if(I.$$typeof===ut)return W(U,du(U,I),P);vu(U,I)}return null}function k(U,I,P,$){var _t=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _t!==null?null:T(U,I,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===_t?N(U,I,P,$):null;case J:return P.key===_t?B(U,I,P,$):null;case R:return P=wr(P),k(U,I,P,$)}if(se(P)||L(P))return _t!==null?null:X(U,I,P,$,null);if(typeof P.then=="function")return k(U,I,yu(P),$);if(P.$$typeof===ut)return k(U,I,du(U,P),$);vu(U,P)}return null}function G(U,I,P,$,_t){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(P)||null,T(I,U,""+$,_t);if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return U=U.get($.key===null?P:$.key)||null,N(I,U,$,_t);case J:return U=U.get($.key===null?P:$.key)||null,B(I,U,$,_t);case R:return $=wr($),G(U,I,P,$,_t)}if(se($)||L($))return U=U.get(P)||null,X(I,U,$,_t,null);if(typeof $.then=="function")return G(U,I,P,yu($),_t);if($.$$typeof===ut)return G(U,I,P,du(I,$),_t);vu(I,$)}return null}function dt(U,I,P,$){for(var _t=null,Yt=null,pt=I,It=I=0,zt=null;pt!==null&&It<P.length;It++){pt.index>It?(zt=pt,pt=null):zt=pt.sibling;var Kt=k(U,pt,P[It],$);if(Kt===null){pt===null&&(pt=zt);break}t&&pt&&Kt.alternate===null&&n(U,pt),I=f(Kt,I,It),Yt===null?_t=Kt:Yt.sibling=Kt,Yt=Kt,pt=zt}if(It===P.length)return a(U,pt),Ht&&Fi(U,It),_t;if(pt===null){for(;It<P.length;It++)pt=W(U,P[It],$),pt!==null&&(I=f(pt,I,It),Yt===null?_t=pt:Yt.sibling=pt,Yt=pt);return Ht&&Fi(U,It),_t}for(pt=l(pt);It<P.length;It++)zt=G(pt,U,It,P[It],$),zt!==null&&(t&&zt.alternate!==null&&pt.delete(zt.key===null?It:zt.key),I=f(zt,I,It),Yt===null?_t=zt:Yt.sibling=zt,Yt=zt);return t&&pt.forEach(function(Ba){return n(U,Ba)}),Ht&&Fi(U,It),_t}function Tt(U,I,P,$){if(P==null)throw Error(s(151));for(var _t=null,Yt=null,pt=I,It=I=0,zt=null,Kt=P.next();pt!==null&&!Kt.done;It++,Kt=P.next()){pt.index>It?(zt=pt,pt=null):zt=pt.sibling;var Ba=k(U,pt,Kt.value,$);if(Ba===null){pt===null&&(pt=zt);break}t&&pt&&Ba.alternate===null&&n(U,pt),I=f(Ba,I,It),Yt===null?_t=Ba:Yt.sibling=Ba,Yt=Ba,pt=zt}if(Kt.done)return a(U,pt),Ht&&Fi(U,It),_t;if(pt===null){for(;!Kt.done;It++,Kt=P.next())Kt=W(U,Kt.value,$),Kt!==null&&(I=f(Kt,I,It),Yt===null?_t=Kt:Yt.sibling=Kt,Yt=Kt);return Ht&&Fi(U,It),_t}for(pt=l(pt);!Kt.done;It++,Kt=P.next())Kt=G(pt,U,It,Kt.value,$),Kt!==null&&(t&&Kt.alternate!==null&&pt.delete(Kt.key===null?It:Kt.key),I=f(Kt,I,It),Yt===null?_t=Kt:Yt.sibling=Kt,Yt=Kt);return t&&pt.forEach(function(pT){return n(U,pT)}),Ht&&Fi(U,It),_t}function ae(U,I,P,$){if(typeof P=="object"&&P!==null&&P.type===Q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var _t=P.key;I!==null;){if(I.key===_t){if(_t=P.type,_t===Q){if(I.tag===7){a(U,I.sibling),$=h(I,P.props.children),$.return=U,U=$;break t}}else if(I.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&wr(_t)===I.type){a(U,I.sibling),$=h(I,P.props),xl($,P),$.return=U,U=$;break t}a(U,I);break}else n(U,I);I=I.sibling}P.type===Q?($=Er(P.props.children,U.mode,$,P.key),$.return=U,U=$):($=cu(P.type,P.key,P.props,null,U.mode,$),xl($,P),$.return=U,U=$)}return v(U);case J:t:{for(_t=P.key;I!==null;){if(I.key===_t)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){a(U,I.sibling),$=h(I,P.children||[]),$.return=U,U=$;break t}else{a(U,I);break}else n(U,I);I=I.sibling}$=Eh(P,U.mode,$),$.return=U,U=$}return v(U);case R:return P=wr(P),ae(U,I,P,$)}if(se(P))return dt(U,I,P,$);if(L(P)){if(_t=L(P),typeof _t!="function")throw Error(s(150));return P=_t.call(P),Tt(U,I,P,$)}if(typeof P.then=="function")return ae(U,I,yu(P),$);if(P.$$typeof===ut)return ae(U,I,du(U,P),$);vu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(a(U,I.sibling),$=h(I,P),$.return=U,U=$):(a(U,I),$=_h(P,U.mode,$),$.return=U,U=$),v(U)):a(U,I)}return function(U,I,P,$){try{Rl=0;var _t=ae(U,I,P,$);return fs=null,_t}catch(pt){if(pt===hs||pt===pu)throw pt;var Yt=wn(29,pt,null,U.mode);return Yt.lanes=$,Yt.return=U,Yt}}}var xr=gp(!0),yp=gp(!1),Aa=!1;function Ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=uu(t),tp(t,null,a),n}return ou(t,l,n,a),uu(t)}function Cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,el(t,a)}}function Mh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var jh=!1;function Dl(){if(jh){var t=cs;if(t!==null)throw t}}function Nl(t,n,a,l){jh=!1;var h=t.updateQueue;Aa=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,B=N.next;N.next=null,v===null?f=B:v.next=B,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=N))}if(f!==null){var W=h.baseState;v=0,X=B=N=null,T=f;do{var k=T.lane&-536870913,G=k!==T.lane;if(G?(Lt&k)===k:(l&k)===k){k!==0&&k===us&&(jh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=t,Tt=T;k=n;var ae=a;switch(Tt.tag){case 1:if(dt=Tt.payload,typeof dt=="function"){W=dt.call(ae,W,k);break t}W=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Tt.payload,k=typeof dt=="function"?dt.call(ae,W,k):dt,k==null)break t;W=b({},W,k);break t;case 2:Aa=!0}}k=T.callback,k!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[k]:G.push(k))}else G={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=G,N=W):X=X.next=G,v|=k;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(N=W),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Na|=v,t.lanes=v,t.memoizedState=W}}function vp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function _p(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vp(a[t],n)}var ds=O(null),_u=O(0);function Ep(t,n){t=ea,lt(_u,t),lt(ds,n),ea=t|n.baseLanes}function Uh(){lt(_u,ea),lt(ds,ds.current)}function Lh(){ea=_u.current,Z(ds),Z(_u)}var Rn=O(null),Fn=null;function Ra(t){var n=t.alternate;lt(be,be.current&1),lt(Rn,t),Fn===null&&(n===null||ds.current!==null||n.memoizedState!==null)&&(Fn=t)}function zh(t){lt(be,be.current),lt(Rn,t),Fn===null&&(Fn=t)}function Tp(t){t.tag===22?(lt(be,be.current),lt(Rn,t),Fn===null&&(Fn=t)):xa()}function xa(){lt(be,be.current),lt(Rn,Rn.current)}function xn(t){Z(Rn),Fn===t&&(Fn=null),Z(be)}var be=O(0);function Eu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gf(a)||Qf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Vt=null,ne=null,Ie=null,Tu=!1,ms=!1,Cr=!1,bu=0,Vl=0,ps=null,r1=0;function ve(){throw Error(s(321))}function Ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Sn(t[a],n[a]))return!1;return!0}function Bh(t,n,a,l,h,f){return Yi=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?ag:ef,Cr=!1,f=a(l,h),Cr=!1,ms&&(f=Ap(n,a,l,h)),bp(t),f}function bp(t){Y.H=Ml;var n=ne!==null&&ne.next!==null;if(Yi=0,Ie=ne=Vt=null,Tu=!1,Vl=0,ps=null,n)throw Error(s(300));t===null||Oe||(t=t.dependencies,t!==null&&fu(t)&&(Oe=!0))}function Ap(t,n,a,l){Vt=t;var h=0;do{if(ms&&(ps=null),Vl=0,ms=!1,25<=h)throw Error(s(301));if(h+=1,Ie=ne=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=rg,f=n(a,l)}while(ms);return f}function s1(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],(ne!==null?ne.memoizedState:null)!==t&&(Vt.flags|=1024),n}function kh(){var t=bu!==0;return bu=0,t}function Hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function qh(t){if(Tu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Tu=!1}Yi=0,Ie=ne=Vt=null,ms=!1,Vl=bu=0,ps=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Vt.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Ae(){if(ne===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var n=Ie===null?Vt.memoizedState:Ie.next;if(n!==null)Ie=n,ne=t;else{if(t===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ie===null?Vt.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var n=Vl;return Vl+=1,ps===null&&(ps=[]),t=dp(ps,t,n),n=Vt,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?ag:ef),t}function Su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===ut)return Xe(t)}throw Error(s(438,String(t)))}function Fh(t){var n=null,a=Vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Au(),Vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Ki(t,n){return typeof n=="function"?n(t):n}function wu(t){var n=Ae();return Gh(n,ne,t)}function Gh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,N=null,B=n,X=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Lt&W)===W:(Yi&W)===W){var k=B.revertLane;if(k===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===us&&(X=!0);else if((Yi&k)===k){B=B.next,k===us&&(X=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=W,v=f):N=N.next=W,Vt.lanes|=k,Na|=k;W=B.action,Cr&&a(f,W),f=B.hasEagerState?B.eagerState:a(f,W)}else k={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=k,v=f):N=N.next=k,Vt.lanes|=W,Na|=W;B=B.next}while(B!==null&&B!==n);if(N===null?v=f:N.next=T,!Sn(f,t.memoizedState)&&(Oe=!0,X&&(a=cs,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qh(t){var n=Ae(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Sn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Sp(t,n,a){var l=Vt,h=Ae(),f=Ht;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!Sn((ne||h).memoizedState,a);if(v&&(h.memoizedState=a,Oe=!0),h=h.queue,Xh(xp.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,gs(9,{destroy:void 0},Rp.bind(null,l,h,a,n),null),re===null)throw Error(s(349));f||(Yi&127)!==0||wp(l,n,a)}return a}function wp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Vt.updateQueue,n===null?(n=Au(),Vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rp(t,n,a,l){n.value=a,n.getSnapshot=l,Cp(n)&&Dp(t)}function xp(t,n,a){return a(function(){Cp(n)&&Dp(t)})}function Cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Sn(t,a)}catch{return!0}}function Dp(t){var n=_r(t,2);n!==null&&vn(n,t,2)}function Yh(t){var n=cn();if(typeof t=="function"){var a=t;if(t=a(),Cr){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function Np(t,n,a,l){return t.baseState=a,Gh(t,ne,typeof l=="function"?l:Ki)}function l1(t,n,a,l,h){if(Cu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Vp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Y.T,v={};Y.T=v;try{var T=a(h,l),N=Y.S;N!==null&&N(v,T),Ip(t,n,T)}catch(B){Kh(t,n,B)}finally{f!==null&&v.types!==null&&(f.types=v.types),Y.T=f}}else try{f=a(h,l),Ip(t,n,f)}catch(B){Kh(t,n,B)}}function Ip(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Op(t,n,l)},function(l){return Kh(t,n,l)}):Op(t,n,a)}function Op(t,n,a){n.status="fulfilled",n.value=a,Mp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function Kh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Mp(n),n=n.next;while(n!==l)}t.action=null}function Mp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jp(t,n){return n}function Up(t,n){if(Ht){var a=re.formState;if(a!==null){t:{var l=Vt;if(Ht){if(ue){e:{for(var h=ue,f=qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=Gn(h.nextSibling),l=h.data==="F!";break t}}Ta(l)}l=!1}l&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:n},a.queue=l,a=eg.bind(null,Vt,l),l.dispatch=a,l=Yh(!1),f=tf.bind(null,Vt,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=l1.bind(null,Vt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lp(t){var n=Ae();return zp(n,ne,t)}function zp(t,n,a){if(n=Gh(t,n,jp)[0],t=wu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Il(n)}catch(v){throw v===hs?pu:v}else l=n;n=Ae();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Vt.flags|=2048,gs(9,{destroy:void 0},o1.bind(null,h,a),null)),[l,f,t]}function o1(t,n){t.action=n}function Pp(t){var n=Ae(),a=ne;if(a!==null)return zp(n,a,t);Ae(),n=n.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function gs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=Au(),Vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Bp(){return Ae().memoizedState}function Ru(t,n,a,l){var h=cn();Vt.flags|=t,h.memoizedState=gs(1|n,{destroy:void 0},a,l===void 0?null:l)}function xu(t,n,a,l){var h=Ae();l=l===void 0?null:l;var f=h.memoizedState.inst;ne!==null&&l!==null&&Ph(l,ne.memoizedState.deps)?h.memoizedState=gs(n,f,a,l):(Vt.flags|=t,h.memoizedState=gs(1|n,f,a,l))}function kp(t,n){Ru(8390656,8,t,n)}function Xh(t,n){xu(2048,8,t,n)}function u1(t){Vt.flags|=4;var n=Vt.updateQueue;if(n===null)n=Au(),Vt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Hp(t){var n=Ae().memoizedState;return u1({ref:n,nextImpl:t}),function(){if(($t&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function qp(t,n){return xu(4,2,t,n)}function Fp(t,n){return xu(4,4,t,n)}function Gp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qp(t,n,a){a=a!=null?a.concat([t]):null,xu(4,4,Gp.bind(null,n,t),a)}function $h(){}function Yp(t,n){var a=Ae();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Kp(t,n){var a=Ae();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ph(n,l[1]))return l[0];if(l=t(),Cr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,n],l}function Zh(t,n,a){return a===void 0||(Yi&1073741824)!==0&&(Lt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Xg(),Vt.lanes|=t,Na|=t,a)}function Xp(t,n,a,l){return Sn(a,n)?a:ds.current!==null?(t=Zh(t,a,l),Sn(t,n)||(Oe=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,t.memoizedState=a):(t=Xg(),Vt.lanes|=t,Na|=t,n)}function $p(t,n,a,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var v=Y.T,T={};Y.T=T,tf(t,!1,n,a);try{var N=h(),B=Y.S;if(B!==null&&B(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=a1(N,l);Ol(t,n,X,Nn(t))}else Ol(t,n,l,Nn(t))}catch(W){Ol(t,n,{then:function(){},status:"rejected",reason:W},Nn())}finally{st.p=f,v!==null&&T.types!==null&&(v.types=T.types),Y.T=v}}function c1(){}function Jh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Zp(t).queue;$p(t,h,n,yt,a===null?c1:function(){return Jp(t),a(l)})}function Zp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jp(t){var n=Zp(t);n.next===null&&(n=t.alternate.memoizedState),Ol(t,n.next.queue,{},Nn())}function Wh(){return Xe($l)}function Wp(){return Ae().memoizedState}function tg(){return Ae().memoizedState}function h1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Nn();t=Sa(a);var l=wa(n,t,a);l!==null&&(vn(l,n,a),Cl(l,n,a)),n={cache:Ch()},t.payload=n;return}n=n.return}}function f1(t,n,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(t)?ng(n,a):(a=yh(t,n,a,l),a!==null&&(vn(a,t,l),ig(a,n,l)))}function eg(t,n,a){var l=Nn();Ol(t,n,a,l)}function Ol(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(t))ng(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,v))return ou(t,n,h,0),re===null&&lu(),!1}catch{}if(a=yh(t,n,h,l),a!==null)return vn(a,t,l),ig(a,n,l),!0}return!1}function tf(t,n,a,l){if(l={lane:2,revertLane:Of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cu(t)){if(n)throw Error(s(479))}else n=yh(t,a,l,2),n!==null&&vn(n,t,2)}function Cu(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function ng(t,n){ms=Tu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ig(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,el(t,a)}}var Ml={readContext:Xe,use:Su,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Ml.useEffectEvent=ve;var ag={readContext:Xe,use:Su,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Xe,useEffect:kp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ru(4194308,4,Gp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ru(4194308,4,t,n)},useInsertionEffect:function(t,n){Ru(4,2,t,n)},useMemo:function(t,n){var a=cn();n=n===void 0?null:n;var l=t();if(Cr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=cn();if(a!==void 0){var h=a(n);if(Cr){Mn(!0);try{a(n)}finally{Mn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=f1.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Yh(t);var n=t.queue,a=eg.bind(null,Vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(t,n){var a=cn();return Zh(a,t,n)},useTransition:function(){var t=Yh(!1);return t=$p.bind(null,Vt,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Vt,h=cn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),re===null)throw Error(s(349));(Lt&127)!==0||wp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kp(xp.bind(null,l,f,t),[t]),l.flags|=2048,gs(9,{destroy:void 0},Rp.bind(null,l,f,a,n),null),a},useId:function(){var t=cn(),n=re.identifierPrefix;if(Ht){var a=xi,l=Ri;a=(l&~(1<<32-Ee(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=bu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=r1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Wh,useFormState:Up,useActionState:Up,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=tf.bind(null,Vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Fh,useCacheRefresh:function(){return cn().memoizedState=h1.bind(null,Vt)},useEffectEvent:function(t){var n=cn(),a={impl:t};return n.memoizedState=a,function(){if(($t&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ef={readContext:Xe,use:Su,useCallback:Yp,useContext:Xe,useEffect:Xh,useImperativeHandle:Qp,useInsertionEffect:qp,useLayoutEffect:Fp,useMemo:Kp,useReducer:wu,useRef:Bp,useState:function(){return wu(Ki)},useDebugValue:$h,useDeferredValue:function(t,n){var a=Ae();return Xp(a,ne.memoizedState,t,n)},useTransition:function(){var t=wu(Ki)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Sp,useId:Wp,useHostTransitionStatus:Wh,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,n){var a=Ae();return Np(a,ne,t,n)},useMemoCache:Fh,useCacheRefresh:tg};ef.useEffectEvent=Hp;var rg={readContext:Xe,use:Su,useCallback:Yp,useContext:Xe,useEffect:Xh,useImperativeHandle:Qp,useInsertionEffect:qp,useLayoutEffect:Fp,useMemo:Kp,useReducer:Qh,useRef:Bp,useState:function(){return Qh(Ki)},useDebugValue:$h,useDeferredValue:function(t,n){var a=Ae();return ne===null?Zh(a,t,n):Xp(a,ne.memoizedState,t,n)},useTransition:function(){var t=Qh(Ki)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Sp,useId:Wp,useHostTransitionStatus:Wh,useFormState:Pp,useActionState:Pp,useOptimistic:function(t,n){var a=Ae();return ne!==null?Np(a,ne,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:tg};rg.useEffectEvent=Hp;function nf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var af={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Nn(),h=Sa(l);h.payload=n,a!=null&&(h.callback=a),n=wa(t,h,l),n!==null&&(vn(n,t,l),Cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Nn(),h=Sa(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=wa(t,h,l),n!==null&&(vn(n,t,l),Cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Nn(),l=Sa(a);l.tag=2,n!=null&&(l.callback=n),n=wa(t,l,a),n!==null&&(vn(n,t,a),Cl(n,t,a))}};function sg(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!El(a,l)||!El(h,f):!0}function lg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&af.enqueueReplaceState(n,n.state,null)}function Dr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function og(t){su(t)}function ug(t){console.error(t)}function cg(t){su(t)}function Du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(t,n,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(t,n)},a}function fg(t){return t=Sa(t),t.tag=3,t}function dg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){hg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){hg(n,a,l),typeof h!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function d1(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&os(n,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?ku():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===gu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Nf(t,l,h)),!1;case 22:return a.flags|=65536,l===gu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Nf(t,l,h)),!1}throw Error(s(435,a.tag))}return Nf(t,l,h),ku(),!1}if(Ht)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ah&&(t=Error(s(422),{cause:l}),Al(Bn(t,a)))):(l!==Ah&&(n=Error(s(423),{cause:l}),Al(Bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Bn(l,a),h=rf(t.stateNode,l,h),Mh(t,h),_e!==4&&(_e=2)),!1;var f=Error(s(520),{cause:l});if(f=Bn(f,a),Hl===null?Hl=[f]:Hl.push(f),_e!==4&&(_e=2),n===null)return!0;l=Bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rf(a.stateNode,l,t),Mh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Va===null||!Va.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fg(h),dg(h,t,a,l),Mh(a,h),!1}a=a.return}while(a!==null);return!1}var sf=Error(s(461)),Oe=!1;function $e(t,n,a,l){n.child=t===null?yp(n,null,a,l):xr(n,t.child,a,l)}function mg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ar(n),l=Bh(t,n,a,v,f,h),T=kh(),t!==null&&!Oe?(Hh(t,n,h),Xi(t,n,h)):(Ht&&T&&Th(n),n.flags|=1,$e(t,n,l,h),n.child)}function pg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,gg(t,n,f,l,h)):(t=cu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(v,l)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=qi(f,l),t.ref=n.ref,t.return=n,n.child=t}function gg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(El(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,mf(t,h))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return lf(t,n,a,l,h)}function yg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return vg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(n,f!==null?f.cachePool:null),f!==null?Ep(n,f):Uh(),Tp(n);else return l=n.lanes=536870912,vg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(mu(n,f.cachePool),Ep(n,f),xa(),n.memoizedState=null):(t!==null&&mu(n,null),Uh(),xa());return $e(t,n,h,a),n.child}function jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vg(t,n,a,l,h){var f=Nh();return f=f===null?null:{parent:Ve._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&mu(n,null),Uh(),Tp(n),t!==null&&os(t,n,l,!0),n.childLanes=h,null}function Nu(t,n){return n=Iu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _g(t,n,a){return xr(n,t.child,null,a),t=Nu(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function m1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ht){if(l.mode==="hidden")return t=Nu(n,l),n.lanes=536870912,jl(null,t);if(zh(n),(t=ue)?(t=Vy(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_a!==null?{id:Ri,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=np(t),a.return=n,n.child=a,Ke=n,ue=null)):t=null,t===null)throw Ta(n);return n.lanes=536870912,null}return Nu(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(zh(n),h)if(n.flags&256)n.flags&=-257,n=_g(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Oe||os(t,n,a,!1),h=(a&t.childLanes)!==0,Oe||h){if(l=re,l!==null&&(v=nl(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,_r(t,v),vn(l,t,v),sf;ku(),n=_g(t,n,a)}else t=f.treeContext,ue=Gn(v.nextSibling),Ke=n,Ht=!0,Ea=null,qn=!1,t!==null&&rp(n,t),n=Nu(n,l),n.flags|=4096;return n}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Vu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function lf(t,n,a,l,h){return Ar(n),a=Bh(t,n,a,l,void 0,h),l=kh(),t!==null&&!Oe?(Hh(t,n,h),Xi(t,n,h)):(Ht&&l&&Th(n),n.flags|=1,$e(t,n,a,h),n.child)}function Eg(t,n,a,l,h,f){return Ar(n),n.updateQueue=null,a=Ap(n,l,a,h),bp(t),l=kh(),t!==null&&!Oe?(Hh(t,n,f),Xi(t,n,f)):(Ht&&l&&Th(n),n.flags|=1,$e(t,n,a,f),n.child)}function Tg(t,n,a,l,h){if(Ar(n),n.stateNode===null){var f=as,v=a.contextType;typeof v=="object"&&v!==null&&(f=Xe(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ih(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Xe(v):as,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nf(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&af.enqueueReplaceState(f,f.state,null),Nl(n,l,f,h),Dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=Dr(a,T);f.props=N;var B=f.context,X=a.contextType;v=as,typeof X=="object"&&X!==null&&(v=Xe(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==v)&&lg(n,f,l,v),Aa=!1;var k=n.memoizedState;f.state=k,Nl(n,l,f,h),Dl(),B=n.memoizedState,T||k!==B||Aa?(typeof W=="function"&&(nf(n,a,W,l),B=n.memoizedState),(N=Aa||sg(n,a,N,l,k,B,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Oh(t,n),v=n.memoizedProps,X=Dr(a,v),f.props=X,W=n.pendingProps,k=f.context,B=a.contextType,N=as,typeof B=="object"&&B!==null&&(N=Xe(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||k!==N)&&lg(n,f,l,N),Aa=!1,k=n.memoizedState,f.state=k,Nl(n,l,f,h),Dl();var G=n.memoizedState;v!==W||k!==G||Aa||t!==null&&t.dependencies!==null&&fu(t.dependencies)?(typeof T=="function"&&(nf(n,a,T,l),G=n.memoizedState),(X=Aa||sg(n,a,X,l,k,G,N)||t!==null&&t.dependencies!==null&&fu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=N,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Vu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=xr(n,t.child,null,h),n.child=xr(n,null,a,h)):$e(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Xi(t,n,h),t}function bg(t,n,a,l){return Tr(),n.flags|=256,$e(t,n,a,l),n.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(t){return{baseLanes:t,cachePool:hp()}}function cf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function Ag(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ht){if(h?Ra(n):xa(),(t=ue)?(t=Vy(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_a!==null?{id:Ri,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=np(t),a.return=n,n.child=a,Ke=n,ue=null)):t=null,t===null)throw Ta(n);return Qf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xa(),h=n.mode,T=Iu({mode:"hidden",children:T},h),l=Er(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=uf(a),l.childLanes=cf(t,v,a),n.memoizedState=of,jl(null,l)):(Ra(n),hf(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(Ra(n),n.flags&=-257,n=ff(t,n,a)):n.memoizedState!==null?(xa(),n.child=t.child,n.flags|=128,n=null):(xa(),T=l.fallback,h=n.mode,l=Iu({mode:"visible",children:l.children},h),T=Er(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,xr(n,t.child,null,a),l=n.child,l.memoizedState=uf(a),l.childLanes=cf(t,v,a),n.memoizedState=of,n=jl(null,l));else if(Ra(n),Qf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Al({value:l,source:null,stack:null}),n=ff(t,n,a)}else if(Oe||os(t,n,a,!1),v=(a&t.childLanes)!==0,Oe||v){if(v=re,v!==null&&(l=nl(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,_r(t,l),vn(v,t,l),sf;Gf(T)||ku(),n=ff(t,n,a)}else Gf(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ue=Gn(T.nextSibling),Ke=n,Ht=!0,Ea=null,qn=!1,t!==null&&rp(n,t),n=hf(n,l.children),n.flags|=4096);return n}return h?(xa(),T=l.fallback,h=n.mode,N=t.child,B=N.sibling,l=qi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?T=qi(B,T):(T=Er(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,jl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=uf(a):(h=T.cachePool,h!==null?(N=Ve._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=hp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=cf(t,v,a),n.memoizedState=of,jl(t.child,l)):(Ra(n),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function hf(t,n){return n=Iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Iu(t,n){return t=wn(22,t,null,n),t.lanes=0,t}function ff(t,n,a){return xr(n,t.child,null,a),t=hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Sg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Rh(t.return,n,a)}function df(t,n,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function wg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=be.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,lt(be,v),$e(t,n,l,a),l=Ht?bl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sg(t,a,n);else if(t.tag===19)Sg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Eu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),df(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Eu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}df(n,!0,a,null,f,l);break;case"together":df(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Na|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(os(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=qi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fu(t)))}function p1(t,n,a){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),ba(n,Ve,t.memoizedState.cache),Tr();break;case 27:case 5:le(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:ba(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ra(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ag(t,n,a):(Ra(n),t=Xi(t,n,a),t!==null?t.sibling:null);Ra(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(os(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return wg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(be,be.current),l)break;return null;case 22:return n.lanes=0,yg(t,n,a,n.pendingProps);case 24:ba(n,Ve,t.memoizedState.cache)}return Xi(t,n,a)}function Rg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!mf(t,a)&&(n.flags&128)===0)return Oe=!1,p1(t,n,a);Oe=(t.flags&131072)!==0}else Oe=!1,Ht&&(n.flags&1048576)!==0&&ap(n,bl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=wr(n.elementType),n.type=t,typeof t=="function")vh(t)?(l=Dr(t,l),n.tag=1,n=Tg(null,n,t,l,a)):(n.tag=0,n=lf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===mt){n.tag=11,n=mg(null,n,t,l,a);break t}else if(h===C){n.tag=14,n=pg(null,n,t,l,a);break t}}throw n=qt(t)||t,Error(s(306,n,""))}}return n;case 0:return lf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Dr(l,n.pendingProps),Tg(t,n,l,h,a);case 3:t:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Oh(t,n),Nl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,ba(n,Ve,l),l!==f.cache&&xh(n,[Ve],a,!0),Dl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bg(t,n,l,a);break t}else if(l!==h){h=Bn(Error(s(424)),n),Al(h),n=bg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ue=Gn(t.firstChild),Ke=n,Ht=!0,Ea=null,qn=!0,a=yp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Tr(),l===h){n=Xi(t,n,a);break t}$e(t,n,l,a)}n=n.child}return n;case 26:return Vu(t,n),t===null?(a=Ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ht||(a=n.type,t=n.pendingProps,l=Ku(et.current).createElement(a),l[Ce]=n,l[He]=t,Ze(l,a,t),De(l),n.stateNode=l):n.memoizedState=Ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return le(n),t===null&&Ht&&(l=n.stateNode=My(n.type,n.pendingProps,et.current),Ke=n,qn=!0,h=ue,ja(n.type)?(Yf=h,ue=Gn(l.firstChild)):ue=h),$e(t,n,n.pendingProps.children,a),Vu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ht&&((h=l=ue)&&(l=G1(l,n.type,n.pendingProps,qn),l!==null?(n.stateNode=l,Ke=n,ue=Gn(l.firstChild),qn=!1,h=!0):h=!1),h||Ta(n)),le(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Hf(h,f)?l=null:v!==null&&Hf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(t,n,s1,null,null,a),$l._currentValue=h),Vu(t,n),$e(t,n,l,a),n.child;case 6:return t===null&&Ht&&((t=a=ue)&&(a=Q1(a,n.pendingProps,qn),a!==null?(n.stateNode=a,Ke=n,ue=null,t=!0):t=!1),t||Ta(n)),null;case 13:return Ag(t,n,a);case 4:return bt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=xr(n,null,l,a):$e(t,n,l,a),n.child;case 11:return mg(t,n,n.type,n.pendingProps,a);case 7:return $e(t,n,n.pendingProps,a),n.child;case 8:return $e(t,n,n.pendingProps.children,a),n.child;case 12:return $e(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ba(n,n.type,l.value),$e(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ar(n),h=Xe(h),l=l(h),n.flags|=1,$e(t,n,l,a),n.child;case 14:return pg(t,n,n.type,n.pendingProps,a);case 15:return gg(t,n,n.type,n.pendingProps,a);case 19:return wg(t,n,a);case 31:return m1(t,n,a);case 22:return yg(t,n,a,n.pendingProps);case 24:return Ar(n),l=Xe(Ve),t===null?(h=Nh(),h===null&&(h=re,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Ih(n),ba(n,Ve,h)):((t.lanes&a)!==0&&(Oh(t,n),Nl(n,null,null,a),Dl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ba(n,Ve,l)):(l=f.cache,ba(n,Ve,l),l!==h.cache&&xh(n,[Ve],a,!0))),$e(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(t){t.flags|=4}function pf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Wg())t.flags|=8192;else throw Rr=gu,Vh}else t.flags&=-16777217}function xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(n))if(Wg())t.flags|=8192;else throw Rr=gu,Vh}function Ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Po():536870912,t.lanes|=n,Es|=n)}function Ul(t,n){if(!Ht)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ce(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function g1(t,n,a){var l=n.pendingProps;switch(bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(Ve),wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ls(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?($i(n),f!==null?(ce(n),xg(n,f)):(ce(n),pf(n,h,null,l,a))):f?f!==t.memoizedState?($i(n),ce(n),xg(n,f)):(ce(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(n),ce(n),pf(n,h,t,l,a)),null;case 27:if(Ut(n),a=et.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}t=q.current,ls(n)?sp(n):(t=My(h,l,a),n.stateNode=t,$i(n))}return ce(n),null;case 5:if(Ut(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}if(f=q.current,ls(n))sp(n);else{var v=Ku(et.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[Ce]=n,f[He]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;t:switch(Ze(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(n)}}return ce(n),pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=et.current,ls(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ce]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(t.nodeValue,a)),t||Ta(n,!0)}else t=Ku(t).createTextNode(l),t[Ce]=n,n.stateNode=t}return ce(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ls(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ce]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),t=!1}else a=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ce(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ls(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ce]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Ou(n,n.updateQueue),ce(n),null);case 4:return wt(),t===null&&Lf(n.stateNode.containerInfo),ce(n),null;case 10:return Qi(n.type),ce(n),null;case 19:if(Z(be),l=n.memoizedState,l===null)return ce(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ul(l,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Eu(t),f!==null){for(n.flags|=128,Ul(l,!1),t=f.updateQueue,n.updateQueue=t,Ou(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ep(a,t),a=a.sibling;return lt(be,be.current&1|2),Ht&&Fi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ke()>zu&&(n.flags|=128,h=!0,Ul(l,!1),n.lanes=4194304)}else{if(!h)if(t=Eu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ou(n,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ht)return ce(n),null}else 2*ke()-l.renderingStartTime>zu&&a!==536870912&&(n.flags|=128,h=!0,Ul(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ke(),t.sibling=null,a=be.current,lt(be,h?a&1|2:a&1),Ht&&Fi(n,l.treeForkCount),t):(ce(n),null);case 22:case 23:return xn(n),Lh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),a=n.updateQueue,a!==null&&Ou(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Z(Sr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Qi(Ve),ce(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function y1(t,n){switch(bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qi(Ve),wt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ut(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(s(340));Tr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Tr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(be),null;case 4:return wt(),null;case 10:return Qi(n.type),null;case 22:case 23:return xn(n),Lh(),t!==null&&Z(Sr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qi(Ve),null;case 25:return null;default:return null}}function Cg(t,n){switch(bh(n),n.tag){case 3:Qi(Ve),wt();break;case 26:case 27:case 5:Ut(n);break;case 4:wt();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Z(be);break;case 10:Qi(n.type);break;case 22:case 23:xn(n),Lh(),t!==null&&Z(Sr);break;case 24:Qi(Ve)}}function Ll(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){te(n,n.return,T)}}function Ca(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var N=a,B=T;try{B()}catch(X){te(h,N,X)}}}l=l.next}while(l!==f)}}catch(X){te(n,n.return,X)}}function Dg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{_p(n,a)}catch(l){te(t,t.return,l)}}}function Ng(t,n,a){a.props=Dr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){te(t,n,l)}}function zl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){te(t,n,h)}}function Ci(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){te(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(t,n,h)}else a.current=null}function Vg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){te(t,t.return,h)}}function gf(t,n,a){try{var l=t.stateNode;P1(l,t.type,a,n),l[He]=n}catch(h){te(t,t.return,h)}}function Ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ja(t.type)||t.tag===4}function yf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ja(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wn));else if(l!==4&&(l===27&&ja(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,a),t=t.sibling;t!==null;)vf(t,n,a),t=t.sibling}function Mu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ja(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mu(t,n,a),t=t.sibling;t!==null;)Mu(t,n,a),t=t.sibling}function Og(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,l,a),n[Ce]=t,n[He]=a}catch(f){te(t,t.return,f)}}var Zi=!1,Me=!1,_f=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function v1(t,n){if(t=t.containerInfo,Bf=ec,t=Qm(t),hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,N=-1,B=0,X=0,W=t,k=null;e:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==f||l!==0&&W.nodeType!==3||(N=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(G=W.firstChild)!==null;)k=W,W=G;for(;;){if(W===t)break e;if(k===a&&++B===h&&(T=v),k===f&&++X===l&&(N=v),(G=W.nextSibling)!==null)break;W=k,k=W.parentNode}W=G}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(kf={focusedElem:t,selectionRange:a},ec=!1,Fe=n;Fe!==null;)if(n=Fe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Fe=t;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var dt=Dr(a.type,h);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){te(a,a.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Fe=t;break}Fe=n.return}}function jg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&Ll(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){te(a,a.return,v)}else{var h=Dr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){te(a,a.return,v)}}l&64&&Dg(a),l&512&&zl(a,a.return);break;case 3:if(Wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{_p(t,n)}catch(v){te(a,a.return,v)}}break;case 27:n===null&&l&4&&Og(a);case 26:case 5:Wi(t,a),n===null&&l&4&&Vg(a),l&512&&zl(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),l&4&&zg(t,a);break;case 13:Wi(t,a),l&4&&Pg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=x1.bind(null,a),Y1(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Me,h=Zi;var f=Me;Zi=l,(Me=n)&&!f?ta(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Zi=h,Me=f}break;case 30:break;default:Wi(t,a)}}function Ug(t){var n=t.alternate;n!==null&&(t.alternate=null,Ug(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,mn=!1;function Ji(t,n,a){for(a=a.child;a!==null;)Lg(t,n,a),a=a.sibling}function Lg(t,n,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Me||Ci(a,n),Ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||Ci(a,n);var l=me,h=mn;ja(a.type)&&(me=a.stateNode,mn=!1),Ji(t,n,a),Yl(a.stateNode),me=l,mn=h;break;case 5:Me||Ci(a,n);case 6:if(l=me,h=mn,me=null,Ji(t,n,a),me=l,mn=h,me!==null)if(mn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(f){te(a,n,f)}else try{me.removeChild(a.stateNode)}catch(f){te(a,n,f)}break;case 18:me!==null&&(mn?(t=me,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cs(t)):Dy(me,a.stateNode));break;case 4:l=me,h=mn,me=a.stateNode.containerInfo,mn=!0,Ji(t,n,a),me=l,mn=h;break;case 0:case 11:case 14:case 15:Ca(2,a,n),Me||Ca(4,a,n),Ji(t,n,a);break;case 1:Me||(Ci(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ng(a,n,l)),Ji(t,n,a);break;case 21:Ji(t,n,a);break;case 22:Me=(l=Me)||a.memoizedState!==null,Ji(t,n,a),Me=l;break;default:Ji(t,n,a)}}function zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cs(t)}catch(a){te(n,n.return,a)}}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cs(t)}catch(a){te(n,n.return,a)}}function _1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Mg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Mg),n;default:throw Error(s(435,t.tag))}}function ju(t,n){var a=_1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=C1.bind(null,t,l);l.then(h,h)}})}function pn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(ja(T.type)){me=T.stateNode,mn=!1;break t}break;case 5:me=T.stateNode,mn=!1;break t;case 3:case 4:me=T.stateNode.containerInfo,mn=!0;break t}T=T.return}if(me===null)throw Error(s(160));Lg(f,v,h),me=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bg(n,t),n=n.sibling}var ri=null;function Bg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),gn(t),l&4&&(Ca(3,t,t.return),Ll(3,t),Ca(5,t,t.return));break;case 1:pn(n,t),gn(t),l&512&&(Me||a===null||Ci(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ri;if(pn(n,t),gn(t),l&512&&(Me||a===null||Ci(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,l,a),f[Ce]=t,De(f),l=f;break t;case"link":var v=By("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),Ze(f,l,a),h.head.appendChild(f);break;case"meta":if(v=By("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),Ze(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ce]=t,De(f),l=f}t.stateNode=l}else ky(h,t.type,t.stateNode);else t.stateNode=Py(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ky(h,t.type,t.stateNode):Py(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(n,t),gn(t),l&512&&(Me||a===null||Ci(a,a.return)),a!==null&&l&4&&gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(n,t),gn(t),l&512&&(Me||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(dt){te(t,t.return,dt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_f=!0);break;case 6:if(pn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(dt){te(t,t.return,dt)}}break;case 3:if(Zu=null,h=ri,ri=Xu(n.containerInfo),pn(n,t),ri=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cs(n.containerInfo)}catch(dt){te(t,t.return,dt)}_f&&(_f=!1,kg(t));break;case 4:l=ri,ri=Xu(t.stateNode.containerInfo),pn(n,t),gn(t),ri=l;break;case 12:pn(n,t),gn(t);break;case 31:pn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 13:pn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lu=ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Zi,X=Me;if(Zi=B||h,Me=X||N,pn(n,t),Me=X,Zi=B,gn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Zi||Me||Nr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var W=N.memoizedProps.style,k=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(dt){te(N,N.return,dt)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){te(N,N.return,dt)}}}else if(n.tag===18){if(a===null){N=n;try{var G=N.stateNode;h?Ny(G,!0):Ny(N.stateNode,!1)}catch(dt){te(N,N.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ju(t,a))));break;case 19:pn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 30:break;case 21:break;default:pn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ig(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=yf(t);Mu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(dn(v,""),a.flags&=-33);var T=yf(t);Mu(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,B=yf(t);vf(t,B,N);break;default:throw Error(s(161))}}catch(X){te(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jg(t,n.alternate,n),n=n.sibling}function Nr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ca(4,n,n.return),Nr(n);break;case 1:Ci(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ng(n,n.return,a),Nr(n);break;case 27:Yl(n.stateNode);case 26:case 5:Ci(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}t=t.sibling}}function ta(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ta(h,f,a),Ll(4,f);break;case 1:if(ta(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){te(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)vp(N[h],T)}catch(B){te(l,l.return,B)}}a&&v&64&&Dg(f),zl(f,f.return);break;case 27:Og(f);case 26:case 5:ta(h,f,a),a&&l===null&&v&4&&Vg(f),zl(f,f.return);break;case 12:ta(h,f,a);break;case 31:ta(h,f,a),a&&v&4&&zg(h,f);break;case 13:ta(h,f,a),a&&v&4&&Pg(h,f);break;case 22:f.memoizedState===null&&ta(h,f,a),zl(f,f.return);break;case 30:break;default:ta(h,f,a)}n=n.sibling}}function Ef(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function Tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t))}function si(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hg(t,n,a,l),n=n.sibling}function Hg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,a,l),h&2048&&Ll(9,n);break;case 1:si(t,n,a,l);break;case 3:si(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t)));break;case 12:if(h&2048){si(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){te(n,n.return,N)}}else si(t,n,a,l);break;case 31:si(t,n,a,l);break;case 13:si(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?si(t,n,a,l):Pl(t,n):f._visibility&2?si(t,n,a,l):(f._visibility|=2,ys(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ef(v,n);break;case 24:si(t,n,a,l),h&2048&&Tf(n.alternate,n);break;default:si(t,n,a,l)}}function ys(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,T=a,N=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ys(f,v,T,N,h),Ll(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ys(f,v,T,N,h):Pl(f,v):(X._visibility|=2,ys(f,v,T,N,h)),h&&B&2048&&Ef(v.alternate,v);break;case 24:ys(f,v,T,N,h),h&&B&2048&&Tf(v.alternate,v);break;default:ys(f,v,T,N,h)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&Ef(l.alternate,l);break;case 24:Pl(a,l),h&2048&&Tf(l.alternate,l);break;default:Pl(a,l)}n=n.sibling}}var Bl=8192;function vs(t,n,a){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)qg(t,n,a),t=t.sibling}function qg(t,n,a){switch(t.tag){case 26:vs(t,n,a),t.flags&Bl&&t.memoizedState!==null&&rT(a,ri,t.memoizedState,t.memoizedProps);break;case 5:vs(t,n,a);break;case 3:case 4:var l=ri;ri=Xu(t.stateNode.containerInfo),vs(t,n,a),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,vs(t,n,a),Bl=l):vs(t,n,a));break;default:vs(t,n,a)}}function Fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,Qg(l,t)}Fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Ca(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Uu(t)):kl(t);break;default:kl(t)}}function Uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,Qg(l,t)}Fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ca(8,n,n.return),Uu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(n));break;default:Uu(n)}t=t.sibling}}function Qg(t,n){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=t;Fe!==null;){l=Fe;var h=l.sibling,f=l.return;if(Ug(l),l===a){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var E1={getCacheForType:function(t){var n=Xe(Ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Xe(Ve).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,Mt=null,Lt=0,Wt=0,Cn=null,Da=!1,_s=!1,bf=!1,ea=0,_e=0,Na=0,Vr=0,Af=0,Dn=0,Es=0,Hl=null,yn=null,Sf=!1,Lu=0,Yg=0,zu=1/0,Pu=null,Va=null,ze=0,Ia=null,Ts=null,na=0,wf=0,Rf=null,Kg=null,ql=0,xf=null;function Nn(){return($t&2)!==0&&Lt!==0?Lt&-Lt:Y.T!==null?Of():Bo()}function Xg(){if(Dn===0)if((Lt&536870912)===0||Ht){var t=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Dn=t}else Dn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Dn}function vn(t,n,a){(t===re&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)&&(bs(t,0),Oa(t,Lt,Dn,!1)),rr(t,a),(($t&2)===0||t!==re)&&(t===re&&(($t&2)===0&&(Vr|=a),_e===4&&Oa(t,Lt,Dn,!1)),Di(t))}function $g(t,n,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),h=l?S1(t,n):Df(t,n,!0),f=l;do{if(h===0){_s&&!l&&Oa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!b1(a)){h=Df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Hl;var N=T.current.memoizedState.isDehydrated;if(N&&(bs(T,v).flags|=256),v=Df(T,v,!1),v!==2){if(bf&&!N){T.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){bs(t,0),Oa(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Oa(l,n,Dn,!Da);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Lu+300-ke(),10<h)){if(Oa(l,n,Dn,!Da),hi(l,0,!0)!==0)break t;na=n,l.timeoutHandle=xy(Zg.bind(null,l,a,yn,Pu,Sf,n,Dn,Vr,Es,Da,f,"Throttled",-0,0),h);break t}Zg(l,a,yn,Pu,Sf,n,Dn,Vr,Es,Da,f,null,-0,0)}}break}while(!0);Di(t)}function Zg(t,n,a,l,h,f,v,T,N,B,X,W,k,G){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},qg(n,f,W);var dt=(f&62914560)===f?Lu-ke():(f&4194048)===f?Yg-ke():0;if(dt=sT(W,dt),dt!==null){na=f,t.cancelPendingCommit=dt(ry.bind(null,t,n,f,a,l,h,v,T,N,X,W,null,k,G)),Oa(t,f,v,!B);return}}ry(t,n,f,a,l,h,v,T,N)}function b1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oa(t,n,a,l){n&=~Af,n&=~Vr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&sr(t,a,n)}function Bu(){return($t&6)===0?(Fl(0),!1):!0}function Cf(){if(Mt!==null){if(Wt===0)var t=Mt.return;else t=Mt,Gi=br=null,qh(t),fs=null,Rl=0,t=Mt;for(;t!==null;)Cg(t.alternate,t),t=t.return;Mt=null}}function bs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,H1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),na=0,Cf(),re=t,Mt=a=qi(t.current,null),Lt=n,Wt=0,Cn=null,Da=!1,_s=$n(t,n),bf=!1,Es=Dn=Af=Vr=Na=_e=0,yn=Hl=null,Sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ee(l),f=1<<h;n|=t[h],l&=~f}return ea=n,lu(),a}function Jg(t,n){Vt=null,Y.H=Ml,n===hs||n===pu?(n=mp(),Wt=3):n===Vh?(n=mp(),Wt=4):Wt=n===sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Mt===null&&(_e=1,Du(t,Bn(n,t.current)))}function Wg(){var t=Rn.current;return t===null?!0:(Lt&4194048)===Lt?Fn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?t===Fn:!1}function ty(){var t=Y.H;return Y.H=Ml,t===null?Ml:t}function ey(){var t=Y.A;return Y.A=E1,t}function ku(){_e=4,Da||(Lt&4194048)!==Lt&&Rn.current!==null||(_s=!0),(Na&134217727)===0&&(Vr&134217727)===0||re===null||Oa(re,Lt,Dn,!1)}function Df(t,n,a){var l=$t;$t|=2;var h=ty(),f=ey();(re!==t||Lt!==n)&&(Pu=null,bs(t,n)),n=!1;var v=_e;t:do try{if(Wt!==0&&Mt!==null){var T=Mt,N=Cn;switch(Wt){case 8:Cf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var B=Wt;if(Wt=0,Cn=null,As(t,T,N,B),a&&_s){v=0;break t}break;default:B=Wt,Wt=0,Cn=null,As(t,T,N,B)}}A1(),v=_e;break}catch(X){Jg(t,X)}while(!0);return n&&t.shellSuspendCounter++,Gi=br=null,$t=l,Y.H=h,Y.A=f,Mt===null&&(re=null,Lt=0,lu()),v}function A1(){for(;Mt!==null;)ny(Mt)}function S1(t,n){var a=$t;$t|=2;var l=ty(),h=ey();re!==t||Lt!==n?(Pu=null,zu=ke()+500,bs(t,n)):_s=$n(t,n);t:do try{if(Wt!==0&&Mt!==null){n=Mt;var f=Cn;e:switch(Wt){case 1:Wt=0,Cn=null,As(t,n,f,1);break;case 2:case 9:if(fp(f)){Wt=0,Cn=null,iy(n);break}n=function(){Wt!==2&&Wt!==9||re!==t||(Wt=7),Di(t)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:fp(f)?(Wt=0,Cn=null,iy(n)):(Wt=0,Cn=null,As(t,n,f,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var T=Mt;if(v?Hy(v):T.stateNode.complete){Wt=0,Cn=null;var N=T.sibling;if(N!==null)Mt=N;else{var B=T.return;B!==null?(Mt=B,Hu(B)):Mt=null}break e}}Wt=0,Cn=null,As(t,n,f,5);break;case 6:Wt=0,Cn=null,As(t,n,f,6);break;case 8:Cf(),_e=6;break t;default:throw Error(s(462))}}w1();break}catch(X){Jg(t,X)}while(!0);return Gi=br=null,Y.H=l,Y.A=h,$t=a,Mt!==null?0:(re=null,Lt=0,lu(),_e)}function w1(){for(;Mt!==null&&!Js();)ny(Mt)}function ny(t){var n=Rg(t.alternate,t,ea);t.memoizedProps=t.pendingProps,n===null?Hu(t):Mt=n}function iy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Eg(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Eg(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:qh(n);default:Cg(a,n),n=Mt=ep(n,ea),n=Rg(a,n,ea)}t.memoizedProps=t.pendingProps,n===null?Hu(t):Mt=n}function As(t,n,a,l){Gi=br=null,qh(n),fs=null,Rl=0;var h=n.return;try{if(d1(t,h,n,a,Lt)){_e=1,Du(t,Bn(a,t.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;_e=1,Du(t,Bn(a,t.current)),Mt=null;return}n.flags&32768?(Ht||l===1?t=!0:_s||(Lt&536870912)!==0?t=!1:(Da=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(n,t)):Hu(n)}function Hu(t){var n=t;do{if((n.flags&32768)!==0){ay(n,Da);return}t=n.return;var a=g1(n.alternate,n,ea);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=t}while(n!==null);_e===0&&(_e=5)}function ay(t,n){do{var a=y1(t.alternate,t);if(a!==null){a.flags&=32767,Mt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Mt=t;return}Mt=t=a}while(t!==null);_e=6,Mt=null}function ry(t,n,a,l,h,f,v,T,N){t.cancelPendingCommit=null;do qu();while(ze!==0);if(($t&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=gh,lh(t,a,f,v,T,N),t===re&&(Mt=re=null,Lt=0),Ts=n,Ia=t,na=a,wf=f,Rf=h,Kg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D1(ua,function(){return cy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=st.p,st.p=2,v=$t,$t|=4;try{v1(t,n,a)}finally{$t=v,st.p=h,Y.T=l}}ze=1,sy(),ly(),oy()}}function sy(){if(ze===1){ze=0;var t=Ia,n=Ts,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=$t;$t|=4;try{Bg(n,t);var f=kf,v=Qm(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Gm(T.ownerDocument.documentElement,T)){if(N!==null&&hh(T)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,k=W&&W.defaultView||window;if(k.getSelection){var G=k.getSelection(),dt=T.textContent.length,Tt=Math.min(N.start,dt),ae=N.end===void 0?Tt:Math.min(N.end,dt);!G.extend&&Tt>ae&&(v=ae,ae=Tt,Tt=v);var U=Fm(T,Tt),I=Fm(T,ae);if(U&&I&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var P=W.createRange();P.setStart(U.node,U.offset),G.removeAllRanges(),Tt>ae?(G.addRange(P),G.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),G.addRange(P))}}}}for(W=[],G=T;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var $=W[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ec=!!Bf,kf=Bf=null}finally{$t=h,st.p=l,Y.T=a}}t.current=n,ze=2}}function ly(){if(ze===2){ze=0;var t=Ia,n=Ts,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=$t;$t|=4;try{jg(t,n.alternate,n)}finally{$t=h,st.p=l,Y.T=a}}ze=3}}function oy(){if(ze===4||ze===3){ze=0,kr();var t=Ia,n=Ts,a=na,l=Kg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ts=Ia=null,uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Va=null),Pi(a),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=st.p,st.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{Y.T=n,st.p=h}}(na&3)!==0&&qu(),Di(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===xf?ql++:(ql=0,xf=t):ql=0,Fl(0)}}function uy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Sl(n)))}function qu(){return sy(),ly(),oy(),cy()}function cy(){if(ze!==5)return!1;var t=Ia,n=wf;wf=0;var a=Pi(na),l=Y.T,h=st.p;try{st.p=32>a?32:a,Y.T=null,a=Rf,Rf=null;var f=Ia,v=na;if(ze=0,Ts=Ia=null,na=0,($t&6)!==0)throw Error(s(331));var T=$t;if($t|=4,Gg(f.current),Hg(f,f.current,v,a),$t=T,Fl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{st.p=h,Y.T=l,uy(t,n)}}function hy(t,n,a){n=Bn(a,n),n=rf(t.stateNode,n,2),t=wa(t,n,2),t!==null&&(rr(t,2),Di(t))}function te(t,n,a){if(t.tag===3)hy(t,t,a);else for(;n!==null;){if(n.tag===3){hy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Va===null||!Va.has(l))){t=Bn(a,t),a=fg(2),l=wa(n,a,2),l!==null&&(dg(a,l,n,t),rr(l,2),Di(l));break}}n=n.return}}function Nf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new T1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(bf=!0,h.add(a),t=R1.bind(null,t,n,a),n.then(t,t))}function R1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,re===t&&(Lt&a)===a&&(_e===4||_e===3&&(Lt&62914560)===Lt&&300>ke()-Lu?($t&2)===0&&bs(t,0):Af|=a,Es===Lt&&(Es=0)),Di(t)}function fy(t,n){n===0&&(n=Po()),t=_r(t,n),t!==null&&(rr(t,n),Di(t))}function x1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),fy(t,a)}function C1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),fy(t,a)}function D1(t,n){return oe(t,n)}var Fu=null,Ss=null,Vf=!1,Gu=!1,If=!1,Ma=0;function Di(t){t!==Ss&&t.next===null&&(Ss===null?Fu=Ss=t:Ss=Ss.next=t),Gu=!0,Vf||(Vf=!0,V1())}function Fl(t,n){if(!If&&Gu){If=!0;do for(var a=!1,l=Fu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ee(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,gy(l,f))}else f=Lt,f=hi(l,l===re?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||$n(l,f)||(a=!0,gy(l,f));l=l.next}while(a);If=!1}}function N1(){dy()}function dy(){Gu=Vf=!1;var t=0;Ma!==0&&k1()&&(t=Ma);for(var n=ke(),a=null,l=Fu;l!==null;){var h=l.next,f=my(l,n);f===0?(l.next=null,a===null?Fu=h:a.next=h,h===null&&(Ss=a)):(a=l,(t!==0||(f&3)!==0)&&(Gu=!0)),l=h}ze!==0&&ze!==5||Fl(t),Ma!==0&&(Ma=0)}function my(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ee(f),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&l)!==0)&&(h[v]=sh(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=re,a=Lt,a=hi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&en(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&en(l),Pi(a)){case 2:case 8:a=tl;break;case 32:a=ua;break;case 268435456:a=Mo;break;default:a=ua}return l=py.bind(null,t),a=oe(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&en(l),t.callbackPriority=2,t.callbackNode=null,2}function py(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qu()&&t.callbackNode!==a)return null;var l=Lt;return l=hi(t,t===re?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($g(t,l,n),my(t,ke()),t.callbackNode!=null&&t.callbackNode===a?py.bind(null,t):null)}function gy(t,n){if(qu())return null;$g(t,n,!0)}function V1(){q1(function(){($t&6)!==0?oe(Ws,N1):dy()})}function Of(){if(Ma===0){var t=us;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Ma=t}return Ma}function yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Kr(""+t)}function vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function I1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=yy((h[He]||null).action),v=l.submitter;v&&(n=(n=v[He]||null)?yy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new bi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ma!==0){var N=v?vy(h,v):new FormData(h);Jh(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=v?vy(h,v):new FormData(h),Jh(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Mf=0;Mf<ph.length;Mf++){var jf=ph[Mf],O1=jf.toLowerCase(),M1=jf[0].toUpperCase()+jf.slice(1);ai(O1,"on"+M1)}ai(Xm,"onAnimationEnd"),ai($m,"onAnimationIteration"),ai(Zm,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai($E,"onTransitionRun"),ai(ZE,"onTransitionStart"),ai(JE,"onTransitionCancel"),ai(Jm,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function _y(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,B=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(X){su(X)}h.currentTarget=null,f=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,B=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(X){su(X)}h.currentTarget=null,f=N}}}}function jt(t,n){var a=n[qr];a===void 0&&(a=n[qr]=new Set);var l=t+"__bubble";a.has(l)||(Ey(n,t,2,!1),a.add(l))}function Uf(t,n,a){var l=0;n&&(l|=4),Ey(a,t,l,n)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Lf(t){if(!t[Qu]){t[Qu]=!0,il.forEach(function(a){a!=="selectionchange"&&(j1.has(a)||Uf(a,!1,t),Uf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Qu]||(n[Qu]=!0,Uf("selectionchange",!1,n))}}function Ey(t,n,a,l){switch(Xy(n)){case 2:var h=uT;break;case 8:h=cT;break;default:h=Jf}a=h.bind(null,n,a,t),h=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function zf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=f=v;continue t}T=T.parentNode}}l=l.return}pa(function(){var B=f,X=Un(a),W=[];t:{var k=Wm.get(t);if(k!==void 0){var G=bi,dt=t;switch(t){case"keypress":if(dr(a)===0)break t;case"keydown":case"keyup":G=iu;break;case"focusin":dt="focus",G=pr;break;case"focusout":dt="blur",G=pr;break;case"beforeblur":case"afterblur":G=pr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case Xm:case $m:case Zm:G=$o;break;case Jm:G=A;break;case"scroll":case"scrollend":G=pl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Hi;break;case"toggle":case"beforetoggle":G=Nt}var Tt=(n&4)!==0,ae=!Tt&&(t==="scroll"||t==="scrollend"),U=Tt?k!==null?k+"Capture":null:k;Tt=[];for(var I=B,P;I!==null;){var $=I;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||U===null||($=ti(I,U),$!=null&&Tt.push(Ql(I,$,P))),ae)break;I=I.return}0<Tt.length&&(k=new G(k,dt,null,a,X),W.push({event:k,listeners:Tt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",k&&a!==fl&&(dt=a.relatedTarget||a.fromElement)&&(pi(dt)||dt[di]))break t;if((G||k)&&(k=X.window===X?X:(k=X.ownerDocument)?k.defaultView||k.parentWindow:window,G?(dt=a.relatedTarget||a.toElement,G=B,dt=dt?pi(dt):null,dt!==null&&(ae=c(dt),Tt=dt.tag,dt!==ae||Tt!==5&&Tt!==27&&Tt!==6)&&(dt=null)):(G=null,dt=B),G!==dt)){if(Tt=gl,$="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Hi,$="onPointerLeave",U="onPointerEnter",I="pointer"),ae=G==null?k:bn(G),P=dt==null?k:bn(dt),k=new Tt($,I+"leave",G,a,X),k.target=ae,k.relatedTarget=P,$=null,pi(X)===B&&(Tt=new Tt(U,I+"enter",dt,a,X),Tt.target=P,Tt.relatedTarget=ae,$=Tt),ae=$,G&&dt)e:{for(Tt=U1,U=G,I=dt,P=0,$=U;$;$=Tt($))P++;$=0;for(var _t=I;_t;_t=Tt(_t))$++;for(;0<P-$;)U=Tt(U),P--;for(;0<$-P;)I=Tt(I),$--;for(;P--;){if(U===I||I!==null&&U===I.alternate){Tt=U;break e}U=Tt(U),I=Tt(I)}Tt=null}else Tt=null;G!==null&&Ty(W,k,G,Tt,!1),dt!==null&&ae!==null&&Ty(W,ae,dt,Tt,!0)}}t:{if(k=B?bn(B):window,G=k.nodeName&&k.nodeName.toLowerCase(),G==="select"||G==="input"&&k.type==="file")var Yt=zm;else if(Um(k))if(Pm)Yt=YE;else{Yt=GE;var pt=FE}else G=k.nodeName,!G||G.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Yr(B.elementType)&&(Yt=zm):Yt=QE;if(Yt&&(Yt=Yt(t,B))){Lm(W,Yt,a,X);break t}pt&&pt(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&ul(k,"number",k.value)}switch(pt=B?bn(B):window,t){case"focusin":(Um(pt)||pt.contentEditable==="true")&&(es=pt,fh=B,Tl=null);break;case"focusout":Tl=fh=es=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Ym(W,a,X);break;case"selectionchange":if(XE)break;case"keydown":case"keyup":Ym(W,a,X)}var It;if(Xt)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else ts?gr(t,a)&&(zt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(wi&&a.locale!=="ko"&&(ts||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ts&&(It=ml()):(Ti=X,dl="value"in Ti?Ti.value:Ti.textContent,ts=!0)),pt=Yu(B,zt),0<pt.length&&(zt=new Si(zt,t,null,a,X),W.push({event:zt,listeners:pt}),It?zt.data=It:(It=Wr(a),It!==null&&(zt.data=It)))),(It=zn?BE(t,a):kE(t,a))&&(zt=Yu(B,"onBeforeInput"),0<zt.length&&(pt=new Si("onBeforeInput","beforeinput",null,a,X),W.push({event:pt,listeners:zt}),pt.data=It)),I1(W,t,B,a,X)}_y(W,n)})}function Ql(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Yu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,a),h!=null&&l.unshift(Ql(t,h,f)),h=ti(t,n),h!=null&&l.push(Ql(t,h,f))),t.tag===3)return l;t=t.return}return[]}function U1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ty(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,B=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||B===null||(N=B,h?(B=ti(a,f),B!=null&&v.unshift(Ql(a,B,N))):h||(B=ti(a,f),B!=null&&v.push(Ql(a,B,N)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var L1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(L1,`
`).replace(z1,"")}function Ay(t,n){return n=by(n),by(t)===n}function ie(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,l);break;case"style":hl(t,l,f);break;case"data":if(n!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Kr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ie(t,n,"name",h.name,h,null),ie(t,n,"formEncType",h.formEncType,h,null),ie(t,n,"formMethod",h.formMethod,h,null),ie(t,n,"formTarget",h.formTarget,h,null)):(ie(t,n,"encType",h.encType,h,null),ie(t,n,"method",h.method,h,null),ie(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Kr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Kr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":jt("beforetoggle",t),jt("toggle",t),Gr(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yo.get(a)||a,Gr(t,a,l))}}function Pf(t,n,a,l,h,f){switch(a){case"style":hl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[He]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Gr(t,a,l)}}}function Ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ie(t,n,f,v,a,null)}}h&&ie(t,n,"srcSet",a.srcSet,a,null),l&&ie(t,n,"src",a.src,a,null);return;case"input":jt("invalid",t);var T=f=v=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:ie(t,n,l,X,a,null)}}Fo(t,f,T,N,B,v,h,!1);return;case"select":jt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:ie(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?ha(t,!!l,n,!1):a!=null&&ha(t,!!l,a,!0);return;case"textarea":jt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ie(t,n,v,T,a,null)}fa(t,l,h,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ie(t,n,N,l,a,null));return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)jt(Gl[l],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ie(t,n,B,l,a,null)}return;default:if(Yr(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Pf(t,n,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ie(t,n,T,l,a,null))}function P1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,N=null,B=null,X=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(G)||ie(t,n,G,null,l,W)}}for(var k in l){var G=l[k];if(W=a[k],l.hasOwnProperty(k)&&(G!=null||W!=null))switch(k){case"type":f=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==W&&ie(t,n,k,G,l,W)}}Qr(t,v,T,N,B,X,f,h);return;case"select":G=v=T=k=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(f)||ie(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":k=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==N&&ie(t,n,h,f,l,N)}n=T,a=v,l=G,k!=null?ha(t,!!a,k,!1):!!l!=!!a&&(n!=null?ha(t,!!a,n,!0):ha(t,!!a,a?[]:"",!1));return;case"textarea":G=k=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ie(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":k=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ie(t,n,v,h,l,f)}Go(t,k,G);return;case"option":for(var dt in a)k=a[dt],a.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&(dt==="selected"?t.selected=!1:ie(t,n,dt,null,l,k));for(N in l)k=l[N],G=a[N],l.hasOwnProperty(N)&&k!==G&&(k!=null||G!=null)&&(N==="selected"?t.selected=k&&typeof k!="function"&&typeof k!="symbol":ie(t,n,N,k,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)k=a[Tt],a.hasOwnProperty(Tt)&&k!=null&&!l.hasOwnProperty(Tt)&&ie(t,n,Tt,null,l,k);for(B in l)if(k=l[B],G=a[B],l.hasOwnProperty(B)&&k!==G&&(k!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:ie(t,n,B,k,l,G)}return;default:if(Yr(n)){for(var ae in a)k=a[ae],a.hasOwnProperty(ae)&&k!==void 0&&!l.hasOwnProperty(ae)&&Pf(t,n,ae,void 0,l,k);for(X in l)k=l[X],G=a[X],!l.hasOwnProperty(X)||k===G||k===void 0&&G===void 0||Pf(t,n,X,k,l,G);return}}for(var U in a)k=a[U],a.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&ie(t,n,U,null,l,k);for(W in l)k=l[W],G=a[W],!l.hasOwnProperty(W)||k===G||k==null&&G==null||ie(t,n,W,k,l,G)}function Sy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&Sy(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>T)break;var X=N.transferSize,W=N.initiatorType;X&&Sy(W)&&(N=N.responseEnd,v+=X*(N<T?1:(T-B)/(N-B)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bf=null,kf=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function k1(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(F1)}:xy;function F1(t){setTimeout(function(){throw t})}function ja(t){return t==="head"}function Dy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Cs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Yl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[mi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Yl(t.ownerDocument.body);a=h}while(a);Cs(n)}function Ny(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),Fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function G1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function Q1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Vy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Gn(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$?"||t.data==="$~"}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Y1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Yf=null;function Iy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Gn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function My(t,n,a){switch(n=Ku(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fr(t)}var Qn=new Map,jy=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ia=st.d;st.d={f:K1,r:X1,D:$1,C:Z1,L:J1,m:W1,X:eT,S:tT,M:nT};function K1(){var t=ia.f(),n=Bu();return t||n}function X1(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?Jp(n):ia.r(t)}var ws=typeof document>"u"?null:document;function Uy(t,n,a){var l=ws;if(l&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jy.has(h)||(jy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ze(n,"link",t),De(n),l.head.appendChild(n)))}}function $1(t){ia.D(t),Uy("dns-prefetch",t,null)}function Z1(t,n){ia.C(t,n),Uy("preconnect",t,n)}function J1(t,n,a){ia.L(t,n,a);var l=ws;if(l&&t&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var f=h;switch(n){case"style":f=Rs(t);break;case"script":f=xs(t)}Qn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Kl(f))||n==="script"&&l.querySelector(Xl(f))||(n=l.createElement("link"),Ze(n,"link",t),De(n),l.head.appendChild(n)))}}function W1(t,n){ia.m(t,n);var a=ws;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xs(t)}if(!Qn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Qn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(f)))return}l=a.createElement("link"),Ze(l,"link",t),De(l),a.head.appendChild(l)}}}function tT(t,n,a){ia.S(t,n,a);var l=ws;if(l&&t){var h=gi(l).hoistableStyles,f=Rs(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Kl(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Qn.get(f))&&Kf(t,a);var N=v=l.createElement("link");De(N),Ze(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,$u(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function eT(t,n){ia.X(t,n);var a=ws;if(a&&t){var l=gi(a).hoistableScripts,h=xs(t),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(t=b({src:t,async:!0},n),(n=Qn.get(h))&&Xf(t,n),f=a.createElement("script"),De(f),Ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function nT(t,n){ia.M(t,n);var a=ws;if(a&&t){var l=gi(a).hoistableScripts,h=xs(t),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&Xf(t,n),f=a.createElement("script"),De(f),Ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ly(t,n,a,l){var h=(h=et.current)?Xu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rs(a.href),a=gi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rs(a.href);var f=gi(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Kl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),f||iT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xs(a),a=gi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rs(t){return'href="'+fn(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function zy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function iT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ze(n,"link",a),De(n),t.head.appendChild(n))}function xs(t){return'[src="'+fn(t)+'"]'}function Xl(t){return"script[async]"+t}function Py(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return n.instance=l,De(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),De(l),Ze(l,"style",h),$u(l,a.precedence,t),n.instance=l;case"stylesheet":h=Rs(a.href);var f=t.querySelector(Kl(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;l=zy(a),(h=Qn.get(h))&&Kf(l,h),f=(t.ownerDocument||t).createElement("link"),De(f);var v=f;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Ze(f,"link",l),n.state.loading|=4,$u(f,a.precedence,t),n.instance=f;case"script":return f=xs(a.src),(h=t.querySelector(Xl(f)))?(n.instance=h,De(h),h):(l=a,(h=Qn.get(f))&&(l=b({},a),Xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),De(h),Ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,$u(l,a.precedence,t));return n.instance}function $u(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Zu=null;function By(t,n,a){if(Zu===null){var l=new Map,h=Zu=new Map;h.set(a,l)}else h=Zu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[mi]||f[Ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function ky(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function aT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Rs(l.href),f=n.querySelector(Kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ju.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,De(f);return}f=n.ownerDocument||n,l=zy(l),(h=Qn.get(h))&&Kf(l,h),f=f.createElement("link"),De(f);var v=f;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Ze(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ju.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var $f=0;function sT(t,n){return t.stylesheets&&t.count===0&&tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&tc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&$f===0&&($f=62500*B1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&tc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>$f?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,n.forEach(lT,t),Wu=null,Ju.call(t))}function lT(t,n){if(!(n.state.loading&4)){var a=Wu.get(t);if(a)var l=a.get(null);else{a=new Map,Wu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Ju.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var $l={$$typeof:ut,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function oT(t,n,a,l,h,f,v,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function qy(t,n,a,l,h,f,v,T,N,B,X,W){return t=new oT(t,n,a,v,N,B,X,W,T),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=Ch(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Ih(f),t}function Fy(t){return t?(t=as,t):as}function Gy(t,n,a,l,h,f){h=Fy(h),l.context===null?l.context=h:l.pendingContext=h,l=Sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=wa(t,l,n),a!==null&&(vn(a,t,n),Cl(a,t,n))}function Qy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zf(t,n){Qy(t,n),(t=t.alternate)&&Qy(t,n)}function Yy(t){if(t.tag===13||t.tag===31){var n=_r(t,67108864);n!==null&&vn(n,t,67108864),Zf(t,67108864)}}function Ky(t){if(t.tag===13||t.tag===31){var n=Nn();n=lr(n);var a=_r(t,n);a!==null&&vn(a,t,n),Zf(t,n)}}var ec=!0;function uT(t,n,a,l){var h=Y.T;Y.T=null;var f=st.p;try{st.p=2,Jf(t,n,a,l)}finally{st.p=f,Y.T=h}}function cT(t,n,a,l){var h=Y.T;Y.T=null;var f=st.p;try{st.p=8,Jf(t,n,a,l)}finally{st.p=f,Y.T=h}}function Jf(t,n,a,l){if(ec){var h=Wf(l);if(h===null)zf(t,n,l,nc,a),$y(t,l);else if(fT(h,t,n,a,l))l.stopPropagation();else if($y(t,l),n&4&&-1<hT.indexOf(t)){for(;h!==null;){var f=jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ci(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-Ee(v);T.entanglements[1]|=N,v&=~N}Di(f),($t&6)===0&&(zu=ke()+500,Fl(0))}}break;case 31:case 13:T=_r(f,2),T!==null&&vn(T,f,2),Bu(),Zf(f,2)}if(f=Wf(l),f===null&&zf(t,n,l,nc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else zf(t,n,l,null,a)}}function Wf(t){return t=Un(t),td(t)}var nc=null;function td(t){if(nc=null,t=pi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return nc=t,null}function Xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case Ws:return 2;case tl:return 8;case ua:case rh:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var ed=!1,Ua=null,La=null,za=null,Zl=new Map,Jl=new Map,Pa=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(t,n){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function Wl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=jn(n),n!==null&&Yy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function fT(t,n,a,l,h){switch(n){case"focusin":return Ua=Wl(Ua,t,n,a,l,h),!0;case"dragenter":return La=Wl(La,t,n,a,l,h),!0;case"mouseover":return za=Wl(za,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Zl.set(f,Wl(Zl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Jl.set(f,Wl(Jl.get(f)||null,t,n,a,l,h)),!0}return!1}function Zy(t){var n=pi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){Ky(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){Ky(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);fl=l,a.target.dispatchEvent(l),fl=null}else return n=jn(a),n!==null&&Yy(n),t.blockedOn=a,!1;n.shift()}return!0}function Jy(t,n,a){ic(t)&&a.delete(n)}function dT(){ed=!1,Ua!==null&&ic(Ua)&&(Ua=null),La!==null&&ic(La)&&(La=null),za!==null&&ic(za)&&(za=null),Zl.forEach(Jy),Jl.forEach(Jy)}function ac(t,n){t.blockedOn===n&&(t.blockedOn=null,ed||(ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dT)))}var rc=null;function Wy(t){rc!==t&&(rc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rc===t&&(rc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(td(l||a)===null)continue;break}var f=jn(a);f!==null&&(t.splice(n,3),n-=3,Jh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cs(t){function n(N){return ac(N,t)}Ua!==null&&ac(Ua,t),La!==null&&ac(La,t),za!==null&&ac(za,t),Zl.forEach(n),Jl.forEach(n);for(var a=0;a<Pa.length;a++){var l=Pa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)Zy(a),a.blockedOn===null&&Pa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[He]||null;if(typeof f=="function")v||Wy(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[He]||null)T=v.formAction;else if(td(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Wy(a)}}}function tv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function nd(t){this._internalRoot=t}sc.prototype.render=nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Nn();Gy(a,l,t,n,null,null)},sc.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gy(t.current,2,null,t,null,null),Bu(),n[di]=null}};function sc(t){this._internalRoot=t}sc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Pa.length&&n!==0&&n<Pa[a].priority;a++);Pa.splice(a,0,t),a===0&&Zy(t)}};var ev=e.version;if(ev!=="19.2.4")throw Error(s(527,ev,"19.2.4"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Xn=lc.inject(mT),Qe=lc}catch{}}return eo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=og,f=ug,v=cg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=qy(t,1,!1,null,null,a,l,null,h,f,v,tv),t[di]=n.current,Lf(t),new nd(n)},eo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=og,v=ug,T=cg,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=qy(t,1,!0,n,a??null,l,h,N,f,v,T,tv),n.context=Fy(null),a=n.current,l=Nn(),l=lr(l),h=Sa(l),h.callback=null,wa(a,h,l),a=l,n.current.lanes=a,rr(n,a),Di(n),t[di]=n.current,Lf(t),new sc(n)},eo.version="19.2.4",eo}var hv;function wT(){if(hv)return rd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=ST(),rd.exports}var RT=wT();const xT=x_(RT);var fv="popstate";function CT(r={}){function e(o,c){let{pathname:d="/",search:g="",hash:m=""}=zr(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),wd("",{pathname:d,search:g,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");g=y===-1?m:m.slice(0,y)}return g+"#"+(typeof c=="string"?c:mo(c))}function s(o,c){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return NT(e,i,s,r)}function pe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DT(){return Math.random().toString(36).substring(2,10)}function dv(r,e){return{usr:r.state,key:r.key,idx:e}}function wd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zr(e):e,state:i,key:e&&e.key||s||DT()}}function mo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function zr(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function NT(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",m=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let K=E(),rt=K==null?null:K-y;y=K,m&&m({action:g,location:Q.location,delta:rt})}function S(K,rt){g="PUSH";let it=wd(Q.location,K,rt);i&&i(it,K),y=E()+1;let ut=dv(it,y),mt=Q.createHref(it);try{d.pushState(ut,"",mt)}catch(St){if(St instanceof DOMException&&St.name==="DataCloneError")throw St;o.location.assign(mt)}c&&m&&m({action:g,location:Q.location,delta:1})}function j(K,rt){g="REPLACE";let it=wd(Q.location,K,rt);i&&i(it,K),y=E();let ut=dv(it,y),mt=Q.createHref(it);d.replaceState(ut,"",mt),c&&m&&m({action:g,location:Q.location,delta:0})}function J(K){return VT(K)}let Q={get action(){return g},get location(){return r(o,d)},listen(K){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(fv,b),m=K,()=>{o.removeEventListener(fv,b),m=null}},createHref(K){return e(o,K)},createURL:J,encodeLocation(K){let rt=J(K);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:S,replace:j,go(K){return d.go(K)}};return Q}function VT(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),pe(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:mo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function C_(r,e,i="/"){return IT(r,e,i,!1)}function IT(r,e,i,s){let o=typeof e=="string"?zr(e):e,c=ra(o.pathname||"/",i);if(c==null)return null;let d=D_(r);OT(d);let g=null;for(let m=0;g==null&&m<d.length;++m){let y=FT(c);g=HT(d[m],y,s)}return g}function D_(r,e=[],i=[],s="",o=!1){let c=(d,g,m=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&m)return;pe(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=aa([s,E.relativePath]),S=i.concat(E);d.children&&d.children.length>0&&(pe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),D_(d.children,e,S,b,m)),!(d.path==null&&!d.index)&&e.push({path:b,score:BT(b,d.index),routesMeta:S})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let m of N_(d.path))c(d,g,!0,m)}),e}function N_(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=N_(s.join("/")),g=[];return g.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&g.push(...d),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function OT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:kT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var MT=/^:[\w-]+$/,jT=3,UT=2,LT=1,zT=10,PT=-2,mv=r=>r==="*";function BT(r,e){let i=r.split("/"),s=i.length;return i.some(mv)&&(s+=PT),e&&(s+=UT),i.filter(o=>!mv(o)).reduce((o,c)=>o+(MT.test(c)?jT:c===""?LT:zT),s)}function kT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function HT(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let m=s[g],y=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=Sc({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},E),S=m.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=Sc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:aa([c,b.pathname]),pathnameBase:KT(aa([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=aa([c,b.pathnameBase]))}return d}function Sc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=qT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let J=g[S]||"";d=c.slice(0,c.length-J.length).replace(/(.)\/+$/,"$1")}const j=g[S];return b&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function qT(r,e=!1,i=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ra(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function QT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?zr(r):r,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=pv(i.substring(1),"/"):c=pv(i,e)):c=e,{pathname:c,search:XT(s),hash:$T(o)}}function pv(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ud(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function $d(r){let e=YT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Zd(r,e,i,s=!1){let o;typeof r=="string"?o=zr(r):(o={...r},pe(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}g=b>=0?e[b]:"/"}let m=QT(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}var aa=r=>r.join("/").replace(/\/\/+/g,"/"),KT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),XT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$T=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ZT=class{constructor(r,e,i,s=!1){this.status=r,this.statusText=e||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function JT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function WT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var V_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function I_(r,e){let i=r;if(typeof i!="string"||!GT.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(V_)try{let c=new URL(window.location.href),d=i.startsWith("//")?new URL(c.protocol+i):new URL(i),g=ra(d.pathname,e);d.origin===c.origin&&g!=null?i=g+d.search+d.hash:o=!0}catch{Kn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O_=["POST","PUT","PATCH","DELETE"];new Set(O_);var tb=["GET",...O_];new Set(tb);var Gs=H.createContext(null);Gs.displayName="DataRouter";var Bc=H.createContext(null);Bc.displayName="DataRouterState";var eb=H.createContext(!1),M_=H.createContext({isTransitioning:!1});M_.displayName="ViewTransition";var nb=H.createContext(new Map);nb.displayName="Fetchers";var ib=H.createContext(null);ib.displayName="Await";var In=H.createContext(null);In.displayName="Navigation";var wo=H.createContext(null);wo.displayName="Location";var oi=H.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Jd=H.createContext(null);Jd.displayName="RouteError";var j_="REACT_ROUTER_ERROR",ab="REDIRECT",rb="ROUTE_ERROR_RESPONSE";function sb(r){if(r.startsWith(`${j_}:${ab}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lb(r){if(r.startsWith(`${j_}:${rb}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ZT(e.status,e.statusText,e.data)}catch{}}function ob(r,{relative:e}={}){pe(Qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=H.useContext(In),{hash:o,pathname:c,search:d}=Ro(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:aa([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Qs(){return H.useContext(wo)!=null}function tr(){return pe(Qs(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(wo).location}var U_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(r){H.useContext(In).static||H.useLayoutEffect(r)}function kc(){let{isDataRoute:r}=H.useContext(oi);return r?bb():ub()}function ub(){pe(Qs(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Gs),{basename:e,navigator:i}=H.useContext(In),{matches:s}=H.useContext(oi),{pathname:o}=tr(),c=JSON.stringify($d(s)),d=H.useRef(!1);return L_(()=>{d.current=!0}),H.useCallback((m,y={})=>{if(Kn(d.current,U_),!d.current)return;if(typeof m=="number"){i.go(m);return}let E=Zd(m,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:aa([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}H.createContext(null);function cb(){let{matches:r}=H.useContext(oi),e=r[r.length-1];return e?e.params:{}}function Ro(r,{relative:e}={}){let{matches:i}=H.useContext(oi),{pathname:s}=tr(),o=JSON.stringify($d(i));return H.useMemo(()=>Zd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function hb(r,e){return z_(r,e)}function z_(r,e,i,s,o){pe(Qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=H.useContext(In),{matches:d}=H.useContext(oi),g=d[d.length-1],m=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let it=b&&b.path||"";B_(y,!b||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let S=tr(),j;if(e){let it=typeof e=="string"?zr(e):e;pe(E==="/"||it.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),j=it}else j=S;let J=j.pathname||"/",Q=J;if(E!=="/"){let it=E.replace(/^\//,"").split("/");Q="/"+J.replace(/^\//,"").split("/").slice(it.length).join("/")}let K=C_(r,{pathname:Q});Kn(b||K!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Kn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=gb(K&&K.map(it=>Object.assign({},it,{params:Object.assign({},m,it.params),pathname:aa([E,c.encodeLocation?c.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:aa([E,c.encodeLocation?c.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),d,i,s,o);return e&&rt?H.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},rt):rt}function fb(){let r=Tb(),e=JT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,d)}var db=H.createElement(fb,null),P_=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=lb(r.digest);i&&(r=i)}let e=r!==void 0?H.createElement(oi.Provider,{value:this.props.routeContext},H.createElement(Jd.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?H.createElement(mb,{error:r},e):e}};P_.contextType=eb;var cd=new WeakMap;function mb({children:r,error:e}){let{basename:i}=H.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=sb(e.digest);if(s){let o=cd.get(e);if(o)throw o;let c=I_(s.location,i);if(V_&&!cd.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw cd.set(e,d),d}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function pb({routeContext:r,match:e,children:i}){let s=H.useContext(Gs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(oi.Provider,{value:r},i)}function gb(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let E=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);pe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let g=!1,m=-1;if(i)for(let E=0;E<c.length;E++){let b=c[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=E),b.route.id){let{loaderData:S,errors:j}=i,J=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||J){g=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let y=i&&s?(E,b)=>{s(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:WT(i.matches),errorInfo:b})}:void 0;return c.reduceRight((E,b,S)=>{let j,J=!1,Q=null,K=null;i&&(j=d&&b.route.id?d[b.route.id]:void 0,Q=b.route.errorElement||db,g&&(m<0&&S===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,K=null):m===S&&(J=!0,K=b.route.hydrateFallbackElement||null)));let rt=e.concat(c.slice(0,S+1)),it=()=>{let ut;return j?ut=Q:J?ut=K:b.route.Component?ut=H.createElement(b.route.Component,null):b.route.element?ut=b.route.element:ut=E,H.createElement(pb,{match:b,routeContext:{outlet:E,matches:rt,isDataRoute:i!=null},children:ut})};return i&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?H.createElement(P_,{location:i.location,revalidation:i.revalidation,component:Q,error:j,children:it(),routeContext:{outlet:null,matches:rt,isDataRoute:!0},onError:y}):it()},null)}function Wd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(r){let e=H.useContext(Gs);return pe(e,Wd(r)),e}function vb(r){let e=H.useContext(Bc);return pe(e,Wd(r)),e}function _b(r){let e=H.useContext(oi);return pe(e,Wd(r)),e}function tm(r){let e=_b(r),i=e.matches[e.matches.length-1];return pe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Eb(){return tm("useRouteId")}function Tb(){let r=H.useContext(Jd),e=vb("useRouteError"),i=tm("useRouteError");return r!==void 0?r:e.errors?.[i]}function bb(){let{router:r}=yb("useNavigate"),e=tm("useNavigate"),i=H.useRef(!1);return L_(()=>{i.current=!0}),H.useCallback(async(o,c={})=>{Kn(i.current,U_),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var gv={};function B_(r,e,i){!e&&!gv[r]&&(gv[r]=!0,Kn(!1,i))}H.memo(Ab);function Ab({routes:r,future:e,state:i,onError:s}){return z_(r,void 0,i,s,e)}function Sb({to:r,replace:e,state:i,relative:s}){pe(Qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(In);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(oi),{pathname:d}=tr(),g=kc(),m=Zd(r,$d(c),d,s==="path"),y=JSON.stringify(m);return H.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:s})},[g,y,s,e,i]),null}function pc(r){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wb({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){pe(!Qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:g,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[g,o,c,d]);typeof i=="string"&&(i=zr(i));let{pathname:y="/",search:E="",hash:b="",state:S=null,key:j="default"}=i,J=H.useMemo(()=>{let Q=ra(y,g);return Q==null?null:{location:{pathname:Q,search:E,hash:b,state:S,key:j},navigationType:s}},[g,y,E,b,S,j,s]);return Kn(J!=null,`<Router basename="${g}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:H.createElement(In.Provider,{value:m},H.createElement(wo.Provider,{children:e,value:J}))}function Rb({children:r,location:e}){return hb(Rd(r),e)}function Rd(r,e=[]){let i=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let c=[...e,o];if(s.type===H.Fragment){i.push.apply(i,Rd(s.props.children,c));return}pe(s.type===pc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Rd(s.props.children,c)),i.push(d)}),i}var gc="get",yc="application/x-www-form-urlencoded";function Hc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function xb(r){return Hc(r)&&r.tagName.toLowerCase()==="button"}function Cb(r){return Hc(r)&&r.tagName.toLowerCase()==="form"}function Db(r){return Hc(r)&&r.tagName.toLowerCase()==="input"}function Nb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Vb(r,e){return r.button===0&&(!e||e==="_self")&&!Nb(r)}var oc=null;function Ib(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var Ob=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(r){return r!=null&&!Ob.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):r}function Mb(r,e){let i,s,o,c,d;if(Cb(r)){let g=r.getAttribute("action");s=g?ra(g,e):null,i=r.getAttribute("method")||gc,o=hd(r.getAttribute("enctype"))||yc,c=new FormData(r)}else if(xb(r)||Db(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(s=m?ra(m,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||gc,o=hd(r.getAttribute("formenctype"))||hd(g.getAttribute("enctype"))||yc,c=new FormData(g,r),!Ib()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(Hc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=gc,s=null,o=yc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function em(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jb(r,e,i,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ra(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Ub(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zb(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await Ub(c,i);return d.links?d.links():[]}return[]}));return Hb(s.flat(1).filter(Lb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(r,e,i,s,o,c){let d=(m,y)=>i[y]?m.route.id!==i[y].route.id:!0,g=(m,y)=>i[y].pathname!==m.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,y)=>d(m,y)||g(m,y)):c==="data"?e.filter((m,y)=>{let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(d(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Pb(r,e,{includeHydrateFallback:i}={}){return Bb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Bb(r){return[...new Set(r)]}function kb(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function Hb(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(kb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function k_(){let r=H.useContext(Gs);return em(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qb(){let r=H.useContext(Bc);return em(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var nm=H.createContext(void 0);nm.displayName="FrameworkContext";function H_(){let r=H.useContext(nm);return em(r,"You must render this element inside a <HydratedRouter> element"),r}function Fb(r,e){let i=H.useContext(nm),[s,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,S=H.useRef(null);H.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let Q=rt=>{rt.forEach(it=>{d(it.isIntersecting)})},K=new IntersectionObserver(Q,{threshold:.5});return S.current&&K.observe(S.current),()=>{K.disconnect()}}},[r]),H.useEffect(()=>{if(s){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let j=()=>{o(!0)},J=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,S,{}]:[c,S,{onFocus:no(g,j),onBlur:no(m,J),onMouseEnter:no(y,j),onMouseLeave:no(E,J),onTouchStart:no(b,j)}]:[!1,S,{}]}function no(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function Gb({page:r,...e}){let{router:i}=k_(),s=H.useMemo(()=>C_(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?H.createElement(Yb,{page:r,matches:s,...e}):null}function Qb(r){let{manifest:e,routeModules:i}=H_(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return zb(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function Yb({page:r,matches:e,...i}){let s=tr(),{future:o,manifest:c,routeModules:d}=H_(),{basename:g}=k_(),{loaderData:m,matches:y}=qb(),E=H.useMemo(()=>yv(r,e,y,c,s,"data"),[r,e,y,c,s]),b=H.useMemo(()=>yv(r,e,y,c,s,"assets"),[r,e,y,c,s]),S=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,K=!1;if(e.forEach(it=>{let ut=c.routes[it.route.id];!ut||!ut.hasLoader||(!E.some(mt=>mt.route.id===it.route.id)&&it.route.id in m&&d[it.route.id]?.shouldRevalidate||ut.hasClientLoader?K=!0:Q.add(it.route.id))}),Q.size===0)return[];let rt=jb(r,g,o.unstable_trailingSlashAwareDataRequests,"data");return K&&Q.size>0&&rt.searchParams.set("_routes",e.filter(it=>Q.has(it.route.id)).map(it=>it.route.id).join(",")),[rt.pathname+rt.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,s,c,E,e,r,d]),j=H.useMemo(()=>Pb(b,c),[b,c]),J=Qb(b);return H.createElement(H.Fragment,null,S.map(Q=>H.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...i})),j.map(Q=>H.createElement("link",{key:Q,rel:"modulepreload",href:Q,...i})),J.map(({key:Q,link:K})=>H.createElement("link",{key:Q,nonce:i.nonce,...K,crossOrigin:K.crossOrigin??i.crossOrigin})))}function Kb(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xb&&(window.__reactRouterVersion="7.13.0")}catch{}function $b({basename:r,children:e,unstable_useTransitions:i,window:s}){let o=H.useRef();o.current==null&&(o.current=CT({window:s,v5Compat:!0}));let c=o.current,[d,g]=H.useState({action:c.action,location:c.location}),m=H.useCallback(y=>{i===!1?g(y):H.startTransition(()=>g(y))},[i]);return H.useLayoutEffect(()=>c.listen(m),[c,m]),H.createElement(wb,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i})}var q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F_=H.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:m,to:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...j},J){let{basename:Q,unstable_useTransitions:K}=H.useContext(In),rt=typeof y=="string"&&q_.test(y),it=I_(y,Q);y=it.to;let ut=ob(y,{relative:o}),[mt,St,xt]=Fb(s,j),C=tA(y,{replace:d,state:g,target:m,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:K});function R(M){e&&e(M),M.defaultPrevented||C(M)}let x=H.createElement("a",{...j,...xt,href:it.absoluteURL||ut,onClick:it.isExternal||c?e:R,ref:Kb(J,St),target:m,"data-discover":!rt&&i==="render"?"true":void 0});return mt&&!rt?H.createElement(H.Fragment,null,x,H.createElement(Gb,{page:ut})):x});F_.displayName="Link";var Zb=H.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:m,...y},E){let b=Ro(d,{relative:y.relative}),S=tr(),j=H.useContext(Bc),{navigator:J,basename:Q}=H.useContext(In),K=j!=null&&rA(b)&&g===!0,rt=J.encodeLocation?J.encodeLocation(b).pathname:b.pathname,it=S.pathname,ut=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(it=it.toLowerCase(),ut=ut?ut.toLowerCase():null,rt=rt.toLowerCase()),ut&&Q&&(ut=ra(ut,Q)||ut);const mt=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let St=it===rt||!o&&it.startsWith(rt)&&it.charAt(mt)==="/",xt=ut!=null&&(ut===rt||!o&&ut.startsWith(rt)&&ut.charAt(rt.length)==="/"),C={isActive:St,isPending:xt,isTransitioning:K},R=St?e:void 0,x;typeof s=="function"?x=s(C):x=[s,St?"active":null,xt?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(C):c;return H.createElement(F_,{...y,"aria-current":R,className:x,ref:E,style:M,to:d,viewTransition:g},typeof m=="function"?m(C):m)});Zb.displayName="NavLink";var Jb=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=gc,action:g,onSubmit:m,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...j},J)=>{let{unstable_useTransitions:Q}=H.useContext(In),K=iA(),rt=aA(g,{relative:y}),it=d.toLowerCase()==="get"?"get":"post",ut=typeof g=="string"&&q_.test(g),mt=St=>{if(m&&m(St),St.defaultPrevented)return;St.preventDefault();let xt=St.nativeEvent.submitter,C=xt?.getAttribute("formmethod")||d,R=()=>K(xt||St.currentTarget,{fetcherKey:e,method:C,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S});Q&&i!==!1?H.startTransition(()=>R()):R()};return H.createElement("form",{ref:J,method:it,action:rt,onSubmit:s?m:mt,...j,"data-discover":!ut&&r==="render"?"true":void 0})});Jb.displayName="Form";function Wb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G_(r){let e=H.useContext(Gs);return pe(e,Wb(r)),e}function tA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let y=kc(),E=tr(),b=Ro(r,{relative:c});return H.useCallback(S=>{if(Vb(S,e)){S.preventDefault();let j=i!==void 0?i:mo(E)===mo(b),J=()=>y(r,{replace:j,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:g});m?H.startTransition(()=>J()):J()}},[E,y,b,i,s,e,r,o,c,d,g,m])}var eA=0,nA=()=>`__${String(++eA)}__`;function iA(){let{router:r}=G_("useSubmit"),{basename:e}=H.useContext(In),i=Eb(),s=r.fetch,o=r.navigate;return H.useCallback(async(c,d={})=>{let{action:g,method:m,encType:y,formData:E,body:b}=Mb(c,e);if(d.navigate===!1){let S=d.fetcherKey||nA();await s(S,i,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:b,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:b,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,i])}function aA(r,{relative:e}={}){let{basename:i}=H.useContext(In),s=H.useContext(oi);pe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Ro(r||".",{relative:e})},d=tr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),m=g.getAll("index");if(m.some(E=>E==="")){g.delete("index"),m.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:aa([i,c.pathname])),mo(c)}function rA(r,{relative:e}={}){let i=H.useContext(M_);pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=G_("useViewTransitionState"),o=Ro(r,{relative:e});if(!i.isTransitioning)return!1;let c=ra(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=ra(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Sc(o.pathname,d)!=null||Sc(o.pathname,c)!=null}const sA=()=>{};var vv={};const Q_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},lA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,m=o+2<r.length,y=m?r[o+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let S=(g&15)<<2|y>>6,j=y&63;m||(j=64,d||(S=64)),s.push(i[E],i[b],i[S],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||b==null)throw new oA;const S=c<<2|g>>4;if(s.push(S),y!==64){const j=g<<4&240|y>>2;if(s.push(j),b!==64){const J=y<<6&192|b;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(r){const e=Q_(r);return Y_.encodeByteArray(e,!0)},wc=function(r){return uA(r).replace(/\./g,"")},cA=function(r){try{return Y_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fA=()=>hA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cA(r[1]);return e&&JSON.parse(e)},im=()=>{try{return sA()||fA()||dA()||mA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pA=r=>im()?.emulatorHosts?.[r],gA=r=>{const e=pA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},K_=()=>im()?.config;class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function am(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vA(r){return(await fetch(r,{credentials:"include"})).ok}function _A(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wc(JSON.stringify(i)),wc(JSON.stringify(d)),""].join(".")}const oo={};function EA(){const r={prod:[],emulator:[]};for(const e of Object.keys(oo))oo[e]?r.emulator.push(e):r.prod.push(e);return r}function TA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let _v=!1;function bA(r,e){if(typeof window>"u"||typeof document>"u"||!am(window.location.host)||oo[r]===e||oo[r]||_v)return;oo[r]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=EA().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{_v=!0,d()},S}function E(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=TA(s),j=i("text"),J=document.getElementById(j)||document.createElement("span"),Q=i("learnmore"),K=document.getElementById(Q)||document.createElement("a"),rt=i("preprendIcon"),it=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ut=S.element;g(ut),E(K,Q);const mt=y();m(it,rt),ut.append(it,J,K,mt),document.body.appendChild(ut)}c?(J.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function AA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){const r=im()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wA(){return!SA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const CA="FirebaseError";class Ys extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=CA,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?DA(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ys(o,g,s)}}function DA(r,e){return r.replace(NA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NA=/\{\$([^}]+)}/g;function po(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(Ev(c)&&Ev(d)){if(!po(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}function Ya(r){return r&&r._delegate?r._delegate:r}class go{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ir="[DEFAULT]";class VA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new yA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OA(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IA(r){return r===Ir?void 0:r}function OA(r){return r.instantiationMode==="EAGER"}class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new VA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const jA={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},UA=Qt.INFO,LA={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},zA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $_{constructor(e){this.name=e,this._logLevel=UA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const PA=(r,e)=>e.some(i=>r instanceof i);let Tv,bv;function BA(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,xd=new WeakMap,J_=new WeakMap,fd=new WeakMap,rm=new WeakMap;function HA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,r)}).catch(()=>{}),rm.set(e,r),e}function qA(r){if(xd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});xd.set(r,e)}let Cd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return xd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||J_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function FA(r){Cd=r(Cd)}function GA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(dd(this),e,...i);return J_.set(s,e.sort?e.sort():[e]),qa(s)}:kA().includes(r)?function(...e){return r.apply(dd(this),e),qa(Z_.get(this))}:function(...e){return qa(r.apply(dd(this),e))}}function QA(r){return typeof r=="function"?GA(r):(r instanceof IDBTransaction&&qA(r),PA(r,BA())?new Proxy(r,Cd):r)}function qa(r){if(r instanceof IDBRequest)return HA(r);if(fd.has(r))return fd.get(r);const e=QA(r);return e!==r&&(fd.set(r,e),rm.set(e,r)),e}const dd=r=>rm.get(r);function YA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=qa(d);return s&&d.addEventListener("upgradeneeded",m=>{s(qa(d.result),m.oldVersion,m.newVersion,qa(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),g.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const KA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],md=new Map;function Av(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=XA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KA.includes(i)))return;const c=async function(d,...g){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&m.done]))[0]};return md.set(e,c),c}FA(r=>({...r,get:(e,i,s)=>Av(e,i)||r.get(e,i,s),has:(e,i)=>!!Av(e,i)||r.has(e,i)}));class $A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ZA(r){return r.getComponent()?.type==="VERSION"}const Dd="@firebase/app",Sv="0.14.8";const sa=new $_("@firebase/app"),JA="@firebase/app-compat",WA="@firebase/analytics-compat",tS="@firebase/analytics",eS="@firebase/app-check-compat",nS="@firebase/app-check",iS="@firebase/auth",aS="@firebase/auth-compat",rS="@firebase/database",sS="@firebase/data-connect",lS="@firebase/database-compat",oS="@firebase/functions",uS="@firebase/functions-compat",cS="@firebase/installations",hS="@firebase/installations-compat",fS="@firebase/messaging",dS="@firebase/messaging-compat",mS="@firebase/performance",pS="@firebase/performance-compat",gS="@firebase/remote-config",yS="@firebase/remote-config-compat",vS="@firebase/storage",_S="@firebase/storage-compat",ES="@firebase/firestore",TS="@firebase/ai",bS="@firebase/firestore-compat",AS="firebase",SS="12.9.0";const Nd="[DEFAULT]",wS={[Dd]:"fire-core",[JA]:"fire-core-compat",[tS]:"fire-analytics",[WA]:"fire-analytics-compat",[nS]:"fire-app-check",[eS]:"fire-app-check-compat",[iS]:"fire-auth",[aS]:"fire-auth-compat",[rS]:"fire-rtdb",[sS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[oS]:"fire-fn",[uS]:"fire-fn-compat",[cS]:"fire-iid",[hS]:"fire-iid-compat",[fS]:"fire-fcm",[dS]:"fire-fcm-compat",[mS]:"fire-perf",[pS]:"fire-perf-compat",[gS]:"fire-rc",[yS]:"fire-rc-compat",[vS]:"fire-gcs",[_S]:"fire-gcs-compat",[ES]:"fire-fst",[bS]:"fire-fst-compat",[TS]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};const Rc=new Map,RS=new Map,Vd=new Map;function wv(r,e){try{r.container.addComponent(e)}catch(i){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function xc(r){const e=r.name;if(Vd.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,r);for(const i of Rc.values())wv(i,r);for(const i of RS.values())wv(i,r);return!0}function xS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function CS(r){return r==null?!1:r.settings!==void 0}const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new X_("app","Firebase",DS);class NS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}const VS=SS;function W_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Nd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Fa.create("bad-app-name",{appName:String(o)});if(i||(i=K_()),!i)throw Fa.create("no-options");const c=Rc.get(o);if(c){if(po(i,c.options)&&po(s,c.config))return c;throw Fa.create("duplicate-app",{appName:o})}const d=new MA(o);for(const m of Vd.values())d.addComponent(m);const g=new NS(i,s,d);return Rc.set(o,g),g}function IS(r=Nd){const e=Rc.get(r);if(!e&&r===Nd&&K_())return W_();if(!e)throw Fa.create("no-app",{appName:r});return e}function Os(r,e,i){let s=wS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(d.join(" "));return}xc(new go(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const OS="firebase-heartbeat-database",MS=1,yo="firebase-heartbeat-store";let pd=null;function t0(){return pd||(pd=YA(OS,MS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(yo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fa.create("idb-open",{originalErrorMessage:r.message})})),pd}async function jS(r){try{const i=(await t0()).transaction(yo),s=await i.objectStore(yo).get(e0(r));return await i.done,s}catch(e){if(e instanceof Ys)sa.warn(e.message);else{const i=Fa.create("idb-get",{originalErrorMessage:e?.message});sa.warn(i.message)}}}async function Rv(r,e){try{const s=(await t0()).transaction(yo,"readwrite");await s.objectStore(yo).put(e,e0(r)),await s.done}catch(i){if(i instanceof Ys)sa.warn(i.message);else{const s=Fa.create("idb-set",{originalErrorMessage:i?.message});sa.warn(s.message)}}}function e0(r){return`${r.name}!${r.options.appId}`}const US=1024,LS=30;class zS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>LS){const o=kS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xv(),{heartbeatsToSend:i,unsentEntries:s}=PS(this._heartbeatsCache.heartbeats),o=wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sa.warn(e),""}}}function xv(){return new Date().toISOString().substring(0,10)}function PS(r,e=US){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Cv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Cv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class BS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Cv(r){return wc(JSON.stringify({version:2,heartbeats:r})).length}function kS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function HS(r){xc(new go("platform-logger",e=>new $A(e),"PRIVATE")),xc(new go("heartbeat",e=>new zS(e),"PRIVATE")),Os(Dd,Sv,r),Os(Dd,Sv,"esm2020"),Os("fire-js","")}HS("");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ga,n0;(function(){var r;function e(C,R){function x(){}x.prototype=R.prototype,C.F=R.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(M,V,L){for(var D=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)D[qt-2]=arguments[qt];return R.prototype[V].apply(M,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,x){x||(x=0);const M=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)M[V]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(V=0;V<16;++V)M[V]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=C.g[0],x=C.g[1],V=C.g[2];let L=C.g[3],D;D=R+(L^x&(V^L))+M[0]+3614090360&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+M[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+M[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+M[3]+3250441966&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(L^x&(V^L))+M[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+M[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+M[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+M[7]+4249261313&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(L^x&(V^L))+M[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+M[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+M[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+M[11]+2304563134&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(L^x&(V^L))+M[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=L+(V^R&(x^V))+M[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=V+(x^L&(R^x))+M[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=x+(R^V&(L^R))+M[15]+1236535329&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(V^L&(x^V))+M[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+M[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+M[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+M[0]+3921069994&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^L&(x^V))+M[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+M[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+M[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+M[4]+3889429448&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^L&(x^V))+M[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+M[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+M[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+M[8]+1163531501&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^L&(x^V))+M[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=L+(x^V&(R^x))+M[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(L^R))+M[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=x+(L^R&(V^L))+M[12]+2368359562&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(x^V^L)+M[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+M[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+M[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+M[14]+4259657740&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^L)+M[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+M[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+M[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+M[10]+3200236656&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^L)+M[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+M[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+M[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+M[6]+76029189&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^L)+M[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=L+(R^x^V)+M[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=V+(L^R^x)+M[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=x+(V^L^R)+M[2]+3299628645&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(V^(x|~L))+M[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+M[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+M[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+M[5]+4237533241&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~L))+M[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+M[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+M[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+M[1]+2240044497&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~L))+M[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+M[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+M[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+M[13]+1309151649&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~L))+M[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=L+(x^(R|~V))+M[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=V+(R^(L|~x))+M[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=x+(L^(V|~R))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const x=R-this.blockSize,M=this.C;let V=this.h,L=0;for(;L<R;){if(V==0)for(;L<=x;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<R;)if(M[V++]=C.charCodeAt(L++),V==this.blockSize){o(this,M),V=0;break}}else for(;L<R;)if(M[V++]=C[L++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)C[R++]=this.g[x]>>>M&255;return C};function c(C,R){var x=g;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=R(C)}function d(C,R){this.h=R;const x=[];let M=!0;for(let V=C.length-1;V>=0;V--){const L=C[V]|0;M&&L==R||(x[V]=L,M=!1)}this.g=x}var g={};function m(C){return-128<=C&&C<128?c(C,function(R){return new d([R|0],R<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return K(y(-C));const R=[];let x=1;for(let M=0;C>=x;M++)R[M]=C/x|0,x*=4294967296;return new d(R,0)}function E(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return K(E(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(R,8));let M=b;for(let L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L);const D=parseInt(C.substring(L,L+V),R);V<8?(V=y(Math.pow(R,V)),M=M.j(V).add(y(D))):(M=M.j(x),M=M.add(y(D)))}return M}var b=m(0),S=m(1),j=m(16777216);r=d.prototype,r.m=function(){if(Q(this))return-K(this).m();let C=0,R=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);C+=(M>=0?M:4294967296+M)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(Q(this))return"-"+K(this).toString(C);const R=y(Math.pow(C,6));var x=this;let M="";for(;;){const V=mt(x,R).g;x=rt(x,V.j(R));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=V,J(x))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=rt(this,C),Q(C)?-1:J(C)?0:1};function K(C){const R=C.g.length,x=[];for(let M=0;M<R;M++)x[M]=~C.g[M];return new d(x,~C.h).add(S)}r.abs=function(){return Q(this)?K(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),x=[];let M=0;for(let V=0;V<=R;V++){let L=M+(this.i(V)&65535)+(C.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=D>>>16,L&=65535,D&=65535,x[V]=D<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function rt(C,R){return C.add(K(R))}r.j=function(C){if(J(this)||J(C))return b;if(Q(this))return Q(C)?K(this).j(K(C)):K(K(this).j(C));if(Q(C))return K(this.j(K(C)));if(this.l(j)<0&&C.l(j)<0)return y(this.m()*C.m());const R=this.g.length+C.g.length,x=[];for(var M=0;M<2*R;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<C.g.length;V++){const L=this.i(M)>>>16,D=this.i(M)&65535,qt=C.i(V)>>>16,se=C.i(V)&65535;x[2*M+2*V]+=D*se,it(x,2*M+2*V),x[2*M+2*V+1]+=L*se,it(x,2*M+2*V+1),x[2*M+2*V+1]+=D*qt,it(x,2*M+2*V+1),x[2*M+2*V+2]+=L*qt,it(x,2*M+2*V+2)}for(C=0;C<R;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=R;C<2*R;C++)x[C]=0;return new d(x,0)};function it(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function ut(C,R){this.g=C,this.h=R}function mt(C,R){if(J(R))throw Error("division by zero");if(J(C))return new ut(b,b);if(Q(C))return R=mt(K(C),R),new ut(K(R.g),K(R.h));if(Q(R))return R=mt(C,K(R)),new ut(K(R.g),R.h);if(C.g.length>30){if(Q(C)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,M=R;M.l(C)<=0;)x=St(x),M=St(M);var V=xt(x,1),L=xt(M,1);for(M=xt(M,2),x=xt(x,2);!J(M);){var D=L.add(M);D.l(C)<=0&&(V=V.add(x),L=D),M=xt(M,1),x=xt(x,1)}return R=rt(C,V.j(R)),new ut(V,R)}for(V=b;C.l(R)>=0;){for(x=Math.max(1,Math.floor(C.m()/R.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(x),D=L.j(R);Q(D)||D.l(C)>0;)x-=M,L=y(x),D=L.j(R);J(L)&&(L=S),V=V.add(L),C=rt(C,D)}return new ut(V,C)}r.B=function(C){return mt(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<R;M++)x[M]=this.i(M)&C.i(M);return new d(x,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<R;M++)x[M]=this.i(M)|C.i(M);return new d(x,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<R;M++)x[M]=this.i(M)^C.i(M);return new d(x,this.h^C.h)};function St(C){const R=C.g.length+1,x=[];for(let M=0;M<R;M++)x[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(x,C.h)}function xt(C,R){const x=R>>5;R%=32;const M=C.g.length-x,V=[];for(let L=0;L<M;L++)V[L]=R>0?C.i(L+x)>>>R|C.i(L+x+1)<<32-R:C.i(L+x);return new d(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,n0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Ga=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i0,ao,a0,vc,Id,r0,s0,l0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,p){if(p)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var _=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&_.push([A,p[A]]);return _}});var c=c||{},d=this||self;function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function m(u,p,_){return u.call.apply(u.bind,arguments)}function y(u,p,_){return y=m,y.apply(null,arguments)}function E(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,z,F){for(var ot=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)ot[Nt-2]=arguments[Nt];return p.prototype[z].apply(A,ot)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const p=u.length;if(p>0){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function J(u,p){for(let A=1;A<arguments.length;A++){const z=arguments[A];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=u.length||0;const F=z.length||0;u.length=_+F;for(let ot=0;ot<F;ot++)u[_+ot]=z[ot]}else u.push(z)}}class Q{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=C;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class it{constructor(){this.h=this.g=null}add(p,_){const A=ut.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new Q(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let St,xt=!1,C=new it,R=()=>{const u=Promise.resolve(void 0);St=()=>{u.then(x)}};function x(){for(var u;u=rt();){try{u.h.call(u.g)}catch(_){K(_)}var p=ut;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return u})();function D(u){return/^[\s\xa0]*$/.test(u)}function qt(u,p){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}b(qt,V),qt.prototype.init=function(u,p){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&qt.Z.h.call(this)},qt.prototype.h=function(){qt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),Y=0;function st(u,p,_,A,z){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=z,this.key=++Y,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function Ft(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function O(u){const p={};for(const _ in u)p[_]=u[_];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(u,p){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let F=0;F<Z.length;F++)_=Z[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function q(u){this.src=u,this.g={},this.h=0}q.prototype.add=function(u,p,_,A,z){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const ot=et(u,p,A,z);return ot>-1?(p=u[ot],_||(p.fa=!1)):(p=new st(p,this.src,F,!!A,z),p.fa=_,u.push(p)),p};function at(u,p){const _=p.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,p,void 0),F;(F=z>=0)&&Array.prototype.splice.call(A,z,1),F&&(yt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function et(u,p,_,A){for(let z=0;z<u.length;++z){const F=u[z];if(!F.da&&F.listener==p&&F.capture==!!_&&F.ha==A)return z}return-1}var ft="closure_lm_"+(Math.random()*1e6|0),bt={};function wt(u,p,_,A,z){if(Array.isArray(p)){for(let F=0;F<p.length;F++)wt(u,p[F],_,A,z);return null}return _=fe(_),u&&u[se]?u.J(p,_,g(A)?!!A.capture:!1,z):le(u,p,_,!1,A,z)}function le(u,p,_,A,z,F){if(!p)throw Error("Invalid event type");const ot=g(z)?!!z.capture:!!z;let Nt=On(u);if(Nt||(u[ft]=Nt=new q(u)),_=Nt.add(p,_,A,ot,F),_.proxy)return _;if(A=Ut(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)L||(z=ot),z===void 0&&(z=!1),u.addEventListener(p.toString(),A,z);else if(u.attachEvent)u.attachEvent(on(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ut(){function u(_){return p.call(u.src,u.listener,_)}const p=zi;return u}function Tn(u,p,_,A,z){if(Array.isArray(p))for(var F=0;F<p.length;F++)Tn(u,p[F],_,A,z);else A=g(A)?!!A.capture:!!A,_=fe(_),u&&u[se]?(u=u.i,F=String(p).toString(),F in u.g&&(p=u.g[F],_=et(p,_,A,z),_>-1&&(yt(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[F],u.h--)))):u&&(u=On(u))&&(p=u.g[p.toString()],u=-1,p&&(u=et(p,_,A,z)),(_=u>-1?p[u]:null)&&hn(_))}function hn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[se])at(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(on(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=On(p))?(at(_,u),_.h==0&&(_.src=null,p[ft]=null)):yt(u)}}}function on(u){return u in bt?bt[u]:bt[u]="on"+u}function zi(u,p){if(u.da)u=!0;else{p=new qt(p,this);const _=u.listener,A=u.ha||u.src;u.fa&&hn(u),u=_.call(A,p)}return u}function On(u){return u=u[ft],u instanceof q?u:null}var ht="__closure_events_fn_"+(Math.random()*1e9>>>0);function fe(u){return typeof u=="function"?u:(u[ht]||(u[ht]=function(p){return u.handleEvent(p)}),u[ht])}function vt(){M.call(this),this.i=new q(this),this.M=this,this.G=null}b(vt,M),vt.prototype[se]=!0,vt.prototype.removeEventListener=function(u,p,_,A){Tn(this,u,p,_,A)};function oe(u,p){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new V(p,u);else if(p instanceof V)p.target=p.target||u;else{var z=p;p=new V(A,u),lt(p,z)}z=!0;let F,ot;if(_)for(ot=_.length-1;ot>=0;ot--)F=p.g=_[ot],z=en(F,A,!0,p)&&z;if(F=p.g=u,z=en(F,A,!0,p)&&z,z=en(F,A,!1,p)&&z,_)for(ot=0;ot<_.length;ot++)F=p.g=_[ot],z=en(F,A,!1,p)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let A=0;A<_.length;A++)yt(_[A]);delete u.g[p],u.h--}}this.G=null},vt.prototype.J=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},vt.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function en(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let F=0;F<p.length;++F){const ot=p[F];if(ot&&!ot.da&&ot.capture==_){const Nt=ot.listener,Te=ot.ha||ot.src;ot.fa&&at(u.i,ot),z=Nt.call(Te,A)!==!1&&z}}return z&&!A.defaultPrevented}function Js(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function kr(u){u.g=Js(()=>{u.g=null,u.i&&(u.i=!1,kr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class ke extends M{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){M.call(this),this.h=u,this.g={}}b(ir,M);var Ws=[];function tl(u){Ot(u.g,function(p,_){this.g.hasOwnProperty(_)&&hn(p)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),tl(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=d.JSON.stringify,rh=d.JSON.parse,Mo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function jo(){}function Uo(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){V.call(this,"d")}b(Qe,V);function Mn(){V.call(this,"c")}b(Mn,V);var Ee={},Lo=null;function Hr(){return Lo=Lo||new vt}Ee.Ia="serverreachability";function zo(u){V.call(this,Ee.Ia,u)}b(zo,V);function ui(u){const p=Hr();oe(p,new zo(p))}Ee.STAT_EVENT="statevent";function ar(u,p){V.call(this,Ee.STAT_EVENT,u),this.stat=p}b(ar,V);function xe(u){const p=Hr();oe(p,new ar(p,u))}Ee.Ja="timingevent";function ci(u,p){V.call(this,Ee.Ja,u),this.size=p}b(ci,V);function hi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function sh(u,p,_,A,z,F){u.info(function(){if(u.g)if(F){var ot="",Nt=F.split("&");for(let Xt=0;Xt<Nt.length;Xt++){var Te=Nt[Xt].split("=");if(Te.length>1){const de=Te[0];Te=Te[1];const zn=de.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(de+"="+Te+"&"):ot+(de+"=redacted&")}}}else ot=null;else ot=F;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+_+`
`+ot})}function Po(u,p,_,A,z,F,ot){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+_+`
`+F+" "+ot})}function fi(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+lh(u,_)+(A?" "+A:"")})}function rr(u,p){u.info(function(){return"TIMEOUT: "+p})}$n.prototype.info=function(){};function lh(u,p){if(!u.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var _=F[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return ua(F)}catch{return p}}var sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function lr(){}b(lr,jo),lr.prototype.g=function(){return new XMLHttpRequest},nl=new lr;function Pi(u){return encodeURIComponent(String(u))}function Bo(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function Zn(u,p,_,A){this.j=u,this.i=p,this.l=_,this.S=A||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ce={},He={};function di(u,p,_){u.M=1,u.A=or(Ne(p)),u.u=_,u.R=!0,qr(u,null)}function qr(u,p){u.F=Date.now(),mi(u),u.B=Ne(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Yr(_.i,"t",A),u.C=0,_=u.j.L,u.h=new Jn,u.g=eu(u.j,_?p:null,!u.u),u.P>0&&(u.O=new ke(y(u.Y,u,u.g),u.P)),p=u.V,_=u.g,A=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ws[0]=z.toString()),z=Ws);for(let F=0;F<z.length;F++){const ot=wt(_,z[F],A||p.handleEvent,!1,p.h||p);if(!ot)break;p.g[ot.key]=ot}p=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),ui(),sh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const p=this.O;p&&ei(u)==3?p.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=ei(this.g),Te=this.g.ya(),Xt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Nt!=4||Te==7||(Te==8||Xt<=0?ui(3):ui(2)),pi(this);var p=this.g.ca();this.X=p;var _=oh(this);if(this.o=p==200,Po(this.i,this.v,this.B,this.l,this.S,Nt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var F=A;break e}}F=null}if(u=F)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,xe(12),bn(this),jn(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<_.length;)if(de=Ho(this,_),de==He){Nt==4&&(this.m=4,xe(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ce){this.m=4,xe(15),fi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,de,null),gi(this,de);if(ko(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||_.length!=0||this.h.h||(this.m=1,xe(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,_,"[Invalid Chunked Response]"),bn(this),jn(this);else if(_.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),yl(ot),ot.P=!0,xe(11))}}else fi(this.i,this.l,_,null),gi(this,_);Nt==4&&bn(this),this.o&&!this.K&&(Nt==4?Zo(this.j,this):(this.o=!1,mi(this)))}else ki(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),bn(this),jn(this)}}}catch{}};function oh(u){if(!ko(u))return u.g.la();const p=Ye(u.g);if(p==="")return"";let _="";const A=p.length,z=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),jn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<A;F++)u.h.h=!0,_+=u.h.i.decode(p[F],{stream:!(z&&F==A-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function ko(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ho(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?He:(_=Number(p.substring(_,A)),isNaN(_)?Ce:(A+=1,A+_>p.length?He:(p=p.slice(A,A+_),u.C=A+_,p)))}Zn.prototype.cancel=function(){this.K=!0,bn(this)};function mi(u){u.T=Date.now()+u.H,Fr(u,u.H)}function Fr(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),p)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&(ui(),xe(17)),bn(this),this.m=2,jn(this)):Fr(this,this.T-u)};function jn(u){u.j.I==0||u.K||Zo(u.j,u)}function bn(u){pi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,tl(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function gi(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||vi(_.h,u))){if(!u.L&&vi(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Jr(_),ya(_);else break t;pr(_),xe(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=hi(y(_.Va,_),6e3));yi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((u.L||_.g==u)&&Jr(_),!D(p))for(z=_.Ba.g.parse(p),p=0;p<z.length;p++){let Xt=z[p];const de=Xt[0];if(!(de<=_.K))if(_.K=de,Xt=Xt[1],_.I==2)if(Xt[0]=="c"){_.M=Xt[1],_.ba=Xt[2];const zn=Xt[3];zn!=null&&(_.ka=zn,_.j.info("VER="+_.ka));const wi=Xt[4];wi!=null&&(_.za=wi,_.j.info("SVER="+_.za));const ni=Xt[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ii=u.g;if(ii){const gr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var F=A.h;F.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(rl(F,F.h),F.h=null))}if(A.G){const Wr=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Wr&&(A.wa=Wr,Jt(A.J,A.G,Wr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var ot=u;if(A.na=tu(A,A.L?A.ba:null,A.W),ot.L){sl(A.h,ot);var Nt=ot,Te=A.O;Te&&(Nt.H=Te),Nt.D&&(pi(Nt),mi(Nt)),A.g=ot}else Xo(A);_.i.length>0&&Ai(_)}else Xt[0]!="stop"&&Xt[0]!="close"||Si(_,7);else _.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Si(_,7):pl(_):Xt[0]!="noop"&&_.l&&_.l.qa(Xt),_.A=0)}}ui(4)}catch{}}var De=class{constructor(u,p){this.g=u,this.map=p}};function il(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function vi(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function rl(u,p){u.g?u.g.add(p):u.h=p}function sl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}il.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return j(u.i)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let z,F=null;A>=0?(z=u[_].substring(0,A),F=u[_].substring(A+1)):z=u[_],p(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof An?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,ca(this,u.u),this.h=u.h,ol(this,Yo(u.i)),this.m=u.m):u&&(p=String(u).match(qo))?(this.l=!1,qe(this,p[1]||"",!0),this.o=_i(p[2]||""),this.g=_i(p[3]||"",!0),ca(this,p[4]),this.h=_i(p[5]||"",!0),ol(this,p[6]||"",!0),this.m=_i(p[7]||"")):(this.l=!1,this.i=new fa(null,this.l))}An.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(ur(p,Qr,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ur(p,Qr,!0),"@"),u.push(Pi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ur(_,_.charAt(0)=="/"?ul:Fo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ur(_,Go)),u.join("")},An.prototype.resolve=function(u){const p=Ne(this);let _=!!u.j;_?qe(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var A=u.h;if(_)ca(p,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=p.h.lastIndexOf("/");z!=-1&&(A=p.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const F=[];for(let ot=0;ot<z.length;){const Nt=z[ot++];Nt=="."?A&&ot==z.length&&F.push(""):Nt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&ot==z.length&&F.push("")):(F.push(Nt),A=!0)}A=F.join("/")}else A=z}return _?p.h=A:_=u.i.toString()!=="",_?ol(p,Yo(u.i)):_=!!u.m,_&&(p.m=u.m),p};function Ne(u){return new An(u)}function qe(u,p,_){u.j=_?_i(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ca(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function ol(u,p,_){p instanceof fa?(u.i=p,Kr(u.i,u.l)):(_||(p=ur(p,ha)),u.i=new fa(p,u.l))}function Jt(u,p,_){u.i.set(p,_)}function or(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ur(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,fn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qr=/[#\/\?@]/g,Fo=/[#\?:]/g,ul=/[#\?]/g,ha=/[#\?@]/g,Go=/#/g;function fa(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Gr(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=fa.prototype,r.add=function(u,p){dn(this),this.i=null,u=da(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Qo(u,p){dn(u),p=da(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function cl(u,p){return dn(u),p=da(u,p),u.g.has(p)}r.forEach=function(u,p){dn(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(p,z,A,this)},this)},this)};function hl(u,p){dn(u);let _=[];if(typeof p=="string")cl(u,p)&&(_=_.concat(u.g.get(da(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}r.set=function(u,p){return dn(this),this.i=null,u=da(this,u),cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=hl(this,u),u.length>0?String(u[0]):p):p};function Yr(u,p,_){Qo(u,p),_.length>0&&(u.i=null,u.g.set(da(u,p),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var _=p[A];const z=Pi(_);_=hl(this,_);for(let F=0;F<_.length;F++){let ot=z;_[F]!==""&&(ot+="="+Pi(_[F])),u.push(ot)}}return this.i=u.join("&")};function Yo(u){const p=new fa;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function da(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Kr(u,p){p&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(_,A){const z=A.toLowerCase();A!=z&&(Qo(this,A),Yr(this,z,_))},u)),u.j=p}function Wn(u,p){const _=new $n;if(d.Image){const A=new Image;A.onload=E(Un,_,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Un,_,"TestLoadImage: error",!1,p,A),A.onabort=E(Un,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Un,_,"TestLoadImage: timeout",!1,p,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function fl(u,p){const _=new $n,A=new AbortController,z=setTimeout(()=>{A.abort(),Un(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(z),F.ok?Un(_,"TestPingServer: ok",!0,p):Un(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Un(_,"TestPingServer: error",!1,p)})}function Un(u,p,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function ma(){this.g=new Mo}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ei,jo),Ei.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,p){vt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(cr,vt),r=cr.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?pa(this):ti(this),this.readyState==3&&Xr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pa(this))},r.Na=function(u){this.g&&(this.response=u,pa(this))},r.ga=function(){this.g&&pa(this)};function pa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,p){this.A.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let p="";return Ot(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function hr(u,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Ln(_),typeof u=="string"?_!=null&&Pi(_):Jt(u,p,_))}function ee(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ee,vt);var Ti=/^https?$/i,dl=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){fr(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(dl,p,void 0)>=0)||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ot]of _)this.g.setRequestHeader(F,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){fr(this,F)}};function fr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,ml(u),Bi(u)}function ml(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},r.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),ei(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=F===0){let ot=String(u.D).match(qo)[1]||null;!ot&&d.self&&d.self.location&&(ot=d.self.location.protocol.slice(0,-1)),A=!Ti.test(ot?ot.toLowerCase():"")}_=A}if(_)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var z=ei(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",ml(u)}}finally{Bi(u)}}}}function Bi(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||oe(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),rh(p)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const p={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(D(u[A]))continue;var _=Bo(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=p[z]||[];p[z]=F,F.push(_)}Ft(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function ga(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new il(u&&u.concurrentRequestLimit),this.Ba=new ma,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ga.prototype,r.ka=8,r.I=1,r.connect=function(u,p,_,A){xe(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=tu(this,null,this.W),Ai(this)};function pl(u){if($r(u),u.I==3){var p=u.V++,_=Ne(u.J);if(Jt(_,"SID",u.M),Jt(_,"RID",p),Jt(_,"TYPE","terminate"),mr(u,_),p=new Zn(u,u.j,p),p.M=2,p.A=or(Ne(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.A,_=!0),_||(p.g=eu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),mi(p)}Wo(u)}function ya(u){u.g&&(yl(u),u.g.cancel(),u.g=null)}function $r(u){ya(u),u.v&&(d.clearTimeout(u.v),u.v=null),Jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!al(u.h)&&!u.m){u.m=!0;var p=u.Ea;St||R(),xt||(St(),xt=!0),C.add(p,u),u.D=0}}function Zr(u,p){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,p),Jo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Zn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=O(F),lt(F,this.U)):F=this.U),this.u!==null||this.R||(z.J=F,F=null),this.S)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Ko(this,z,p),_=Ne(this.J),Jt(_,"RID",u),Jt(_,"CVER",22),this.G&&Jt(_,"X-HTTP-Session-Id",this.G),mr(this,_),F&&(this.R?p="headers="+Pi(Ln(F))+"&"+p:this.u&&hr(_,this.u,F)),rl(this.h,z),this.Ra&&Jt(_,"TYPE","init"),this.S?(Jt(_,"$req",p),Jt(_,"SID","null"),z.U=!0,di(z,_,null)):di(z,_,p),this.I=2}}else this.I==3&&(u?gl(this,u):this.i.length==0||al(this.h)||gl(this))};function gl(u,p){var _;p?_=p.l:_=u.V++;const A=Ne(u.J);Jt(A,"SID",u.M),Jt(A,"RID",_),Jt(A,"AID",u.K),mr(u,A),u.u&&u.o&&hr(A,u.u,u.o),_=new Zn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Ko(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),rl(u.h,_),di(_,A,p)}function mr(u,p){u.H&&Ot(u.H,function(_,A){Jt(p,A,_)}),u.l&&Ot({},function(_,A){Jt(p,A,_)})}function Ko(u,p,_){_=Math.min(u.i.length,_);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let Nt=-1;for(;;){const Te=["count="+_];Nt==-1?_>0?(Nt=z[0].g,Te.push("ofs="+Nt)):Nt=0:Te.push("ofs="+Nt);let Xt=!0;for(let de=0;de<_;de++){var F=z[de].g;const zn=z[de].map;if(F-=Nt,F<0)Nt=Math.max(0,z[de].g-100),Xt=!1;else try{F="req"+F+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[wi,ni]of ot){let ii=ni;g(ni)&&(ii=ua(ni)),Te.push(F+wi+"="+encodeURIComponent(ii))}}catch(wi){throw Te.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(zn)}}if(Xt){ot=Te.join("&");break t}}ot=void 0}return u=u.i.splice(0,_),p.G=u,ot}function Xo(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;St||R(),xt||(St(),xt=!0),C.add(p,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),Jo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),ya(this),$o(this))};function yl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function $o(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Ne(u.na);Jt(p,"RID","rpc"),Jt(p,"SID",u.M),Jt(p,"AID",u.K),Jt(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(p,"TO",u.ia),Jt(p,"TYPE","xmlhttp"),mr(u,p),u.u&&u.o&&hr(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=or(Ne(p)),_.u=null,_.R=!0,qr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ya(this),pr(this),xe(19))};function Jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Zo(u,p){var _=null;if(u.g==p){Jr(u),yl(u),u.g=null;var A=2}else if(vi(u.h,p))_=p.G,sl(u.h,p),A=1;else return;if(u.I!=0){if(p.o)if(A==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var z=u.D;A=Hr(),oe(A,new ci(A,_)),Ai(u)}else Xo(u);else if(z=p.m,z==3||z==0&&p.X>0||!(A==1&&Zr(u,p)||A==2&&pr(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),z){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Jo(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function Si(u,p){if(u.j.info("Error code "+p),p==2){var _=y(u.bb,u),A=u.Ua;const z=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(A,"https"),or(A),z?Wn(A.toString(),_):fl(A.toString(),_)}else xe(2);u.I=0,u.l&&u.l.pa(p),Wo(u),$r(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Wo(u){if(u.I=0,u.ja=[],u.l){const p=ll(u.h);(p.length!=0||u.i.length!=0)&&(J(u.ja,p),J(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function tu(u,p,_){var A=_ instanceof An?Ne(_):new An(_);if(A.g!="")p&&(A.g=p+"."+A.g),ca(A,A.u);else{var z=d.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const F=new An(null);A&&qe(F,A),p&&(F.g=p),z&&ca(F,z),_&&(F.h=_),A=F}return _=u.G,p=u.wa,_&&p&&Jt(A,_,p),Jt(A,"VER",u.ka),mr(u,A),A}function eu(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new ee(new Ei({ab:_})):new ee(u.ma),p.Fa(u.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}r=nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function va(){}va.prototype.g=function(u,p){return new un(u,p)};function un(u,p){vt.call(this),this.g=new ga(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!D(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!D(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Hi(this)}b(un,vt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){pl(this.g)},un.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ua(u),u=_);p.i.push(new De(p.Ya++,u)),p.I==3&&Ai(p)},un.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,un.Z.N.call(this)};function iu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(iu,Qe);function au(){Mn.call(this),this.status=1}b(au,Mn);function Hi(u){this.g=u}b(Hi,nu),Hi.prototype.ra=function(){oe(this.g,"a")},Hi.prototype.qa=function(u){oe(this.g,new iu(u))},Hi.prototype.pa=function(u){oe(this.g,new au)},Hi.prototype.oa=function(){oe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,l0=function(){return new va},s0=function(){return Hr()},r0=Ee,Id={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,vc=sr,el.COMPLETE="complete",a0=el,Uo.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,ao=Uo,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,i0=ee}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Ks="12.9.0";function qS(r){Ks=r}const jr=new $_("@firebase/firestore");function Ds(){return jr.logLevel}function ct(r,...e){if(jr.logLevel<=Qt.DEBUG){const i=e.map(sm);jr.debug(`Firestore (${Ks}): ${r}`,...i)}}function la(r,...e){if(jr.logLevel<=Qt.ERROR){const i=e.map(sm);jr.error(`Firestore (${Ks}): ${r}`,...i)}}function Ur(r,...e){if(jr.logLevel<=Qt.WARN){const i=e.map(sm);jr.warn(`Firestore (${Ks}): ${r}`,...i)}}function sm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function At(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,o0(r,s,i)}function o0(r,e,i){let s=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw la(s),new Error(s)}function Zt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||o0(e,o,s)}function Dt(r,e){return r}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class u0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class GS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class QS{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Zt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,i(m)):Promise.resolve();let c=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Zt(typeof s.accessToken=="string",31837,{l:s}),new u0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class YS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new YS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,CS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Zt(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $S(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$S(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Bt(r,e){return r<e?-1:r>e?1:0}function Od(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return gd(o)===gd(c)?Bt(o,c):gd(o)?1:-1}return Bt(r.length,e.length)}const ZS=55296,JS=57343;function gd(r){const e=r.charCodeAt(0);return e>=ZS&&e<=JS}function zs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const Vv="__name__";class Ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&At(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&At(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ni.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Bt(e.length,i.length)}static compareSegments(e,i){const s=Ni.isNumericId(e),o=Ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):Od(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class ge extends Ni{construct(e,i,s){return new ge(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ge(i)}static emptyPath(){return new ge([])}}const WS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ni{construct(e,i,s){return new We(e,i,s)}static isValidIdentifier(e){return WS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new We([Vv])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(i)}static emptyPath(){return new We([])}}class Et{constructor(e){this.path=e}static fromPath(e){return new Et(ge.fromString(e))}static fromName(e){return new Et(ge.fromString(e).popFirst(5))}static empty(){return new Et(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ge.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new ge(e.slice()))}}function t2(r,e,i){if(!i)throw new gt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function e2(r,e,i,s){if(e===!0&&s===!0)throw new gt(nt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Iv(r){if(!Et.isDocumentKey(r))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function c0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=om(r);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ue(r,e){const i={typeString:r};return e&&(i.value=e),i}function xo(r,e){if(!c0(r))throw new gt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new gt(nt.INVALID_ARGUMENT,i);return!0}const Ov=-62135596800,Mv=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(e){return he.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Mv);return new he(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ov)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xo(e,he._jsonSchema))return new he(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ue("string",he._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new he(0,0))}static max(){return new Rt(new he(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vo=-1;function n2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new he(i+1,0):new he(i,s));return new Ka(o,Et.empty(),e)}function i2(r){return new Ka(r.readTime,r.key,vo)}class Ka{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ka(Rt.min(),Et.empty(),vo)}static max(){return new Ka(Rt.max(),Et.empty(),vo)}}function a2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Et.comparator(r.documentKey,e.documentKey),i!==0?i:Bt(r.largestBatchId,e.largestBatchId))}const r2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xs(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==r2)throw r;ct("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.reject(i)}static resolve(e){return new tt(((i,s)=>{i(e)}))}static reject(e){return new tt(((i,s)=>{s(e)}))}static waitFor(e){return new tt(((i,s)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(m=>s(m)))})),d=!0,c===o&&i()}))}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next((o=>o?tt.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new tt(((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let m=0;m<c;m++){const y=m;i(e[y]).next((E=>{d[y]=E,++g,g===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new tt(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function l2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $s(r){return r.name==="IndexedDbTransactionError"}class qc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qc.ce=-1;const um=-1;function Fc(r){return r==null}function Cc(r){return r===0&&1/r==-1/0}function o2(r){return typeof r=="number"&&Number.isInteger(r)&&!Cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const h0="";function u2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=jv(e)),e=c2(r.get(i),e);return jv(e)}function c2(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case h0:i+="";break;default:i+=c}}return i}function jv(r){return r+h0+""}function Uv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function er(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function f0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ye{constructor(e,i){this.comparator=e,this.root=i||Je.EMPTY}insert(e,i){return new ye(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Je.RED,this.left=o??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Je(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new Vn([])}unionWith(e){let i=new Be(We.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class d0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new d0("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const h2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(r){if(Zt(!!r,39018),typeof r=="string"){let e=0;const i=h2.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Re(r.seconds),nanos:Re(r.nanos)}}function Re(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $a(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const m0="server_timestamp",p0="__type__",g0="__previous_value__",y0="__local_write_time__";function cm(r){return(r?.mapValue?.fields||{})[p0]?.stringValue===m0}function Gc(r){const e=r.mapValue.fields[g0];return cm(e)?Gc(e):e}function _o(r){const e=Xa(r.mapValue.fields[y0].timestampValue);return new he(e.seconds,e.nanos)}class f2{constructor(e,i,s,o,c,d,g,m,y,E,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=b}}const Dc="(default)";class Eo{constructor(e,i){this.projectId=e,this.database=i||Dc}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(e){return e instanceof Eo&&e.projectId===this.projectId&&e.database===this.database}}function d2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(r.options.projectId,e)}const v0="__type__",m2="__max__",hc={mapValue:{}},_0="__vector__",Nc="value";function Za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cm(r)?4:g2(r)?9007199254740991:p2(r)?10:11:At(28295,{value:r})}function Ui(r,e){if(r===e)return!0;const i=Za(r);if(i!==Za(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _o(r).isEqual(_o(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Xa(o.timestampValue),g=Xa(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return $a(o.bytesValue).isEqual($a(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Re(o.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Re(o.integerValue)===Re(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Re(o.doubleValue),g=Re(c.doubleValue);return d===g?Cc(d)===Cc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return zs(r.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Uv(d)!==Uv(g))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(g[m]===void 0||!Ui(d[m],g[m])))return!1;return!0})(r,e);default:return At(52216,{left:r})}}function To(r,e){return(r.values||[]).find((i=>Ui(i,e)))!==void 0}function Ps(r,e){if(r===e)return 0;const i=Za(r),s=Za(e);if(i!==s)return Bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Re(c.integerValue||c.doubleValue),m=Re(d.integerValue||d.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(r,e);case 3:return zv(r.timestampValue,e.timestampValue);case 4:return zv(_o(r),_o(e));case 5:return Od(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=$a(c),m=$a(d);return g.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),m=d.split("/");for(let y=0;y<g.length&&y<m.length;y++){const E=Bt(g[y],m[y]);if(E!==0)return E}return Bt(g.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Bt(Re(c.latitude),Re(d.latitude));return g!==0?g:Bt(Re(c.longitude),Re(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Pv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},m=d.fields||{},y=g[Nc]?.arrayValue,E=m[Nc]?.arrayValue,b=Bt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:Pv(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===hc.mapValue&&d===hc.mapValue)return 0;if(c===hc.mapValue)return 1;if(d===hc.mapValue)return-1;const g=c.fields||{},m=Object.keys(g),y=d.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let b=0;b<m.length&&b<E.length;++b){const S=Od(m[b],E[b]);if(S!==0)return S;const j=Ps(g[m[b]],y[E[b]]);if(j!==0)return j}return Bt(m.length,E.length)})(r.mapValue,e.mapValue);default:throw At(23264,{he:i})}}function zv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Bt(r,e);const i=Xa(r),s=Xa(e),o=Bt(i.seconds,s.seconds);return o!==0?o:Bt(i.nanos,s.nanos)}function Pv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ps(i[o],s[o]);if(c)return c}return Bt(i.length,s.length)}function Bs(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Xa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $a(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Et.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Md(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Md(i.fields[d])}`;return o+"}"})(r.mapValue):At(61005,{value:r})}function _c(r){switch(Za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gc(r);return e?16+_c(e):16;case 5:return 2*r.stringValue.length;case 6:return $a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+_c(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return er(s.fields,((c,d)=>{o+=c.length+_c(d)})),o})(r.mapValue);default:throw At(13486,{value:r})}}function jd(r){return!!r&&"integerValue"in r}function hm(r){return!!r&&"arrayValue"in r}function Bv(r){return!!r&&"nullValue"in r}function kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ec(r){return!!r&&"mapValue"in r}function p2(r){return(r?.mapValue?.fields||{})[v0]?.stringValue===_0}function uo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return er(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=uo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=uo(r.arrayValue.values[i]);return e}return{...r}}function g2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===m2}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=uo(i)}setAll(e){let i=We.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const m=this.getFieldsMap(i);this.applyChanges(m,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=uo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){er(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new En(uo(this.value))}}function E0(r){const e=[];return er(r.fields,((i,s)=>{const o=new We([i]);if(Ec(s)){const c=E0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Vn(e)}class ln{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new ln(e,0,Rt.min(),Rt.min(),Rt.min(),En.empty(),0)}static newFoundDocument(e,i,s,o){return new ln(e,1,i,Rt.min(),s,o,0)}static newNoDocument(e,i){return new ln(e,2,i,Rt.min(),Rt.min(),En.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,Rt.min(),Rt.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vc{constructor(e,i){this.position=e,this.inclusive=i}}function Hv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=Et.comparator(Et.fromName(d.referenceValue),i.key):s=Ps(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function qv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ui(r.position[i],e.position[i]))return!1;return!0}class Ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function y2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class T0{}class Pe extends T0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new _2(e,i,s):i==="array-contains"?new b2(e,s):i==="in"?new A2(e,s):i==="not-in"?new S2(e,s):i==="array-contains-any"?new w2(e,s):new Pe(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new E2(e,s):new T2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ps(i,this.value)):i!==null&&Za(this.value)===Za(i)&&this.matchesComparison(Ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends T0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Li(e,i)}matches(e){return b0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b0(r){return r.op==="and"}function A0(r){return v2(r)&&b0(r)}function v2(r){for(const e of r.filters)if(e instanceof Li)return!1;return!0}function Ud(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+Bs(r.value);if(A0(r))return r.filters.map((e=>Ud(e))).join(",");{const e=r.filters.map((i=>Ud(i))).join(",");return`${r.op}(${e})`}}function S0(r,e){return r instanceof Pe?(function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)})(r,e):r instanceof Li?(function(s,o){return o instanceof Li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&S0(d,o.filters[g])),!0):!1})(r,e):void At(19439)}function w0(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Bs(i.value)}`})(r):r instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(w0).join(" ,")+"}"})(r):"Filter"}class _2 extends Pe{constructor(e,i,s){super(e,i,s),this.key=Et.fromName(s.referenceValue)}matches(e){const i=Et.comparator(e.key,this.key);return this.matchesComparison(i)}}class E2 extends Pe{constructor(e,i){super(e,"in",i),this.keys=R0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class T2 extends Pe{constructor(e,i){super(e,"not-in",i),this.keys=R0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function R0(r,e){return(e.arrayValue?.values||[]).map((i=>Et.fromName(i.referenceValue)))}class b2 extends Pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hm(i)&&To(i.arrayValue,this.value)}}class A2 extends Pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&To(this.value.arrayValue,i)}}class S2 extends Pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!To(this.value.arrayValue,i)}}class w2 extends Pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>To(this.value.arrayValue,s)))}}class R2{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Fv(r,e=null,i=[],s=[],o=null,c=null,d=null){return new R2(r,e,i,s,o,c,d)}function fm(r){const e=Dt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ud(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Bs(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Bs(s))).join(",")),e.Te=i}return e.Te}function dm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!y2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!S0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qv(r.startAt,e.startAt)&&qv(r.endAt,e.endAt)}function Ld(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Qc{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function x2(r,e,i,s,o,c,d,g){return new Qc(r,e,i,s,o,c,d,g)}function Yc(r){return new Qc(r)}function Gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function C2(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function D2(r){return r.collectionGroup!==null}function co(r){const e=Dt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Be(We.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ic(c,s))})),i.has(We.keyField().canonicalString())||e.Ie.push(new Ic(We.keyField(),s))}return e.Ie}function Ii(r){const e=Dt(r);return e.Ee||(e.Ee=N2(e,co(r))),e.Ee}function N2(r,e){if(r.limitType==="F")return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ic(o.field,c)}));const i=r.endAt?new Vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vc(r.startAt.position,r.startAt.inclusive):null;return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function zd(r,e,i){return new Qc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Kc(r,e){return dm(Ii(r),Ii(e))&&r.limitType===e.limitType}function x0(r){return`${fm(Ii(r))}|lt:${r.limitType}`}function Ns(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>w0(o))).join(", ")}]`),Fc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Bs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Bs(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Xc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Et.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of co(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,m){const y=Hv(d,g,m);return d.inclusive?y<=0:y<0})(s.startAt,co(s),o)||s.endAt&&!(function(d,g,m){const y=Hv(d,g,m);return d.inclusive?y>=0:y>0})(s.endAt,co(s),o))})(r,e)}function V2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function C0(r){return(e,i)=>{let s=!1;for(const o of co(r)){const c=I2(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function I2(r,e,i){const s=r.field.isKeyField()?Et.comparator(e.key,i.key):(function(c,d,g){const m=d.data.field(c),y=g.data.field(c);return m!==null&&y!==null?Ps(m,y):At(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:r.dir})}}class Pr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){er(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}const O2=new ye(Et.comparator);function oa(){return O2}const D0=new ye(Et.comparator);function ro(...r){let e=D0;for(const i of r)e=e.insert(i.key,i);return e}function N0(r){let e=D0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Or(){return ho()}function V0(){return ho()}function ho(){return new Pr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const M2=new ye(Et.comparator),j2=new Be(Et.comparator);function kt(...r){let e=j2;for(const i of r)e=e.add(i);return e}const U2=new Be(Bt);function L2(){return U2}function mm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function I0(r){return{integerValue:""+r}}function z2(r,e){return o2(e)?I0(e):mm(r,e)}class $c{constructor(){this._=void 0}}function P2(r,e,i){return r instanceof Oc?(function(o,c){const d={fields:{[p0]:{stringValue:m0},[y0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&cm(c)&&(c=Gc(c)),c&&(d.fields[g0]=c),{mapValue:d}})(i,e):r instanceof ks?M0(r,e):r instanceof bo?j0(r,e):(function(o,c){const d=O0(o,c),g=Qv(d)+Qv(o.Ae);return jd(d)&&jd(o.Ae)?I0(g):mm(o.serializer,g)})(r,e)}function B2(r,e,i){return r instanceof ks?M0(r,e):r instanceof bo?j0(r,e):i}function O0(r,e){return r instanceof Mc?(function(s){return jd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Oc extends $c{}class ks extends $c{constructor(e){super(),this.elements=e}}function M0(r,e){const i=U0(e);for(const s of r.elements)i.some((o=>Ui(o,s)))||i.push(s);return{arrayValue:{values:i}}}class bo extends $c{constructor(e){super(),this.elements=e}}function j0(r,e){let i=U0(e);for(const s of r.elements)i=i.filter((o=>!Ui(o,s)));return{arrayValue:{values:i}}}class Mc extends $c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Qv(r){return Re(r.integerValue||r.doubleValue)}function U0(r){return hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class k2{constructor(e,i){this.field=e,this.transform=i}}function H2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ks&&o instanceof ks||s instanceof bo&&o instanceof bo?zs(s.elements,o.elements,Ui):s instanceof Mc&&o instanceof Mc?Ui(s.Ae,o.Ae):s instanceof Oc&&o instanceof Oc})(r.transform,e.transform)}class q2{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zc{}function L0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new P0(r.key,Oi.none()):new Co(r.key,r.data,Oi.none());{const i=r.data,s=En.empty();let o=new Be(We.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new nr(r.key,s,new Vn(o.toArray()),Oi.none())}}function F2(r,e,i){r instanceof Co?(function(o,c,d){const g=o.value.clone(),m=Kv(o.fieldTransforms,c,d.transformResults);g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof nr?(function(o,c,d){if(!Tc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Kv(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(z0(o)),m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function fo(r,e,i,s){return r instanceof Co?(function(c,d,g,m){if(!Tc(c.precondition,d))return g;const y=c.value.clone(),E=Xv(c.fieldTransforms,m,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof nr?(function(c,d,g,m){if(!Tc(c.precondition,d))return g;const y=Xv(c.fieldTransforms,m,d),E=d.data;return E.setAll(z0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(c,d,g){return Tc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function G2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=O0(s.transform,o||null);c!=null&&(i===null&&(i=En.empty()),i.set(s.field,c))}return i||null}function Yv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zs(s,o,((c,d)=>H2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Co extends Zc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class nr extends Zc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function z0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Kv(r,e,i){const s=new Map;Zt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,B2(d,g,i[o]))}return s}function Xv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,P2(c,d,e))}return s}class P0 extends Zc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2 extends Zc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&F2(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=fo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=fo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=V0();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const m=L0(d,g);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),kt())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,((i,s)=>Yv(i,s)))&&zs(this.baseMutations,e.baseMutations,((i,s)=>Yv(i,s)))}}class pm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Zt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return M2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new pm(e,i,s,o)}}class K2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class X2{constructor(e,i){this.count=e,this.unchangedNames=i}}var je,Gt;function $2(r){switch(r){case nt.OK:return At(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function B0(r){if(r===void 0)return la("GRPC error has no .code"),nt.UNKNOWN;switch(r){case je.OK:return nt.OK;case je.CANCELLED:return nt.CANCELLED;case je.UNKNOWN:return nt.UNKNOWN;case je.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case je.INTERNAL:return nt.INTERNAL;case je.UNAVAILABLE:return nt.UNAVAILABLE;case je.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case je.NOT_FOUND:return nt.NOT_FOUND;case je.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case je.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case je.ABORTED:return nt.ABORTED;case je.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case je.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case je.DATA_LOSS:return nt.DATA_LOSS;default:return At(39323,{code:r})}}(Gt=je||(je={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function Z2(){return new TextEncoder}const J2=new Ga([4294967295,4294967295],0);function $v(r){const e=Z2().encode(r),i=new n0;return i.update(e),new Uint8Array(i.digest())}function Zv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ga([i,s],0),new Ga([o,c],0)]}class gm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new so(`Invalid padding: ${i}`);if(s<0)throw new so(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new so(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ga.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ga.fromNumber(s)));return o.compare(J2)===1&&(o=new Ga([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$v(e),[s,o]=Zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new gm(c,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=$v(e),[s,o]=Zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Do.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Jc(Rt.min(),o,new ye(Bt),oa(),kt())}}class Do{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Do(s,i,kt(),kt(),kt())}}class bc{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=o}}class k0{constructor(e,i){this.targetId=e,this.Ce=i}}class H0{constructor(e,i,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Jv{constructor(){this.ve=0,this.Fe=Wv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kt(),i=kt(),s=kt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:At(38017,{changeType:c})}})),new Do(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=Wv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class W2{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.He=fc(),this.Je=fc(),this.Ze=new ye(Bt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:At(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Ld(c))if(s===0){const d=new Et(c.path);this.et(i,d,ln.newNoDocument(d,Rt.min()))}else Zt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),m=g?this.ct(g,e,d):1;if(m!==0){this.it(i);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=$a(s).toUint8Array()}catch(m){if(m instanceof d0)return Ur("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new gm(d,o,c)}catch(m){return Ur(m instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Ld(g.target)){const m=new Et(g.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,ln.newNoDocument(m,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=kt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Jc(e,i,this.Ze,this.je,s);return this.je=oa(),this.He=fc(),this.Je=fc(),this.Ze=new ye(Bt),o}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Jv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Be(Bt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Be(Bt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function fc(){return new ye(Et.comparator)}function Wv(){return new ye(Et.comparator)}const tw={asc:"ASCENDING",desc:"DESCENDING"},ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nw={and:"AND",or:"OR"};class iw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pd(r,e){return r.useProto3Json||Fc(e)?e:{value:e}}function jc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aw(r,e){return jc(r,e.toTimestamp())}function Mi(r){return Zt(!!r,49232),Rt.fromTimestamp((function(i){const s=Xa(i);return new he(s.seconds,s.nanos)})(r))}function ym(r,e){return Bd(r,e).canonicalString()}function Bd(r,e){const i=(function(o){return new ge(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function F0(r){const e=ge.fromString(r);return Zt(X0(e),10190,{key:e.toString()}),e}function kd(r,e){return ym(r.databaseId,e.path)}function yd(r,e){const i=F0(e);if(i.get(1)!==r.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Et(Q0(i))}function G0(r,e){return ym(r.databaseId,e)}function rw(r){const e=F0(r);return e.length===4?ge.emptyPath():Q0(e)}function Hd(r){return new ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q0(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function t_(r,e,i){return{name:kd(r,e),fields:i.value.mapValue.fields}}function sw(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:At(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Zt(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Zt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?nt.UNKNOWN:B0(y.code);return new gt(E,y.message||"")})(d);i=new H0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yd(r,s.document.name),c=Mi(s.document.updateTime),d=s.document.createTime?Mi(s.document.createTime):Rt.min(),g=new En({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new bc(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yd(r,s.document),c=s.readTime?Mi(s.readTime):Rt.min(),d=ln.newNoDocument(o,c),g=s.removedTargetIds||[];i=new bc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yd(r,s.document),c=s.removedTargetIds||[];i=new bc([],c,o,null)}else{if(!("filter"in e))return At(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new X2(o,c),g=s.targetId;i=new k0(g,d)}}return i}function lw(r,e){let i;if(e instanceof Co)i={update:t_(r,e.key,e.value)};else if(e instanceof P0)i={delete:kd(r,e.key)};else if(e instanceof nr)i={update:t_(r,e.key,e.data),updateMask:gw(e.fieldMask)};else{if(!(e instanceof Q2))return At(16599,{dt:e.type});i={verify:kd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ks)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw At(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:aw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At(27497)})(r,e.precondition)),i}function ow(r,e){return r&&r.length>0?(Zt(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Mi(o.updateTime):Mi(c);return d.isEqual(Rt.min())&&(d=Mi(c)),new q2(d,o.transformResults||[])})(i,e)))):[]}function uw(r,e){return{documents:[G0(r,e.path)]}}function cw(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=G0(r,o);const c=(function(y){if(y.length!==0)return K0(Li.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:Vs(S.field),direction:dw(S.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Pd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function hw(r){let e=rw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Zt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(b){const S=Y0(b);return S instanceof Li&&A0(S)?S.getFilters():[S]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((S=>(function(J){return new Ic(Is(J.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(S)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let S;return S=typeof b=="object"?b.value:b,Fc(S)?null:S})(i.limit));let m=null;i.startAt&&(m=(function(b){const S=!!b.before,j=b.values||[];return new Vc(j,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const S=!b.before,j=b.values||[];return new Vc(j,S)})(i.endAt)),x2(e,o,d,c,g,"F",m,y)}function fw(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Y0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Is(i.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Is(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Is(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Is(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(Is(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((s=>Y0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(i.compositeFilter.op))})(r):At(30097,{filter:r})}function dw(r){return tw[r]}function mw(r){return ew[r]}function pw(r){return nw[r]}function Vs(r){return{fieldPath:r.canonicalString()}}function Is(r){return We.fromServerFormat(r.fieldPath)}function K0(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(kv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(Bv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(kv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(Bv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:mw(i.op),value:i.value}}})(r):r instanceof Li?(function(i){const s=i.getFilters().map((o=>K0(o)));return s.length===1?s[0]:{compositeFilter:{op:pw(i.op),filters:s}}})(r):At(54877,{filter:r})}function gw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function X0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function $0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ha{constructor(e,i,s,o,c=Rt.min(),d=Rt.min(),g=tn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yw{constructor(e){this.yt=e}}function vw(r){const e=hw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zd(e,e.limit,"L"):e}class _w{constructor(){this.Sn=new Ew}addToCollectionParentIndex(e,i){return this.Sn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Ka.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Ka.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class Ew{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Be(ge.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Be(ge.comparator)).toArray()}}const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Z0,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Hs{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Hs(0)}static ar(){return new Hs(-1)}}const n_="LruGarbageCollector",Tw=1048576;function i_([r,e],[i,s]){const o=Bt(r,i);return o===0?Bt(e,s):o}class bw{constructor(e){this.Pr=e,this.buffer=new Be(i_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();i_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Aw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ct(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$s(i)?ct(n_,"Ignoring IndexedDB error during garbage collection: ",i):await Xs(i)}await this.Ar(3e5)}))}}class Sw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(qc.ce);const s=new bw(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(e_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,o,c,d,g,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,g=Date.now(),this.removeTargets(e,s,i)))).next((b=>(c=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Ds()<=Qt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(m-g)+`ms
	Removed ${b} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function ww(r,e){return new Sw(r,e)}class Rw{constructor(){this.changes=new Pr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Cw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&fo(s.mutation,o,Vn.empty(),he.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,kt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=kt()){const o=Or();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=ro();return c.forEach(((g,m)=>{d=d.insert(g,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Or();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,kt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let c=oa();const d=ho(),g=(function(){return ho()})();return i.forEach(((m,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof nr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),fo(E.mutation,y,E.mutation.getFieldMask(),he.now())):d.set(y.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new xw(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=ho();let o=new ye(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((m=>{const y=i.get(m);if(y===null)return;let E=s.get(m)||Vn.empty();E=g.applyToLocalView(y,E),s.set(m,E);const b=(o.get(g.batchId)||kt()).add(m);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),y=m.key,E=m.value,b=V0();E.forEach((S=>{if(!c.has(S)){const j=L0(i.get(S),s.get(S));j!==null&&b.set(S,j),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return tt.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return C2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):D2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):tt.resolve(Or());let g=vo,m=c;return d.next((y=>tt.forEach(y,((E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{m=m.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,m,y,kt()))).next((E=>({batchId:g,changes:N0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Et(i)).next((s=>{let o=ro();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=ro();return this.indexManager.getCollectionParents(e,c).next((g=>tt.forEach(g,(m=>{const y=(function(b,S){return new Qc(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((m,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,ln.newInvalidDocument(E)))}));let g=ro();return d.forEach(((m,y)=>{const E=c.get(m);E!==void 0&&fo(E.mutation,y,Vn.empty(),he.now()),Xc(i,y)&&(g=g.insert(m,y))})),g}))}}class Dw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return tt.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:vw(o.bundledQuery),readTime:Mi(o.readTime)}})(i)),tt.resolve()}}class Nw{constructor(){this.overlays=new ye(Et.comparator),this.Lr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Or();return tt.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.bt(e,i,c)})),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=Or(),c=i.length+1,d=new Et(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const m=g.getNext().value,y=m.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ye(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Or(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Or(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return tt.resolve(g)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new K2(i,s));let c=this.Lr.get(i);c===void 0&&(c=kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class Vw{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}class vm{constructor(){this.kr=new Be(Ge.Kr),this.qr=new Be(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Ge(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Ge(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new Et(new ge([])),s=new Ge(i,e),o=new Ge(i,e+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Et(new ge([])),s=new Ge(i,e),o=new Ge(i,e+1);let c=kt();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ge(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ge{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Et.comparator(e.key,i.key)||Bt(e.Hr,i.Hr)}static Ur(e,i){return Bt(e.Hr,i.Hr)||Et.comparator(e.key,i.key)}}class Iw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ge.Kr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Y2(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Ge(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?um:this.Yn-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Be(Bt);return i.forEach((o=>{const c=new Ge(o,0),d=new Ge(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{s=s.add(g.Hr)}))})),tt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;Et.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new Et(c),0);let g=new Be(Bt);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(m.Hr)),!0)}),d),tt.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Zt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return tt.forEach(i.mutations,(o=>{const c=new Ge(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Ge(i,0),o=this.Jr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ow{constructor(e){this.ti=e,this.docs=(function(){return new ye(Et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let s=oa();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=oa();const d=i.path,g=new Et(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||a2(i2(E),s)<=0||(o.has(E.key)||Xc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){At(9500)}ni(e,i){return tt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Mw(this)}getSize(e){return tt.resolve(this.size)}}class Mw extends Rw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),tt.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class jw{constructor(e){this.persistence=e,this.ri=new Pr((i=>fm(i)),dm),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new vm,this.targetCount=0,this.oi=Hs._r()}forEachTarget(e,i){return this.ri.forEach(((s,o)=>i(o))),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),tt.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Hs(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.lr(i),tt.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),tt.waitFor(c).next((()=>o))}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),tt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this.si.containsKey(i))}}class J0{constructor(e,i){this._i={},this.overlays={},this.ai=new qc(0),this.ui=!1,this.ui=!0,this.ci=new Vw,this.referenceDelegate=e(this),this.li=new jw(this),this.indexManager=new _w,this.remoteDocumentCache=(function(o){return new Ow(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new yw(i),this.Pi=new Dw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Nw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new Iw(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new Uw(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return tt.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class Uw extends s2{constructor(e){super(),this.currentSequenceNumber=e}}class _m{constructor(e){this.persistence=e,this.Ri=new vm,this.Ai=null}static Vi(e){return new _m(e)}get di(){if(this.Ai)return this.Ai;throw At(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,(s=>{const o=Et.fromPath(s);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Rt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Uc{constructor(e,i){this.persistence=e,this.fi=new Pr((s=>u2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ww(this,i)}static Vi(e,i){return new Uc(e,i)}Ti(){}Ii(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return tt.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?tt.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(s++,c.removeEntry(d,Rt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),tt.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=_c(e.data.value)),i}wr(e,i,s){return tt.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Em{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=o}static Es(e,i){let s=kt(),o=kt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Em(e,i.fromCache,s,o)}}class Lw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wA()?8:l2(AA())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Lw;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,s,o){return s.documentReadCount<this.Vs?(Ds()<=Qt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(Ds()<=Qt.DEBUG&&ct("QueryEngine","Query:",Ns(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ds()<=Qt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):tt.resolve())}gs(e,i){if(Gv(i))return tt.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=zd(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=kt(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.bs(i,g);return this.Ss(i,y,d,m.readTime)?this.gs(e,zd(i,null,"F")):this.Ds(e,y,i,m)}))))})))))}ps(e,i,s,o){return Gv(i)||o.isEqual(Rt.min())?tt.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,o)?tt.resolve(null):(Ds()<=Qt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ns(i)),this.Ds(e,d,i,n2(o,vo)).next((g=>g)))}))}bs(e,i){let s=new Be(C0(e));return i.forEach(((o,c)=>{Xc(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,s){return Ds()<=Qt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Ns(i)),this.fs.getDocumentsMatchingQuery(e,i,Ka.min(),s)}Ds(e,i,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Tm="LocalStore",Pw=3e8;class Bw{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ye(Bt),this.Fs=new Pr((c=>fm(c)),dm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function kw(r,e,i,s){return new Bw(r,e,i,s)}async function W0(r,e){const i=Dt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let m=kt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return i.localDocuments.getDocuments(s,m).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Hw(r,e){const i=Dt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,y,E){const b=y.batch,S=b.keys();let j=tt.resolve();return S.forEach((J=>{j=j.next((()=>E.getEntry(m,J))).next((Q=>{const K=y.docVersions.get(J);Zt(K!==null,48541),Q.version.compareTo(K)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(m,b)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let m=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(m=m.add(g.batch.mutations[y].key));return m})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function tE(r){const e=Dt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function qw(r,e){const i=Dt(r),s=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;g.push(i.li.removeMatchingKeys(c,E.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,b))));let j=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(tn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(b,j),(function(Q,K,rt){return Q.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Pw?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(S,j,E)&&g.push(i.li.updateTargetData(c,j))}));let m=oa(),y=kt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Fw(c,d,e.documentUpdates).next((E=>{m=E.Bs,y=E.Ls}))),!s.isEqual(Rt.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return tt.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,y))).next((()=>m))})).then((c=>(i.vs=o,c)))}function Fw(r,e,i){let s=kt(),o=kt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=oa();return i.forEach(((g,m)=>{const y=c.get(g);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(e.removeEntry(g,m.readTime),d=d.insert(g,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(g,m)):ct(Tm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function Gw(r,e){const i=Dt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=um),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Qw(r,e){const i=Dt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,e).next((c=>c?(o=c,tt.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new Ha(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function qd(r,e,i){const s=Dt(r),o=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!$s(d))throw d;ct(Tm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function a_(r,e,i){const s=Dt(r);let o=Rt.min(),c=kt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,y,E){const b=Dt(m),S=b.Fs.get(E);return S!==void 0?tt.resolve(b.vs.get(S)):b.li.getTargetData(y,E)})(s,d,Ii(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,g.targetId).next((m=>{c=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Rt.min(),i?c:kt()))).next((g=>(Yw(s,V2(e),g),{documents:g,ks:c})))))}function Yw(r,e,i){let s=r.Ms.get(e)||Rt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class r_{constructor(){this.activeTargetIds=L2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kw{constructor(){this.vo=new r_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new r_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xw{Mo(e){}shutdown(){}}const s_="ConnectivityMonitor";class l_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(s_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ct(s_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dc=null;function Fd(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}const vd="RestConnection",$w={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Zw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Dc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,c){const d=Fd(),g=this.Qo(e,i.toUriEncodedString());ct(vd,`Sending RPC '${e}' ${d}:`,g,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:y}=new URL(g),E=am(y);return this.zo(e,g,m,s,E).then((b=>(ct(vd,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Ur(vd,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b}))}jo(e,i,s,o,c,d){return this.Wo(e,i,s,o,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ks})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const s=$w[e];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Jw{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",io=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ms extends Zw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ms.c_){const e=s0();io(e,r0.STAT_EVENT,(i=>{i.stat===Id.PROXY?ct(an,"STAT_EVENT: detected buffering proxy"):i.stat===Id.NOPROXY&&ct(an,"STAT_EVENT: detected no buffering proxy")})),Ms.c_=!0}}zo(e,i,s,o,c){const d=Fd();return new Promise(((g,m)=>{const y=new i0;y.setWithCredentials(!0),y.listenOnce(a0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case vc.NO_ERROR:const b=y.getResponseJson();ct(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case vc.TIMEOUT:ct(an,`RPC '${e}' ${d} timed out`),m(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const S=y.getStatus();if(ct(an,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const J=j?.error;if(J&&J.status&&J.message){const Q=(function(rt){const it=rt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(it)>=0?it:nt.UNKNOWN})(J.status);m(new gt(Q,J.message))}else m(new gt(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(an,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ct(an,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Fd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const y=c.join("");ct(an,`Creating RPC '${e}' stream ${o}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let b=!1,S=!1;const j=new Jw({Ho:J=>{S?ct(an,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(b||(ct(an,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ct(an,`RPC '${e}' stream ${o} sending:`,J),E.send(J))},Jo:()=>E.close()});return io(E,ao.EventType.OPEN,(()=>{S||(ct(an,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),io(E,ao.EventType.CLOSE,(()=>{S||(S=!0,ct(an,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(E))})),io(E,ao.EventType.ERROR,(J=>{S||(S=!0,Ur(an,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),j.o_(new gt(nt.UNAVAILABLE,"The operation could not be completed")))})),io(E,ao.EventType.MESSAGE,(J=>{if(!S){const Q=J.data[0];Zt(!!Q,16349);const K=Q,rt=K?.error||K[0]?.error;if(rt){ct(an,`RPC '${e}' stream ${o} received error:`,rt);const it=rt.status;let ut=(function(xt){const C=je[xt];if(C!==void 0)return B0(C)})(it),mt=rt.message;it==="NOT_FOUND"&&mt.includes("database")&&mt.includes("does not exist")&&mt.includes(this.databaseId.database)&&Ur(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ut===void 0&&(ut=nt.INTERNAL,mt="Unknown error status: "+it+" with message "+rt.message),S=!0,j.o_(new gt(ut,mt)),E.close()}else ct(an,`RPC '${e}' stream ${o} received:`,Q),j.__(Q)}})),Ms.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return l0()}}function Ww(r){return new Ms(r)}function _d(){return typeof document<"u"?document:null}function Wc(r){return new iw(r,!0)}Ms.c_=!1;class eE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const o_="PersistentStream";class nE{constructor(e,i,s,o,c,d,g,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(la(i.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new gt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ct(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tR extends nE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=sw(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Rt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?Mi(d.readTime):Rt.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=Hd(this.serializer),i.addTarget=(function(c,d){let g;const m=d.target;if(g=Ld(m)?{documents:uw(c,m)}:{query:cw(c,m).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=q0(c,d.resumeToken);const y=Pd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Rt.min())>0){g.readTime=jc(c,d.snapshotVersion.toTimestamp());const y=Pd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=fw(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=Hd(this.serializer),i.removeTarget=e,this.K_(i)}}class eR extends nE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ow(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Hd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>lw(this.serializer,s)))};this.K_(i)}}class nR{}class iR extends nR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Bd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(nt.UNKNOWN,c.toString())}))}jo(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Bd(i,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(nt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aR(r,e,i,s){return new iR(r,e,i,s)}class rR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(la(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Lr="RemoteStore";class sR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Br(this)&&(ct(Lr,"Restarting streams for network reachability change."),await(async function(m){const y=Dt(m);y.Ea.add(4),await No(y),y.Va.set("Unknown"),y.Ea.delete(4),await th(y)})(this))}))})),this.Va=new rR(s,o)}}async function th(r){if(Br(r))for(const e of r.Ra)await e(!0)}async function No(r){for(const e of r.Ra)await e(!1)}function iE(r,e){const i=Dt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),wm(i)?Sm(i):Zs(i).O_()&&Am(i,e))}function bm(r,e){const i=Dt(r),s=Zs(i);i.Ia.delete(e),s.O_()&&aE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Br(i)&&i.Va.set("Unknown"))}function Am(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zs(r).Z_(e)}function aE(r,e){r.da.$e(e),Zs(r).X_(e)}function Sm(r){r.da=new W2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zs(r).start(),r.Va.ua()}function wm(r){return Br(r)&&!Zs(r).x_()&&r.Ia.size>0}function Br(r){return Dt(r).Ea.size===0}function rE(r){r.da=void 0}async function lR(r){r.Va.set("Online")}async function oR(r){r.Ia.forEach(((e,i)=>{Am(r,e)}))}async function uR(r,e){rE(r),wm(r)?(r.Va.ha(e),Sm(r)):r.Va.set("Unknown")}async function cR(r,e,i){if(r.Va.set("Online"),e instanceof H0&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){ct(Lr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lc(r,s)}else if(e instanceof bc?r.da.Xe(e):e instanceof k0?r.da.st(e):r.da.tt(e),!i.isEqual(Rt.min()))try{const s=await tE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(m.resumeToken,d))}})),g.targetMismatches.forEach(((m,y)=>{const E=c.Ia.get(m);if(!E)return;c.Ia.set(m,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),aE(c,m);const b=new Ha(E.target,m,y,E.sequenceNumber);Am(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ct(Lr,"Failed to raise snapshot:",s),await Lc(r,s)}}async function Lc(r,e,i){if(!$s(e))throw e;r.Ea.add(1),await No(r),r.Va.set("Offline"),i||(i=()=>tE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(Lr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await th(r)}))}function sE(r,e){return e().catch((i=>Lc(r,i,e)))}async function eh(r){const e=Dt(r),i=Ja(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:um;for(;hR(e);)try{const o=await Gw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,fR(e,o)}catch(o){await Lc(e,o)}lE(e)&&oE(e)}function hR(r){return Br(r)&&r.Ta.length<10}function fR(r,e){r.Ta.push(e);const i=Ja(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function lE(r){return Br(r)&&!Ja(r).x_()&&r.Ta.length>0}function oE(r){Ja(r).start()}async function dR(r){Ja(r).ra()}async function mR(r){const e=Ja(r);for(const i of r.Ta)e.ea(i.mutations)}async function pR(r,e,i){const s=r.Ta.shift(),o=pm.from(s,e,i);await sE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await eh(r)}async function gR(r,e){e&&Ja(r).Y_&&await(async function(s,o){if((function(d){return $2(d)&&d!==nt.ABORTED})(o.code)){const c=s.Ta.shift();Ja(s).B_(),await sE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await eh(s)}})(r,e),lE(r)&&oE(r)}async function u_(r,e){const i=Dt(r);i.asyncQueue.verifyOperationInProgress(),ct(Lr,"RemoteStore received new credentials");const s=Br(i);i.Ea.add(3),await No(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await th(i)}async function yR(r,e){const i=Dt(r);e?(i.Ea.delete(2),await th(i)):e||(i.Ea.add(2),await No(i),i.Va.set("Unknown"))}function Zs(r){return r.ma||(r.ma=(function(i,s,o){const c=Dt(i);return c.sa(),new tR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:lR.bind(null,r),Yo:oR.bind(null,r),t_:uR.bind(null,r),J_:cR.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),wm(r)?Sm(r):r.Va.set("Unknown")):(await r.ma.stop(),rE(r))}))),r.ma}function Ja(r){return r.fa||(r.fa=(function(i,s,o){const c=Dt(i);return c.sa(),new eR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:dR.bind(null,r),t_:gR.bind(null,r),ta:mR.bind(null,r),na:pR.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await eh(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(Lr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Rm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Rm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(r,e){if(la("AsyncQueue",`${e}: ${r}`),$s(r))return new gt(nt.UNAVAILABLE,`${e}: ${r}`);throw r}class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||Et.comparator(i.key,s.key):(i,s)=>Et.comparator(i.key,s.key),this.keyedMap=ro(),this.sortedSet=new ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class c_{constructor(){this.ga=new ye(Et.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):At(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class qs{constructor(e,i,s,o,c,d,g,m,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new qs(e,i,js.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class vR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _R{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Dt(i),c=o.queries;o.queries=h_(),c.forEach(((d,g)=>{for(const m of g.ba)m.onError(s)}))})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function h_(){return new Pr((r=>x0(r)),Kc)}async function uE(r,e){const i=Dt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new vR,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=xm(d,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Cm(i)}async function cE(r,e){const i=Dt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ER(r,e){const i=Dt(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(s=!0);d.wa=o}}s&&Cm(i)}function TR(r,e,i){const s=Dt(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(i);s.queries.delete(e)}function Cm(r){r.Ca.forEach((e=>{e.next()}))}var Gd,f_;(f_=Gd||(Gd={})).Ma="default",f_.Cache="cache";class hE{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gd.Cache}}class fE{constructor(e){this.key=e}}class dE{constructor(e){this.key=e}}class bR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=C0(e),this.tu=new js(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new c_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const S=o.get(E),j=Xc(this.query,b)?b:null,J=!!S&&this.mutatedKeys.has(S.key),Q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let K=!1;S&&j?S.data.isEqual(j.data)?J!==Q&&(s.track({type:3,doc:j}),K=!0):this.su(S,j)||(s.track({type:2,doc:j}),K=!0,(m&&this.eu(j,m)>0||y&&this.eu(j,y)<0)&&(g=!0)):!S&&j?(s.track({type:0,doc:j}),K=!0):S&&!j&&(s.track({type:1,doc:S}),K=!0,(m||y)&&(g=!0)),K&&(j?(d=d.add(j),c=Q?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,b)=>(function(j,J){const Q=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:K})}};return Q(j)-Q(J)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,d.length!==0||y?{snapshot:new qs(this.query,e.tu,c,d,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new dE(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new fE(s))})),i}cu(e){this.Za=e.ks,this.Ya=kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dm="SyncEngine";class AR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class SR{constructor(e){this.key=e,this.hu=!1}}class wR{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Pr((g=>x0(g)),Kc),this.Iu=new Map,this.Eu=new Set,this.Ru=new ye(Et.comparator),this.Au=new Map,this.Vu=new vm,this.du={},this.mu=new Map,this.fu=Hs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RR(r,e,i=!0){const s=_E(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await mE(s,e,i,!0),o}async function xR(r,e){const i=_E(r);await mE(i,e,!0,!1)}async function mE(r,e,i,s){const o=await Qw(r.localStore,Ii(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await CR(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&iE(r.remoteStore,o),g}async function CR(r,e,i,s,o){r.pu=(b,S,j)=>(async function(Q,K,rt,it){let ut=K.view.ru(rt);ut.Ss&&(ut=await a_(Q.localStore,K.query,!1).then((({documents:C})=>K.view.ru(C,ut))));const mt=it&&it.targetChanges.get(K.targetId),St=it&&it.targetMismatches.get(K.targetId)!=null,xt=K.view.applyChanges(ut,Q.isPrimaryClient,mt,St);return m_(Q,K.targetId,xt.au),xt.snapshot})(r,b,S,j);const c=await a_(r.localStore,e,!0),d=new bR(e,c.ks),g=d.ru(c.documents),m=Do.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,m);m_(r,i,y.au);const E=new AR(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function DR(r,e,i){const s=Dt(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Kc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await qd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&bm(s.remoteStore,o.targetId),Qd(s,o.targetId)})).catch(Xs)):(Qd(s,o.targetId),await qd(s.localStore,o.targetId,!0))}async function NR(r,e){const i=Dt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bm(i.remoteStore,s.targetId))}async function VR(r,e,i){const s=zR(r);try{const o=await(function(d,g){const m=Dt(d),y=he.now(),E=g.reduce(((j,J)=>j.add(J.key)),kt());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let J=oa(),Q=kt();return m.xs.getEntries(j,E).next((K=>{J=K,J.forEach(((rt,it)=>{it.isValidDocument()||(Q=Q.add(rt))}))})).next((()=>m.localDocuments.getOverlayedDocuments(j,J))).next((K=>{b=K;const rt=[];for(const it of g){const ut=G2(it,b.get(it.key).overlayedDocument);ut!=null&&rt.push(new nr(it.key,ut,E0(ut.value.mapValue),Oi.exists(!0)))}return m.mutationQueue.addMutationBatch(j,y,rt,g)})).next((K=>{S=K;const rt=K.applyToLocalDocumentSet(b,Q);return m.documentOverlayCache.saveOverlays(j,K.batchId,rt)}))})).then((()=>({batchId:S.batchId,changes:N0(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,m){let y=d.du[d.currentUser.toKey()];y||(y=new ye(Bt)),y=y.insert(g,m),d.du[d.currentUser.toKey()]=y})(s,o.batchId,i),await Vo(s,o.changes),await eh(s.remoteStore)}catch(o){const c=xm(o,"Failed to persist write");i.reject(c)}}async function pE(r,e){const i=Dt(r);try{const s=await qw(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Zt(d.hu,14607):o.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Vo(i,s,e)}catch(s){await Xs(s)}}function d_(r,e,i){const s=Dt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const m=Dt(d);m.onlineState=g;let y=!1;m.queries.forEach(((E,b)=>{for(const S of b.ba)S.va(g)&&(y=!0)})),y&&Cm(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function IR(r,e,i){const s=Dt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new ye(Et.comparator);d=d.insert(c,ln.newNoDocument(c,Rt.min()));const g=kt().add(c),m=new Jc(Rt.min(),new Map,new ye(Bt),d,g);await pE(s,m),s.Ru=s.Ru.remove(c),s.Au.delete(e),Nm(s)}else await qd(s.localStore,e,!1).then((()=>Qd(s,e,i))).catch(Xs)}async function OR(r,e){const i=Dt(r),s=e.batch.batchId;try{const o=await Hw(i.localStore,e);yE(i,s,null),gE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Vo(i,o)}catch(o){await Xs(o)}}async function MR(r,e,i){const s=Dt(r);try{const o=await(function(d,g){const m=Dt(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return m.mutationQueue.lookupMutationBatch(y,g).next((b=>(Zt(b!==null,37113),E=b.keys(),m.mutationQueue.removeMutationBatch(y,b)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>m.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);yE(s,e,i),gE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Vo(s,o)}catch(o){await Xs(o)}}function gE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function yE(r,e,i){const s=Dt(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Qd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||vE(r,s)}))}function vE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(bm(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),Nm(r))}function m_(r,e,i){for(const s of i)s instanceof fE?(r.Vu.addReference(s.key,e),jR(r,s)):s instanceof dE?(ct(Dm,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||vE(r,s.key)):At(19791,{wu:s})}function jR(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ct(Dm,"New document in limbo: "+i),r.Eu.add(s),Nm(r))}function Nm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new Et(ge.fromString(e)),s=r.fu.next();r.Au.set(s,new SR(i)),r.Ru=r.Ru.insert(i,s),iE(r.remoteStore,new Ha(Ii(Yc(i.path)),s,"TargetPurposeLimboResolution",qc.ce))}}async function Vo(r,e,i){const s=Dt(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,m)=>{d.push(s.pu(m,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Em.Es(m.targetId,y);c.push(E)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(m,y){const E=Dt(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>tt.forEach(y,(S=>tt.forEach(S.Ts,(j=>E.persistence.referenceDelegate.addReference(b,S.targetId,j))).next((()=>tt.forEach(S.Is,(j=>E.persistence.referenceDelegate.removeReference(b,S.targetId,j)))))))))}catch(b){if(!$s(b))throw b;ct(Tm,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const j=E.vs.get(S),J=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(J);E.vs=E.vs.insert(S,Q)}}})(s.localStore,c))}async function UR(r,e){const i=Dt(r);if(!i.currentUser.isEqual(e)){ct(Dm,"User change. New user:",e.toKey());const s=await W0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((m=>{m.reject(new gt(nt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vo(i,s.Ns)}}function LR(r,e){const i=Dt(r),s=i.Au.get(e);if(s&&s.hu)return kt().add(s.key);{let o=kt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function _E(r){const e=Dt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IR.bind(null,e),e.Pu.J_=ER.bind(null,e.eventManager),e.Pu.yu=TR.bind(null,e.eventManager),e}function zR(r){const e=Dt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MR.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return kw(this.persistence,new zw,e.initialUser,this.serializer)}Cu(e){return new J0(_m.Vi,this.serializer)}Du(e){return new Kw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class PR extends zc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Zt(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Aw(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new J0((s=>Uc.Vi(s,i)),this.serializer)}}class Yd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UR.bind(null,this.syncEngine),await yR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _R})()}createDatastore(e){const i=Wc(e.databaseInfo.databaseId),s=Ww(e.databaseInfo);return aR(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,g){return new sR(s,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>d_(this.syncEngine,i,0)),(function(){return l_.v()?new l_:new Xw})())}createSyncEngine(e,i){return(function(o,c,d,g,m,y,E){const b=new wR(o,c,d,g,m,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Dt(i);ct(Lr,"RemoteStore shutting down."),s.Ea.add(5),await No(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yd.provider={build:()=>new Yd};class EE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Wa="FirestoreClient";class BR{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ct(Wa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ct(Wa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=xm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ed(r,e){r.asyncQueue.verifyOperationInProgress(),ct(Wa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await W0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function p_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await kR(r);ct(Wa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>u_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>u_(e.remoteStore,o))),r._onlineComponents=e}async function kR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Wa,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ur("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new zc)}}else ct(Wa,"Using default OfflineComponentProvider"),await Ed(r,new PR(void 0));return r._offlineComponents}async function TE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Wa,"Using user provided OnlineComponentProvider"),await p_(r,r._uninitializedComponentsProvider._online)):(ct(Wa,"Using default OnlineComponentProvider"),await p_(r,new Yd))),r._onlineComponents}function HR(r){return TE(r).then((e=>e.syncEngine))}async function Kd(r){const e=await TE(r),i=e.eventManager;return i.onListen=RR.bind(null,e.syncEngine),i.onUnlisten=DR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=NR.bind(null,e.syncEngine),i}function qR(r,e,i,s){const o=new EE(s),c=new hE(e,o,i);return r.asyncQueue.enqueueAndForget((async()=>uE(await Kd(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>cE(await Kd(r),c)))}}function FR(r,e,i={}){const s=new Qa;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,m,y){const E=new EE({next:S=>{E.Nu(),d.enqueueAndForget((()=>cE(c,b)));const j=S.docs.has(g);!j&&S.fromCache?y.reject(new gt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&m&&m.source==="server"?y.reject(new gt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new hE(Yc(g.path),E,{includeMetadataChanges:!0,Ka:!0});return uE(c,b)})(await Kd(r),r.asyncQueue,e,i,s))),s.promise}function GR(r,e){const i=new Qa;return r.asyncQueue.enqueueAndForget((async()=>VR(await HR(r),e,i))),i.promise}function bE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const QR="ComponentProvider",g_=new Map;function YR(r,e,i,s,o){return new f2(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,bE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const AE="firestore.googleapis.com",y_=!0;class v_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AE,this.ssl=y_}else this.host=e.host,this.ssl=e.ssl??y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tw)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vm{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FS;switch(s.type){case"firstParty":return new KS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=g_.get(i);s&&(ct(QR,"Removing Datastore"),g_.delete(i),s.terminate())})(this),Promise.resolve()}}function KR(r,e,i,s={}){r=Vi(r,Vm);const o=am(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(vA(`https://${g}`),bA("Firestore",!0)),c.host!==AE&&c.host!==g&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:g,ssl:o,emulatorOptions:s};if(!po(m,d)&&(r._setSettings(m),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=sn.MOCK_USER;else{y=_A(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new gt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(b)}r._authCredentials=new GS(new u0(y,E))}}class nh{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nh(this.firestore,e,this._query)}}class Le{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Le(this.firestore,e,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(xo(i,Le._jsonSchema))return new Le(e,s||null,new Et(ge.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ue("string",Le._jsonSchemaVersion),referencePath:Ue("string")};class Ao extends nh{constructor(e,i,s){super(e,i,Yc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Le(this.firestore,null,new Et(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function Se(r,e,...i){if(r=Ya(r),arguments.length===1&&(e=lm.newId()),t2("doc","path",e),r instanceof Vm){const s=ge.fromString(e,...i);return Iv(s),new Le(r,null,new Et(s))}{if(!(r instanceof Le||r instanceof Ao))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ge.fromString(e,...i));return Iv(s),new Le(r.firestore,r instanceof Ao?r.converter:null,new Et(s))}}const __="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eE(this,"async_queue_retry"),this._c=()=>{const s=_d();s&&ct(__,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!$s(e))throw e;ct(__,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,la("INTERNAL UNHANDLED ERROR: ",T_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Rm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:T_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function T_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Fs extends Vm{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new E_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function XR(r,e){const i=typeof r=="object"?r:IS(),s=typeof r=="string"?r:Dc,o=xS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=gA("firestore");c&&KR(o,...c)}return o}function Im(r){if(r._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$R(r),r._firestoreClient}function $R(r){const e=r._freezeSettings(),i=YR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new BR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(tn.fromBase64String(e))}catch(i){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xo(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ue("string",Yn._jsonSchemaVersion),bytes:Ue("string")};class Om{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ih{constructor(e){this._methodName=e}}class ji{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(xo(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ue("string",ji._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xo(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new li(e.vectorValues);throw new gt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ue("string",li._jsonSchemaVersion),vectorValues:Ue("object")};const ZR=/^__.*__$/;class JR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Co(e,this.data,i,this.fieldTransforms)}}class SE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new nr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function wE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{dataSource:r})}}class ah{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ah({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(wE(this.dataSource)&&ZR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class WR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Wc(e)}createContext(e,i,s,o=!1){return new ah({dataSource:e,methodName:i,targetDoc:s,path:We.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RE(r){const e=r._freezeSettings(),i=Wc(r._databaseId);return new WR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function tx(r,e,i,s,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,o);jm("Data must be an object, but it was:",d,s);const g=xE(s,d);let m,y;if(c.merge)m=new Vn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const S=So(e,b,i);if(!d.contains(S))throw new gt(nt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);NE(E,S)||E.push(S)}m=new Vn(E),y=d.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,y=d.fieldTransforms;return new JR(new En(g),m,y)}class Io extends ih{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Io}}function ex(r,e,i){return new ah({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mm extends ih{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=ex(this,e,!0),s=this.Ac.map((c=>Oo(c,i))),o=new ks(s);return new k2(e.path,o)}isEqual(e){return e instanceof Mm&&po(this.Ac,e.Ac)}}function nx(r,e,i,s){const o=r.createContext(1,e,i);jm("Data must be an object, but it was:",o,s);const c=[],d=En.empty();er(s,((m,y)=>{const E=DE(e,m,i);y=Ya(y);const b=o.childContextForFieldPath(E);if(y instanceof Io)c.push(E);else{const S=Oo(y,b);S!=null&&(c.push(E),d.set(E,S))}}));const g=new Vn(c);return new SE(d,g,o.fieldTransforms)}function ix(r,e,i,s,o,c){const d=r.createContext(1,e,i),g=[So(e,s,i)],m=[o];if(c.length%2!=0)throw new gt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)g.push(So(e,c[S])),m.push(c[S+1]);const y=[],E=En.empty();for(let S=g.length-1;S>=0;--S)if(!NE(y,g[S])){const j=g[S];let J=m[S];J=Ya(J);const Q=d.childContextForFieldPath(j);if(J instanceof Io)y.push(j);else{const K=Oo(J,Q);K!=null&&(y.push(j),E.set(j,K))}}const b=new Vn(y);return new SE(E,b,d.fieldTransforms)}function Oo(r,e){if(CE(r=Ya(r)))return jm("Unsupported field value:",e,r),xE(r,e);if(r instanceof ih)return(function(s,o){if(!wE(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let m=Oo(g,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Ya(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return z2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=he.fromDate(s);return{timestampValue:jc(o.serializer,c)}}if(s instanceof he){const c=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jc(o.serializer,c)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:q0(o.serializer,s._byteString)};if(s instanceof Le){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ym(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(d,g){const m=d instanceof li?d.toArray():d;return{mapValue:{fields:{[v0]:{stringValue:_0},[Nc]:{arrayValue:{values:m.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return mm(g.serializer,E)}))}}}}}})(s,o);if($0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${om(s)}`)})(r,e)}function xE(r,e){const i={};return f0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):er(r,((s,o)=>{const c=Oo(o,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function CE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof ji||r instanceof Yn||r instanceof Le||r instanceof ih||r instanceof li||$0(r))}function jm(r,e,i){if(!CE(i)||!c0(i)){const s=om(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function So(r,e,i){if((e=Ya(e))instanceof Om)return e._internalPath;if(typeof e=="string")return DE(r,e);throw Pc("Field path arguments must be of type string or ",r,!1,void 0,i)}const ax=new RegExp("[~\\*/\\[\\]]");function DE(r,e,i){if(e.search(ax)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Om(...e.split("."))._internalPath}catch{throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Pc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new gt(nt.INVALID_ARGUMENT,g+r+m)}function NE(r,e){return r.some((i=>i.isEqual(e)))}class rx{convertValue(e,i="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return er(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Nc].arrayValue?.values?.map((s=>Re(s.doubleValue)));return new li(i)}convertGeoPoint(e){return new ji(Re(e.latitude),Re(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Gc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(_o(e));default:return null}}convertTimestamp(e){const i=Xa(e);return new he(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ge.fromString(e);Zt(X0(s),9688,{name:e});const o=new Eo(s.get(1),s.get(3)),c=new Et(s.popFirst(5));return o.isEqual(i)||la(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class VE extends rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function Pt(){return new Io("deleteField")}function sx(...r){return new Mm("arrayUnion",r)}const b_="@firebase/firestore",A_="4.11.0";function S_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class IE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(So("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lx extends IE{data(){return super.data()}}function ox(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new gt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function ux(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mr extends IE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(So("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Mr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:Ue("string",Mr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Ac extends Mr{data(e={}){return super.data(e)}}class Us{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ac(this._firestore,this._userDataWriter,s.key,s,new lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const m=new Ac(o._firestore,o._userDataWriter,g.doc.key,g.doc,new lo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const m=new Ac(o._firestore,o._userDataWriter,g.doc.key,g.doc,new lo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:cx(g.type),doc:m,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Ue("string",Us._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function w_(r){r=Vi(r,Le);const e=Vi(r.firestore,Fs),i=Im(e);return FR(i,r._key).then((s=>ME(e,r,s)))}function Td(r,e,i){r=Vi(r,Le);const s=Vi(r.firestore,Fs),o=ux(r.converter,e,i),c=RE(s);return OE(s,[tx(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Oi.none())])}function rn(r,e,i,...s){r=Vi(r,Le);const o=Vi(r.firestore,Fs),c=RE(o);let d;return d=typeof(e=Ya(e))=="string"||e instanceof Om?ix(c,"updateDoc",r._key,e,i,s):nx(c,"updateDoc",r._key,e),OE(o,[d.toMutation(r._key,Oi.exists(!0))])}function hx(r,...e){r=Ya(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||S_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(S_(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Le)d=Vi(r.firestore,Fs),g=Yc(r._key.path),c={next:y=>{e[s]&&e[s](ME(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Vi(r,nh);d=Vi(y.firestore,Fs),g=y._query;const E=new VE(d);c={next:b=>{e[s]&&e[s](new Us(d,E,y,b))},error:e[s+1],complete:e[s+2]},ox(r._query)}const m=Im(d);return qR(m,g,o,c)}function OE(r,e){const i=Im(r);return GR(i,e)}function ME(r,e,i){const s=i.docs.get(e._key),o=new VE(r);return new Mr(r,o,e._key,s,new lo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){qS(VS),xc(new go("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Fs(new QS(s.getProvider("auth-internal")),new XS(d,s.getProvider("app-check-internal")),d2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Os(b_,A_,e),Os(b_,A_,"esm2020")})();var fx="firebase",dx="12.9.0";Os(fx,dx,"app");const mx={apiKey:"AIzaSyDM_UZv-hVnnC6Tw7TNRHM2sn7b6oEQjAk",authDomain:"werewolf-eb4e3.firebaseapp.com",projectId:"werewolf-eb4e3",storageBucket:"werewolf-eb4e3.firebasestorage.app",messagingSenderId:"170818985903",appId:"1:170818985903:web:bc5e13deef119b0c48195a"},px=W_(mx),we=XR(px),gx=["werewolf","seer","bodyguard","witch","hunter","villager"],bd=4,Ls=["werewolf","seer","bodyguard","witch","hunter","villager"],jE={werewolf:1,seer:1,bodyguard:1,witch:0,hunter:0,villager:1},yx={lobby:"Lobby",night:"Night",day:"Day",voting:"Voting",results:"Results"},mc={night:45,day:60,voting:30};function vx(){const r="ww_player_id",e=localStorage.getItem(r);if(e)return e;const i=crypto.randomUUID();return localStorage.setItem(r,i),i}function Ad(){return localStorage.getItem("ww_player_name")??""}function Sd(r){localStorage.setItem("ww_player_name",r)}function _x(){const r="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<5;i+=1)e+=r[Math.floor(Math.random()*r.length)];return e}function UE(r){const e=[...r];for(let i=e.length-1;i>0;i-=1){const s=Math.floor(Math.random()*(i+1));[e[i],e[s]]=[e[s],e[i]]}return e}function Ex(r){const e=Math.max(1,Math.floor(r/4)),i=Array.from({length:e},()=>"werewolf");for(r>=5&&i.push("seer"),r>=6&&i.push("bodyguard"),r>=7&&i.push("hunter"),r>=8&&i.push("witch");i.length<r;)i.push("villager");return UE(i)}function Tx(r){const e=r?.customRoles??{};return Ls.reduce((i,s)=>{const o=e[s],c=typeof o=="number"&&Number.isFinite(o)?Math.max(0,Math.floor(o)):0;return i[s]=c,i},{})}function bx(r,e){const i=Ls.reduce((o,c)=>o+(e[c]??0),0);if(i!==r)return{deck:null,error:`Custom roles must total ${r}. Current total is ${i}.`};if((e.werewolf??0)<1)return{deck:null,error:"Custom roles must include at least one werewolf."};const s=[];return Ls.forEach(o=>{const c=e[o]??0;for(let d=0;d<c;d+=1)s.push(o)}),{deck:UE(s)}}function Ax(r){switch(r){case"night":return"day";case"day":return"voting";case"voting":return"night";default:return"night"}}function Sx(r){if(!r)return null;const e={};Object.values(r).forEach(s=>{e[s]=(e[s]??0)+1});const i=Object.entries(e).filter(([s])=>s!=="skip");return i.length===0?null:(i.sort((s,o)=>o[1]-s[1]),i.length>1&&i[0][1]===i[1][1]?{targetId:null,votes:i[0][1],isTie:!0}:{targetId:i[0][0],votes:i[0][1],isTie:!1})}function LE(r,e){if(!e)return{};const i=e.werewolfTarget,s=e.bodyguardProtect,o=i&&i!==s?i:void 0,c=e.seerInspect,d=r.find(m=>m.id===c),g={};return o&&(g.pendingVictimId=o),s&&(g.bodyguardSavedId=s),d&&(g.seerResult={targetId:d.id,role:d.role??"villager"}),g}function wx(r,e,i,s){const o=LE(r,e),c=new Set,d={},g=e?.witchHeal?"heal":e?.witchPoisonTarget?"poison":"pass",m=e?.witchPoisonTarget,y=o.pendingVictimId??s,E=!!(!i?.healUsed&&g==="heal"&&y),b=!!(!i?.poisonUsed&&g==="poison"&&m);o.bodyguardSavedId&&(d.bodyguardSavedId=o.bodyguardSavedId),o.seerResult&&(d.seerResult=o.seerResult),y&&!E&&c.add(y),E&&y&&(d.witchSavedId=y),b&&m&&(c.add(m),d.witchPoisonedId=m);const S=Array.from(c);return S.length>0&&(d.killedIds=S,d.killedId=S[0]),d}function R_(r){const e=r.filter(o=>o.isAlive),i=e.filter(o=>o.role==="werewolf").length,s=e.length-i;return i===0&&e.length>0?{winner:"villagers",reason:"All werewolves are eliminated."}:i>=s&&e.length>0?{winner:"werewolves",reason:"Werewolves have majority control."}:null}const zE=H.createContext(null);function Rx({children:r}){const e=H.useMemo(()=>vx(),[]),[i,s]=H.useState(Ad()),[o,c]=H.useState(""),[d,g]=H.useState(""),[m,y]=H.useState(null),[E,b]=H.useState(""),[S,j]=H.useState(""),[J,Q]=H.useState(!1),[K,rt]=H.useState(!1),[it,ut]=H.useState(Date.now());H.useEffect(()=>{const q=setInterval(()=>ut(Date.now()),1e3);return()=>clearInterval(q)},[]),H.useEffect(()=>{if(!d)return;const q=Se(we,"rooms",d),at=hx(q,et=>{if(!et.exists()){y(null),g(""),j("Room ended.");return}y(et.data())});return()=>at()},[d]),H.useEffect(()=>{if(!m||m.players?.[e]||K)return;const q=Ad().trim();if(!q)return;rt(!0);const at=Se(we,"rooms",m.code);rn(at,{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:q,isHost:m.hostId===e,isAlive:!0,isReady:!1,joinedAt:Date.now()}}).finally(()=>rt(!1))},[e,K,m]),H.useEffect(()=>{if(!m||m.status==="lobby"||m.status==="results"||!m.players?.[e]?.isHost)return;const q=mc[m.status];q&&(!m.phaseEndsAt||m.phaseEndsAt<Date.now())&&rn(Se(we,"rooms",m.code),{phaseEndsAt:Date.now()+q*1e3,updatedAt:Date.now()})},[e,m]),H.useEffect(()=>{m&&(m.status==="lobby"||m.status==="results"||m.players?.[e]?.isHost&&m.phaseEndsAt&&(it<m.phaseEndsAt||se()))},[it,e,m]);const mt=m?.players?.[e],St=mt?.isHost??!1,xt=async q=>{!m||!St||m.status==="lobby"&&await rn(Se(we,"rooms",m.code),{gameMode:q,updatedAt:Date.now()})},C=async(q,at)=>{if(!m||!St||m.status!=="lobby")return;const et=Math.max(0,Math.min(16,Math.floor(at)));await rn(Se(we,"rooms",m.code),{[`customRoles.${q}`]:et,updatedAt:Date.now()})},R=async()=>{const q=i.trim();if(!q)return j("Please enter a name."),null;Sd(q),j(""),b("Creating room..."),Q(!0);let at="",et=!0,ft=0;for(;et&&ft<5;)ft+=1,at=_x(),et=(await w_(Se(we,"rooms",at))).exists();if(et)return Q(!1),b(""),j("Could not create a unique room code. Try again."),null;const bt=Date.now(),wt={id:e,name:q,isHost:!0,isAlive:!0,isReady:!1,joinedAt:bt},le={id:at,code:at,status:"lobby",hostId:e,gameMode:"classic",customRoles:{...jE},createdAt:bt,updatedAt:bt,players:{[e]:wt},dayCount:0};return await Td(Se(we,"rooms",at),le),g(at),c(at),b(""),Q(!1),at},x=async()=>{const q=i.trim(),at=o.trim().toUpperCase();if(!q)return j("Please enter a name."),null;if(!at)return j("Enter a room code."),null;Sd(q),j(""),b("Joining room..."),Q(!0);const et=Se(we,"rooms",at);if(!(await w_(et)).exists())return Q(!1),b(""),j("Room not found."),null;const bt=Date.now();return await Td(et,{updatedAt:bt,[`players.${e}`]:{id:e,name:q,isHost:!1,isAlive:!0,isReady:!1,joinedAt:bt}},{merge:!0}),g(at),c(at),b(""),Q(!1),at},M=async()=>{if(!m)return;if(!mt){j("You are not in this room. Please rejoin.");return}const q=Se(we,"rooms",m.code);await rn(q,{[`players.${e}.isReady`]:!mt.isReady,updatedAt:Date.now()})},V=async()=>{if(!m||!St)return;const q=Object.values(m.players);if(q.length<bd){j(`Need at least ${bd} players to start.`);return}if(!q.every(bt=>bt.isReady)){j("Everyone must be ready to start.");return}const at=m.gameMode??"classic";let et=[];if(at==="custom"){const bt=Tx(m),wt=bx(q.length,bt);if(!wt.deck){j(wt.error??"Invalid custom role setup.");return}et=wt.deck}else et=Ex(q.length);const ft={status:"night",nightStep:"main",dayCount:1,updatedAt:Date.now(),phaseEndsAt:Date.now()+mc.night*1e3,votes:Pt(),nightActions:Pt(),bodyguardLastProtectedId:Pt(),witchState:{healUsed:!1,poisonUsed:!1},witchTurn:Pt(),lastNight:Pt(),lastEliminated:Pt(),hunterPending:Pt(),winner:Pt(),winReason:Pt(),chat:Pt()};q.forEach((bt,wt)=>{ft[`players.${bt.id}.role`]=et[wt],ft[`players.${bt.id}.isAlive`]=!0,ft[`players.${bt.id}.isReady`]=!1}),await rn(Se(we,"rooms",m.code),ft)},L=async q=>{if(!m||!mt)return;const at=Se(we,"rooms",m.code);await rn(at,{[`votes.${e}`]:q,updatedAt:Date.now()})},D=async q=>{if(!m||!mt||m.status!=="night"||m.nightStep==="witch"||!mt.isAlive)return;const et={werewolf:["werewolfTarget"],bodyguard:["bodyguardProtect"],seer:["seerInspect"],witch:[],hunter:[],villager:[]}[mt.role??"villager"],ft=Object.entries(q).filter(([Ut])=>et.includes(Ut));if(ft.length===0)return;const bt=ft.find(([Ut])=>Ut==="bodyguardProtect")?.[1];if(bt&&m.bodyguardLastProtectedId===bt)return;const wt=Se(we,"rooms",m.code),le={updatedAt:Date.now()};ft.forEach(([Ut,Tn])=>{le[`nightActions.${Ut}`]=Tn}),await rn(wt,le)},qt=async(q,at)=>{if(!m||!mt||m.status!=="night"||m.nightStep!=="witch"||!mt.isAlive||mt.role!=="witch")return;const et=m.witchState??{healUsed:!1,poisonUsed:!1},ft=m.witchTurn?.pendingVictimId,bt={updatedAt:Date.now(),"nightActions.witchHeal":Pt(),"nightActions.witchPoisonTarget":Pt()};if(q==="heal"){if(et.healUsed||!ft)return;bt["nightActions.witchHeal"]=!0}else if(q==="poison"){if(et.poisonUsed||!at||!m.players[at]?.isAlive)return;bt["nightActions.witchPoisonTarget"]=at}await rn(Se(we,"rooms",m.code),bt)},se=async()=>{if(!m||!St)return;const q=Object.values(m.players),at=Ax(m.status),et={status:at,updatedAt:Date.now(),votes:Pt(),phaseEndsAt:at!=="lobby"&&at!=="results"?Date.now()+mc[at]*1e3:Pt()},ft=[];if(m.status==="night"){const Ut=LE(q,m.nightActions),Tn=q.find(en=>en.role==="witch"&&en.isAlive),hn=m.witchState??{healUsed:!1,poisonUsed:!1},on=Tn&&(!hn.healUsed||!hn.poisonUsed);if(!(m.nightStep==="witch")&&on){et.status="night",et.nightStep="witch",et.witchTurn={pendingVictimId:Ut.pendingVictimId,action:"pass"},et.phaseEndsAt=Date.now()+mc.night*1e3,await rn(Se(we,"rooms",m.code),et);return}const On=m.witchTurn?.pendingVictimId??Ut.pendingVictimId,ht=wx(q,m.nightActions,hn,On);(ht.killedIds??(ht.killedId?[ht.killedId]:[])).forEach(en=>{et[`players.${en}.isAlive`]=!1,ft.push(en)});const vt=!!(m.nightActions?.witchHeal&&On&&!(m.witchState?.healUsed??!1)),oe=!!(m.nightActions?.witchPoisonTarget&&!(m.witchState?.poisonUsed??!1));et.witchState={healUsed:!!((m.witchState?.healUsed??!1)||vt),poisonUsed:!!((m.witchState?.poisonUsed??!1)||oe)},m.nightActions?.bodyguardProtect&&(et.bodyguardLastProtectedId=m.nightActions.bodyguardProtect),et.lastNight=ht,et.nightActions=Pt(),et.witchTurn=Pt(),et.nightStep="main"}if(m.status==="voting"){const Ut=Sx(m.votes);Ut?.targetId?(et[`players.${Ut.targetId}.isAlive`]=!1,et.lastEliminated=[Ut.targetId],ft.push(Ut.targetId)):et.lastEliminated=[]}const bt=ft.find(Ut=>q.find(hn=>hn.id===Ut)?.role==="hunter");bt&&(et.hunterPending=bt);const wt=q.map(Ut=>ft.includes(Ut.id)?{...Ut,isAlive:!1}:Ut),le=R_(wt);le&&!bt?(et.status="results",et.phaseEndsAt=Pt(),et.winner=le.winner,et.winReason=le.reason):et.status==="night"&&(et.dayCount=(m.dayCount||1)+1,et.nightStep="main",et.witchTurn=Pt(),et.nightActions=Pt()),await rn(Se(we,"rooms",m.code),et)},Y=async()=>{if(!m||!St)return;const q={status:"lobby",updatedAt:Date.now(),phaseEndsAt:Pt(),nightStep:Pt(),bodyguardLastProtectedId:Pt(),votes:Pt(),nightActions:Pt(),witchState:Pt(),witchTurn:Pt(),lastNight:Pt(),lastEliminated:Pt(),hunterPending:Pt(),winner:Pt(),winReason:Pt()};Object.values(m.players).forEach(at=>{q[`players.${at.id}.isReady`]=!1,q[`players.${at.id}.role`]=Pt(),q[`players.${at.id}.isAlive`]=!0}),await rn(Se(we,"rooms",m.code),q)},st=async()=>{if(!m)return;const q=Se(we,"rooms",m.code),at=Object.values(m.players).filter(ft=>ft.id!==e),et={[`players.${e}`]:Pt(),updatedAt:Date.now()};if(St&&at.length>0){const ft=at[0];et.hostId=ft.id,et[`players.${ft.id}.isHost`]=!0}await rn(q,et),g(""),y(null)},yt=async()=>{if(!m)return;const q=i.trim()||Ad().trim();if(!q){j("Enter your name to rejoin.");return}Sd(q),await Td(Se(we,"rooms",m.code),{updatedAt:Date.now(),[`players.${e}`]:{id:e,name:q,isHost:m.hostId===e,isAlive:!0,isReady:!1,joinedAt:Date.now()}},{merge:!0})},Ot=async q=>{if(!m||!mt)return;if(!mt.isAlive){j("Eliminated players cannot chat.");return}if(m.status==="night"&&mt.role!=="werewolf"){j("Only werewolves can chat at night.");return}const at=q.trim();at&&await rn(Se(we,"rooms",m.code),{chat:sx({id:crypto.randomUUID(),senderId:e,senderName:mt.name,message:at,audience:m.status==="night"?"werewolves":"all",createdAt:Date.now()}),updatedAt:Date.now()})},Ft=async q=>{if(!m||!m.players?.[e]?.isHost||!m.players?.[q]||q===e)return;const at={[`players.${q}`]:Pt(),updatedAt:Date.now()};m.hostId===q&&(at.hostId=e,at[`players.${e}.isHost`]=!0),await rn(Se(we,"rooms",m.code),at)},O=async q=>{if(!m||!mt||!m.hunterPending||m.hunterPending!==e||!q)return;const at=m.players[q];if(!at||!at.isAlive)return;const et=Object.values(m.players),ft=[q],bt=et.map(Ut=>ft.includes(Ut.id)?{...Ut,isAlive:!1}:Ut),wt=R_(bt),le={[`players.${q}.isAlive`]:!1,hunterPending:Pt(),lastEliminated:[...m.lastEliminated??[],q],updatedAt:Date.now()};wt&&(le.status="results",le.phaseEndsAt=Pt(),le.winner=wt.winner,le.winReason=wt.reason),await rn(Se(we,"rooms",m.code),le)},Z=m?.phaseEndsAt?Math.max(0,Math.ceil((m.phaseEndsAt-it)/1e3)):null,lt={playerId:e,playerName:i,setPlayerName:s,roomCode:o,setRoomCode:c,activeCode:d,setActiveCode:g,room:m,status:E,error:S,loading:J,me:mt,isHost:St,rolesPalette:gx,phaseLabels:yx,minPlayers:bd,countdown:Z,setGameMode:xt,setCustomRoleCount:C,createRoom:R,joinRoom:x,leaveRoom:st,rejoinRoom:yt,toggleReady:M,startGame:V,advancePhase:se,resetLobby:Y,setVote:L,setNightAction:D,setWitchAction:qt,sendChat:Ot,sendHunterShot:O,removePlayer:Ft};return w.jsx(zE.Provider,{value:lt,children:r})}function PE(){const r=H.useContext(zE);if(!r)throw new Error("useRoom must be used within RoomProvider");return r}const xx=[{icon:"",title:"Werewolves",text:"Hunt at night"},{icon:"",title:"Seer",text:"Reveal one role"},{icon:"",title:"Bodyguard",text:"Protect one player"},{icon:"",title:"Hunter",text:"Final revenge shot"}];function Cx(){const[r,e]=H.useState("create"),i=kc(),{playerName:s,setPlayerName:o,roomCode:c,setRoomCode:d,room:g,loading:m,status:y,error:E,createRoom:b,joinRoom:S}=PE(),j=async()=>{const Q=await b();Q&&i(`/room/${Q}`)},J=async()=>{const Q=await S();Q&&i(`/room/${Q}`)};return w.jsx("div",{className:"h-dvh overflow-hidden bg-ashen text-slate-100",children:w.jsxs("div",{className:"relative h-full overflow-hidden",children:[w.jsx("div",{className:"hero-glow"}),w.jsx("div",{className:"lobby-fireflies"}),w.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-80",children:[w.jsx("div",{className:"parallax-layer parallax-slow"}),w.jsx("div",{className:"parallax-layer parallax-fast"})]}),w.jsxs("div",{className:"lobby-shell relative z-10 mx-auto flex h-full w-full max-w-7xl flex-col px-4 py-4 sm:px-6 sm:py-5 lg:px-8",children:[w.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950 shadow-ember",children:"W"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-ashen-300 sm:text-xs",children:"Werewolf Online"}),w.jsx("h1",{className:"font-display text-2xl sm:text-3xl",children:"Night Council"})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"Social Deduction"}),w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-900/50 px-3 py-1 text-ashen-200",children:"One Screen Lobby"})]})]}),w.jsxs("main",{className:"mt-3 grid min-h-0 flex-1 gap-3 lg:grid-cols-[minmax(0,1.15fr)_minmax(280px,0.85fr)] xl:gap-4",children:[w.jsxs("section",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/70 p-3 shadow-inky backdrop-blur sm:p-4",children:[w.jsxs("div",{className:"grid gap-3 md:grid-cols-[minmax(0,1.1fr)_minmax(220px,0.9fr)]",children:[w.jsxs("div",{className:"min-w-0",children:[w.jsx("div",{className:"inline-flex items-center gap-2 rounded-full border border-ashen-600 bg-ashen-800/70 px-3 py-1 text-[11px] uppercase tracking-[0.22em] text-ashen-200",children:"The Village Awaits"}),w.jsx("h2",{className:"mt-2 font-display text-2xl leading-tight sm:text-3xl xl:text-4xl",children:"Bluff hard. Vote smart. Survive the night."}),w.jsx("p",{className:"lobby-tight-copy mt-2 text-sm text-ashen-200",children:"Join your friends, receive a secret role, and outplay the pack before dawn."})]}),w.jsxs("div",{className:"hero-art lobby-float-card",children:[w.jsx("div",{className:"mist"}),w.jsx("div",{className:"moon-orbit",children:w.jsx("div",{className:"moon"})}),w.jsx("svg",{viewBox:"0 0 420 180",className:"wolf-silhouette","aria-hidden":"true",children:w.jsx("path",{fill:"currentColor",d:"M0 160h420v20H0zM85 150l28-22 15 5 18-20 24 12 18-13 28 10 16-9 25 11 20-15 26 13 17-6 29 14v40H85z"})})]})]}),w.jsxs("div",{className:"mt-3 grid gap-2 rounded-2xl border border-ashen-700 bg-ashen-900/80 p-3 sm:p-4",children:[w.jsx("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/60 p-1",children:w.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[w.jsx("button",{onClick:()=>e("create"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${r==="create"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Create"}),w.jsx("button",{onClick:()=>e("join"),className:`rounded-lg px-3 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition ${r==="join"?"lobby-cta text-slate-950":"bg-ashen-900/30 text-ashen-200 hover:bg-ashen-700/60"}`,children:"Join"})]})}),w.jsxs("div",{className:"grid gap-2",children:[w.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Your name"}),w.jsx("input",{value:s,onChange:Q=>o(Q.target.value),placeholder:"Enter a nickname",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm text-ashen-100 outline-none focus:border-ember"})]}),r==="join"&&w.jsxs("div",{className:"grid gap-2",children:[w.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-ashen-400",children:"Room code"}),w.jsx("input",{value:c,onChange:Q=>d(Q.target.value.toUpperCase()),placeholder:"ABCDE",className:"rounded-lg border border-ashen-600 bg-ashen-800/80 px-4 py-2.5 text-sm uppercase tracking-[0.2em] text-ashen-100 outline-none focus:border-ember"})]}),r==="create"?w.jsx("button",{onClick:j,disabled:m,className:"lobby-cta rounded-lg px-5 py-2.5 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Summon Room"}):w.jsx("button",{onClick:J,disabled:m,className:"rounded-lg border border-ashen-500 bg-ashen-800/40 px-5 py-2.5 text-sm font-semibold text-ashen-100 transition hover:border-ember disabled:opacity-60",children:"Enter Room"}),w.jsxs("div",{className:"min-h-5 text-xs sm:text-sm",children:[y&&w.jsx("p",{className:"text-ashen-300",children:y}),E&&w.jsx("p",{className:"text-ember",children:E})]})]}),w.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:xx.map(Q=>w.jsxs("div",{className:"lobby-float-card rounded-xl border border-ashen-700 bg-ashen-900/80 px-3 py-2.5",children:[w.jsx("p",{className:"text-lg leading-none",children:Q.icon}),w.jsx("p",{className:"mt-1 font-display text-sm",children:Q.title}),w.jsx("p",{className:"text-xs text-ashen-300",children:Q.text})]},Q.title))})]}),w.jsxs("aside",{className:"flex min-h-0 flex-col rounded-3xl border border-ashen-700/80 bg-ashen-900/80 p-3 shadow-inky backdrop-blur sm:p-4",children:[w.jsx("h3",{className:"font-display text-lg sm:text-xl",children:"Tonight's Briefing"}),w.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-200 sm:grid-cols-3 lg:grid-cols-1",children:[w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Night"}),w.jsx("p",{className:"mt-1 text-xs",children:"Werewolves strike. Seer and Bodyguard act in secret."})]}),w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Day"}),w.jsx("p",{className:"mt-1 text-xs",children:"Debate, accuse, and force lies into the open."})]}),w.jsxs("div",{className:"lobby-optional rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Vote"}),w.jsx("p",{className:"mt-1 text-xs",children:"Majority decides who faces elimination."})]})]}),w.jsxs("div",{className:"mt-3 min-h-0 flex-1 rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-[11px] uppercase tracking-[0.22em] text-ashen-400",children:"Players in room"}),w.jsx("div",{className:"mt-2 flex h-full max-h-40 flex-wrap content-start gap-2 overflow-y-auto pr-1 text-xs text-ashen-200",children:g?Object.values(g.players).map(Q=>w.jsx("span",{className:"rounded-full border border-ashen-600 bg-ashen-700/80 px-3 py-1",children:Q.name},Q.id)):"Waiting for players"})]})]})]})]})]})})}const Dx={werewolf:"Coordinate with other werewolves and strike together.",seer:"Inspect a player each night to learn their role.",bodyguard:"Protect one player each night, but not the same player on consecutive nights.",witch:"Act after others. Heal the pending victim or poison someone once each.",hunter:"If you fall, pick one player to take down with you.",villager:"Discuss, deduce, and vote to eliminate werewolves."},Nx={werewolf:"",seer:"",bodyguard:"",witch:"",hunter:"",villager:""},Vx=["#F7D7C4","#E9C4A3","#D8A57E","#B98364","#8D5E3C","#7C4A2B"],Ix=["#1F2937","#4B2E2A","#A16207","#6B7280","#111827","#3F2E1E"],Ox=["#22D3EE","#F97316","#A78BFA","#10B981","#F43F5E","#38BDF8"],Mx=["none","glasses","hat","scar","earring","headband"],jx=["round","sleepy","wink","focused"],Ux=["smile","smirk","neutral","open"],Lx=["short","swoop","curly","spiky"],zx=["hoodie","tee","collar"];function ka(r,e){return r[e%r.length]}function Px(r){let e=0;for(let i=0;i<r.length;i+=1)e=(e*31+r.charCodeAt(i))%1e4;return e}function Bx({seed:r,sizeClass:e="h-14 w-14"}){const i=ka(Vx,r),s=ka(Ix,r+3),o=ka(Ox,r+7),c=ka(Mx,r+11),d=ka(jx,r+13),g=ka(Ux,r+17),m=ka(Lx,r+19),y=ka(zx,r+23),E=c==="glasses",b=c==="hat",S=c==="scar",j=c==="earring",J=c==="headband";return w.jsxs("svg",{viewBox:"0 0 140 140",className:e,"aria-hidden":"true",children:[w.jsx("rect",{x:"0",y:"0",width:"140",height:"140",fill:"none"}),w.jsx("circle",{cx:"70",cy:"56",r:"26",fill:i}),w.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),m==="short"&&w.jsx("path",{d:"M42 50c6-12 16-18 28-18 12 0 22 6 28 18",fill:s}),m==="swoop"&&w.jsx("path",{d:"M36 54c8-18 24-26 40-26 12 0 22 6 28 14",fill:s}),m==="curly"&&w.jsx("path",{d:"M40 54c6-14 18-20 30-20 12 0 22 6 30 20",fill:s}),m==="spiky"&&w.jsx("path",{d:"M42 54l10-16 10 10 8-12 8 12 8-10 12 16",fill:s}),w.jsx("path",{d:"M42 62c4 14 16 24 28 24s24-10 28-24",fill:"none"}),b&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"36",y:"28",width:"68",height:"10",fill:"#0F172A"}),w.jsx("rect",{x:"50",y:"14",width:"40",height:"18",rx:"4",fill:"#0F172A"})]}),E&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"44",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),w.jsx("rect",{x:"76",y:"52",width:"20",height:"12",rx:"3",fill:"#111827"}),w.jsx("rect",{x:"64",y:"56",width:"12",height:"2",fill:"#111827"})]}),J&&w.jsx("rect",{x:"38",y:"44",width:"64",height:"8",rx:"4",fill:"#F97316"}),S&&w.jsx("rect",{x:"78",y:"46",width:"18",height:"3",rx:"1.5",fill:"#9CA3AF"}),j&&w.jsx("circle",{cx:"96",cy:"70",r:"4",fill:"#FBBF24"}),d==="round"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"})]}),d==="sleepy"&&w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"56",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"}),w.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="wink"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("rect",{x:"76",y:"60",width:"8",height:"2",rx:"1",fill:"#1F2937"})]}),d==="focused"&&w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("circle",{cx:"80",cy:"60",r:"3",fill:"#1F2937"}),w.jsx("path",{d:"M54 54h12",stroke:"#1F2937",strokeWidth:"2"}),w.jsx("path",{d:"M74 54h12",stroke:"#1F2937",strokeWidth:"2"})]}),g==="smile"&&w.jsx("path",{d:"M60 74c6 6 14 6 20 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="smirk"&&w.jsx("path",{d:"M62 74c6 3 12 3 18 0",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="neutral"&&w.jsx("path",{d:"M62 74h18",stroke:"#1F2937",strokeWidth:"3",fill:"none"}),g==="open"&&w.jsx("circle",{cx:"70",cy:"76",r:"5",fill:"#1F2937"}),y==="hoodie"&&w.jsx("path",{d:"M38 132c6-20 22-32 32-32h0c10 0 26 12 32 32",fill:o}),y==="tee"&&w.jsx("path",{d:"M32 132c10-26 24-36 38-36h0c14 0 28 10 38 36",fill:o}),y==="collar"&&w.jsxs(w.Fragment,{children:[w.jsx("path",{d:"M28 132c6-28 26-42 42-42h0c16 0 36 14 42 42",fill:o}),w.jsx("path",{d:"M60 90l10 12 10-12",fill:"#F8FAFC",opacity:"0.8"})]})]})}function kx(){const r=kc(),{code:e}=cb(),[i,s]=H.useState(""),[o,c]=H.useState(!1),[d,g]=H.useState(!1),{playerId:m,setActiveCode:y,room:E,error:b,me:S,isHost:j,countdown:J,phaseLabels:Q,setGameMode:K,setCustomRoleCount:rt,toggleReady:it,rejoinRoom:ut,leaveRoom:mt,startGame:St,advancePhase:xt,resetLobby:C,setVote:R,setNightAction:x,setWitchAction:M,sendChat:V,sendHunterShot:L,removePlayer:D}=PE();H.useEffect(()=>{e&&y(e)},[e,y]),H.useEffect(()=>{if(!E||E.status==="lobby"){c(!1),g(!1);return}S?.role&&(d||o||c(!0))},[S?.role,d,E,o]),H.useEffect(()=>{if(!o)return;const ht=setTimeout(()=>{c(!1),g(!0)},2600);return()=>clearTimeout(ht)},[o]);const qt=H.useMemo(()=>E?Object.values(E.players).sort((ht,fe)=>ht.joinedAt!==fe.joinedAt?ht.joinedAt-fe.joinedAt:ht.id.localeCompare(fe.id)):[],[E]),se=H.useMemo(()=>qt.filter(ht=>ht.isAlive),[qt]),Y=E?.gameMode??"classic",st=H.useMemo(()=>E?Ls.reduce((ht,fe)=>{const vt=E.customRoles?.[fe];return ht[fe]=typeof vt=="number"&&Number.isFinite(vt)?Math.max(0,Math.floor(vt)):0,ht},{}):{...jE},[E]),yt=Ls.reduce((ht,fe)=>ht+(st[fe]??0),0),Ot=(st.werewolf??0)>0,Ft=yt===qt.length,O=Y==="classic"||Ot&&Ft,Z=E?.votes?.[m],lt=E?.nightActions,q=E?.lastNight,at=E?.status==="night",et=E?.nightStep!=="witch",ft=E?.status==="night"&&E?.nightStep==="witch",bt=E?.witchTurn?.pendingVictimId?E.players[E.witchTurn.pendingVictimId]?.name??"Unknown":null,wt=S?.role==="werewolf",le=!!(S?.isAlive&&(!at||wt)),Ut=E?.hunterPending===m,Tn=!!(E?.hunterPending&&!Ut),hn=!!(ft&&S?.isAlive&&S.role==="witch"),on=E?.chat?.filter(ht=>(ht.audience??"all")==="all"||wt),zi=async()=>{await V(i),s("")},On=async()=>{await mt(),r("/")};return E?w.jsx("div",{className:"min-h-screen bg-ashen text-slate-100 lg:h-screen lg:overflow-hidden",children:w.jsxs("div",{className:"relative overflow-hidden",children:[w.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-70",children:[w.jsx("div",{className:"parallax-layer parallax-slow"}),w.jsx("div",{className:"parallax-layer parallax-fast"})]}),w.jsx("div",{className:"hero-glow"}),w.jsxs("div",{className:"relative z-10 mx-auto px-5 py-6 lg:h-full",children:[o&&w.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-ashen/90 px-6",children:w.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-ashen-700 bg-ashen-900/90 p-8 text-center shadow-inky",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Role Draw"}),w.jsx("h2",{className:"mt-3 font-display text-2xl",children:"Spinning the wheel..."}),w.jsx("div",{className:"mt-6 grid place-items-center",children:w.jsx("div",{className:"role-wheel"})}),w.jsx("p",{className:"mt-4 text-sm text-ashen-300",children:"Your role is being revealed."})]})}),w.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-ember text-lg font-semibold text-slate-950",children:"W"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-ashen-400",children:"Werewolf Online"}),w.jsxs("h1",{className:"font-display text-2xl",children:["Room ",E.code]})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[w.jsx("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:Q[E.status]}),ft&&w.jsx("span",{className:"rounded-full border border-emerald-500/40 bg-emerald-500/10 px-3 py-1 text-xs text-emerald-200",children:"Witch Turn"}),J!==null&&E.status!=="lobby"&&E.status!=="results"&&w.jsxs("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:[J,"s left"]}),j&&E.status!=="results"&&w.jsx("button",{onClick:xt,className:"rounded-lg bg-ember px-3 py-2 text-xs font-semibold text-slate-950",children:"Advance Phase"}),j&&w.jsx("button",{onClick:C,className:"rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Reset to Lobby"}),w.jsx("button",{onClick:On,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:"Leave Room"})]})]}),w.jsxs("main",{className:"mt-4 grid gap-4 lg:h-[calc(100vh-120px)] lg:grid-cols-[1.25fr_0.75fr] lg:overflow-hidden",children:[w.jsx("section",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 lg:flex lg:h-full lg:flex-col",children:[w.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Players"}),w.jsx("h3",{className:"font-display text-xl",children:"Village Roster"})]}),w.jsxs("span",{className:"rounded-full border border-ashen-600 px-3 py-1 text-xs text-ashen-200",children:[se.length," alive / ",qt.length," total"]})]}),w.jsx("div",{className:"mt-2 grid flex-1 auto-rows-fr gap-2 overflow-hidden sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:16}).map((ht,fe)=>{const vt=qt[fe];if(!vt)return w.jsx("div",{className:"rounded-2xl border border-dashed border-ashen-700/60 bg-ashen-900/40 p-3 text-xs text-ashen-500",children:"Empty slot"},`slot-${fe}`);const oe=vt.id===m,en=oe&&vt.role,Js=E.status==="night"?S?.role==="werewolf"?lt?.werewolfTarget:S?.role==="bodyguard"?lt?.bodyguardProtect:S?.role==="seer"?lt?.seerInspect:S?.role==="witch"?lt?.witchPoisonTarget:void 0:void 0,kr=E.status==="voting"&&Z===vt.id||E.status==="night"&&Js===vt.id,ke=E.status==="voting"?!!S?.isAlive:E.status==="night"?!!(et&&S?.isAlive&&(S.role==="werewolf"||S.role==="bodyguard"||S.role==="seer")):!!Ut;return w.jsxs("div",{onClick:()=>{if(ke&&vt.isAlive){if(E.status==="voting"){R(vt.id===m?"skip":vt.id);return}if(E.status==="night"){if(!et)return;if(S?.role==="werewolf"&&vt.id!==m&&x({werewolfTarget:vt.id}),S?.role==="bodyguard"){if(vt.id===E.bodyguardLastProtectedId)return;x({bodyguardProtect:vt.id})}S?.role==="seer"&&vt.id!==m&&x({seerInspect:vt.id});return}Ut&&vt.id!==m&&L(vt.id)}},className:`relative flex h-full flex-col overflow-hidden rounded-2xl border bg-ashen-800/70 transition ${oe?"border-ember shadow-[0_0_0_2px_rgba(245,176,76,0.35),0_14px_24px_rgba(0,0,0,0.35)]":"border-ashen-700"} ${vt.isAlive?"opacity-100":"opacity-40"} ${kr?"ring-2 ring-emerald-400/80":""} ${ke?"cursor-pointer":""}`,children:[w.jsxs("div",{className:"absolute left-2 top-2 z-10 flex items-center gap-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-ashen-100",children:[w.jsx("span",{children:vt.name}),oe&&w.jsx("span",{className:"text-[9px] text-ember",children:"You"})]}),w.jsxs("div",{className:"relative grid flex-1 place-items-center gap-2 bg-ashen-900/40 p-3 pt-7",children:[w.jsx("div",{className:"relative grid h-20 w-full place-items-center overflow-hidden rounded-xl border border-ashen-700 bg-ashen-800/60",children:w.jsx(Bx,{seed:Px(vt.id),sizeClass:"h-16 w-16"})}),!vt.isAlive&&w.jsx("div",{className:"absolute right-2 top-2 rounded-full bg-ashen-900/80 px-2 py-1 text-[10px] text-ashen-300","aria-label":"Eliminated",children:""})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-1 px-2 py-2 text-[9px] uppercase tracking-[0.2em] text-ashen-200",children:[w.jsx("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1",children:vt.isAlive?"Active":"Out"}),E.status==="lobby"&&w.jsx("span",{className:`rounded-full px-2 py-1 ${vt.isReady?"bg-emerald-500/20 text-emerald-200":"bg-ashen-700/70 text-ashen-300"}`,children:vt.isReady?"Ready":"Not Ready"}),vt.isHost&&w.jsx("span",{className:"rounded-full bg-ember/20 px-2 py-1 text-ember",children:"Crown"}),en&&vt.role&&w.jsxs("span",{className:"rounded-full bg-ashen-700/70 px-2 py-1 text-ashen-100",children:[Nx[vt.role]," ",vt.role]}),j&&!oe&&w.jsx("button",{onClick:()=>D(vt.id),className:"rounded-full bg-rose-500/20 px-2 py-1 text-rose-200",children:"Remove"})]})]},vt.id)})})]})}),w.jsxs("aside",{className:"space-y-4 lg:flex lg:h-full lg:flex-col lg:overflow-hidden",children:[w.jsx("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3",children:w.jsxs("div",{className:"grid gap-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"You"}),w.jsxs("div",{className:"mt-2 grid gap-1 text-sm text-ashen-200",children:[w.jsxs("p",{children:["Role:"," ",w.jsx("span",{className:"text-ashen-100",children:d?S?.role??"...":"???"})]}),w.jsx("p",{className:"text-ashen-300",children:d&&S?.role?Dx[S.role]:"Role hidden until the wheel stops."}),w.jsxs("p",{children:["Status:"," ",w.jsx("span",{className:"text-ashen-100",children:S?.isAlive?"Alive":"Eliminated"})]})]}),E.status==="lobby"&&w.jsxs("div",{className:"mt-3 space-y-3",children:[w.jsxs("div",{className:"flex flex-wrap gap-2",children:[S?w.jsx("button",{onClick:it,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:S.isReady?"Unready":"Ready"}):w.jsx("button",{onClick:ut,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:"Rejoin Room"}),j&&w.jsx("button",{onClick:St,disabled:!O,className:"rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950 disabled:cursor-not-allowed disabled:opacity-60",children:"Start Game"}),j&&w.jsx("button",{onClick:C,className:"rounded-lg border border-ashen-500 px-4 py-2 text-sm font-semibold text-ashen-100",children:"Reset to Lobby"})]}),j&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Game setup"}),w.jsxs("div",{className:"mt-2 flex gap-2",children:[w.jsx("button",{onClick:()=>K("classic"),className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${Y==="classic"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Classic"}),w.jsx("button",{onClick:()=>K("custom"),className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${Y==="custom"?"bg-ember text-slate-950":"border border-ashen-500 text-ashen-100"}`,children:"Custom"})]}),Y==="custom"&&w.jsxs("div",{className:"mt-3 space-y-2",children:[Ls.map(ht=>w.jsxs("div",{className:"flex items-center justify-between gap-2",children:[w.jsx("span",{className:"capitalize text-xs text-ashen-200",children:ht}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:()=>rt(ht,(st[ht]??0)-1),className:"rounded-md border border-ashen-500 px-2 py-1 text-xs text-ashen-100",children:"-"}),w.jsx("span",{className:"w-5 text-center text-xs text-ashen-100",children:st[ht]??0}),w.jsx("button",{onClick:()=>rt(ht,(st[ht]??0)+1),className:"rounded-md border border-ashen-500 px-2 py-1 text-xs text-ashen-100",children:"+"})]})]},ht)),w.jsxs("p",{className:"text-xs text-ashen-300",children:["Total roles: ",yt," / Players: ",qt.length]}),!Ot&&w.jsx("p",{className:"text-xs text-ember",children:"Custom setup must include at least 1 werewolf."}),!Ft&&w.jsx("p",{className:"text-xs text-ember",children:"Role total must match player count."})]})]})]})]}),w.jsxs("div",{className:"space-y-3",children:[E.status==="night"&&S?.isAlive&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Night actions"}),w.jsxs("p",{className:"mt-2",children:[S.role==="werewolf"&&(et?"Click a player in the grid to choose the werewolf target.":"Waiting for the Witch to act."),S.role==="bodyguard"&&(et?"Click a player in the grid to protect them. You cannot protect the same player as last night.":"Waiting for the Witch to act."),S.role==="bodyguard"&&et&&E.bodyguardLastProtectedId&&` Last protected: ${E.players[E.bodyguardLastProtectedId]?.name??"Unknown"}.`,S.role==="seer"&&(et?"Click a player in the grid to inspect them.":"Waiting for the Witch to act."),S.role==="witch"&&(et?"Wait for Werewolf, Bodyguard, and Seer to finish. You act next.":"Choose to heal the pending victim, poison a player, or pass."),S.role==="villager"&&"You have no night action.",S.role==="hunter"&&"You have no night action."]})]}),ft&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Witch turn"}),w.jsx("p",{className:"mt-2",children:bt?`Pending victim: ${bt}.`:"No pending victim tonight."}),hn&&w.jsxs("div",{className:"mt-3 space-y-2",children:[!E.witchState?.healUsed&&E.witchTurn?.pendingVictimId&&w.jsx("button",{onClick:()=>M("heal"),className:"rounded-lg bg-emerald-500/20 px-3 py-2 text-xs font-semibold text-emerald-200",children:"Use Heal Potion"}),!E.witchState?.poisonUsed&&w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-ashen-400",children:"Poison target:"}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:se.filter(ht=>ht.id!==m).map(ht=>w.jsx("button",{onClick:()=>M("poison",ht.id),className:"rounded-full bg-rose-500/20 px-3 py-1 text-xs text-rose-200",children:ht.name},ht.id))})]}),w.jsx("button",{onClick:()=>M("pass"),className:"rounded-lg border border-ashen-500 px-3 py-2 text-xs font-semibold text-ashen-100",children:"Pass"})]})]}),E.status==="day"&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[(q?.killedIds?.length??0)>0?w.jsxs("p",{children:["Dawn breaks."," ",q?.killedIds?.map(ht=>E.players[ht]?.name??"Someone").join(", ")," ",q?.killedIds?.length===1?"was":"were"," taken in the night."]}):q?.killedId?w.jsxs("p",{children:["Dawn breaks. ",E.players[q.killedId]?.name??"Someone"," was taken in the night."]}):w.jsx("p",{children:"No one was eliminated overnight."}),S?.role==="seer"&&q?.seerResult&&w.jsxs("p",{className:"mt-2 text-ashen-100",children:["Your vision: ",E.players[q.seerResult.targetId]?.name," is a"," ",q.seerResult.role,"."]})]}),E.status==="voting"&&S?.isAlive&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Voting"}),w.jsx("p",{className:"mt-2",children:"Click a player card in the grid to vote. Click your own card to skip."}),w.jsxs("div",{className:"mt-2 text-sm text-ashen-300",children:[Object.values(E.votes??{}).length," vote(s) cast."]})]}),E.status==="results"&&w.jsxs("div",{className:"rounded-xl border border-ashen-700 bg-ashen-800/70 p-3 text-sm text-ashen-200",children:[w.jsx("p",{className:"font-display text-xl text-ashen-100",children:E.winner==="villagers"?"Villagers win!":"Werewolves win!"}),w.jsx("p",{className:"mt-2",children:E.winReason})]}),Tn&&w.jsx("div",{className:"rounded-xl border border-ember/40 bg-ember/10 p-3 text-sm text-ashen-100",children:"Waiting for the Hunter's final shot..."}),Ut&&w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Hunter last shot"}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:se.filter(ht=>ht.id!==m).map(ht=>w.jsx("button",{onClick:()=>L(ht.id),className:"rounded-full bg-ember px-3 py-1 text-xs text-slate-950",children:ht.name},ht.id))}),w.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"You were eliminated. Choose one player to take with you."})]})]})]})}),w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-3 shadow-inky lg:flex lg:flex-1 lg:flex-col lg:min-h-0",children:[w.jsx("h3",{className:"font-display text-xl",children:"Chat"}),w.jsx("div",{className:"mt-2 flex flex-1 flex-col gap-3 overflow-y-auto rounded-xl border border-ashen-700 bg-ashen-800/70 p-3",children:on?.length?on.map(ht=>w.jsxs("div",{className:"text-sm text-ashen-200",children:[w.jsxs("span",{className:"text-ashen-400",children:[ht.senderName,":"]})," ",ht.message]},ht.id)):w.jsx("p",{className:"text-sm text-ashen-400",children:"No messages yet."})}),at&&!wt&&w.jsx("p",{className:"mt-2 text-xs text-ashen-400",children:"Night chat is for werewolves only."}),b&&w.jsx("p",{className:"mt-2 text-xs text-ember",children:b}),w.jsxs("div",{className:"mt-3 flex gap-2",children:[w.jsx("input",{value:i,onChange:ht=>s(ht.target.value),onKeyDown:ht=>{ht.key==="Enter"&&!ht.shiftKey&&(ht.preventDefault(),le&&i.trim()&&zi())},placeholder:"Say something...",disabled:!le,className:"flex-1 rounded-lg border border-ashen-600 bg-ashen-800/80 px-3 py-2 text-sm text-ashen-100 outline-none focus:border-ember disabled:opacity-50"}),w.jsx("button",{onClick:zi,disabled:!le,className:"rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950 disabled:opacity-60",children:"Send"})]})]}),w.jsxs("div",{className:"rounded-2xl border border-ashen-700 bg-ashen-900/70 p-4 lg:flex-none",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-ashen-400",children:"Roles in play"}),w.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-ashen-100",children:[Object.entries(qt.reduce((ht,fe)=>(fe.role&&(ht[fe.role]=(ht[fe.role]??0)+1),ht),{})).map(([ht,fe])=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("span",{className:"capitalize",children:[ht," x",fe]}),w.jsx("span",{className:"text-ashen-400",children:"Active"})]},ht)),E.status==="lobby"&&w.jsx("p",{className:"text-xs text-ashen-400",children:"Roles appear after the game starts."})]})]})]})]})]})]})}):w.jsx("div",{className:"min-h-screen bg-ashen text-slate-100",children:w.jsxs("div",{className:"mx-auto max-w-3xl px-6 py-20",children:[w.jsx("h2",{className:"font-display text-2xl",children:"Room not found"}),w.jsx("p",{className:"mt-2 text-ashen-200",children:"Create a new room or check the code."}),w.jsx("button",{onClick:()=>r("/"),className:"mt-6 rounded-lg bg-ember px-4 py-2 text-sm font-semibold text-slate-950",children:"Back to Lobby"})]})})}function Hx(){return w.jsx(Rx,{children:w.jsxs(Rb,{children:[w.jsx(pc,{path:"/",element:w.jsx(Cx,{})}),w.jsx(pc,{path:"/room/:code",element:w.jsx(kx,{})}),w.jsx(pc,{path:"*",element:w.jsx(Sb,{to:"/",replace:!0})})]})})}xT.createRoot(document.getElementById("app")).render(w.jsx(_T.StrictMode,{children:w.jsx($b,{children:w.jsx(Hx,{})})}));
